!function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";var r=t("../../client/ui/collection"),i=t("../models/email");e.exports=r.extend({model:i,comparator:function(t){return-1*t.get("id")}})},{"../../client/ui/collection":21,"../models/email":5}],2:[function(t,e,n){"use strict";var r=t("lodash"),i=t("../../client/ui/collection"),o=t("../models/user");e.exports=i.extend({model:o,comparator:function(t){return-1*t.get("id")},sync:function(t,e,n){var i=n.success||function(){},o=n.error||function(){},a=e.app,s=a.couch.db("_users"),u=function(t){o(null,null,t)};switch(t){case"read":s.allDocs({startkey:"org.couchdb.user:",endkey:"org.couchdb.user;",include_docs:!0}).then(function(t){i(r.pluck(t.rows,"doc"))},u)}}})},{"../../client/ui/collection":21,"../models/user":6,lodash:134}],3:[function(t,e,n){"use strict";var r=t("../client/couch"),i=t("../client/ui"),o=window.app=i({routePrefix:"_admin/",views:{index:t("./views/index"),signin:t("./views/signin"),users:t("./views/users"),config:t("./views/config"),emails:t("./views/emails"),header:t("./views/_header")},models:{user:t("./models/user"),config:t("./models/config"),email:t("./models/email")},collections:{users:t("./collections/users"),emails:t("./collections/emails")},templates:t("./templates").templates});o.couch=r("/_couch"),o.addRegion("header",{view:"header",prepend:!0,tagName:"header",className:"navbar navbar-inverse navbar-fixed-top"}),o.route("",o.requireAdmin(function(){o.showView("index")})),o.route("users",o.requireAdmin(function(){o.showView("users")})),o.route("config",o.requireAdmin(function(){o.showView("config")})),o.route("emails",o.requireAdmin(function(){o.showView("emails")})),o.route("signin",function(){o.account.isSignedIn()&&!o.account.isAdmin()?window.location.href="/":o.account.isSignedIn()?o.navigate("",{trigger:!0}):o.showView("signin")}),o.start()},{"../client/couch":15,"../client/ui":23,"./collections/emails":1,"./collections/users":2,"./models/config":4,"./models/email":5,"./models/user":6,"./templates":7,"./views/_header":8,"./views/config":9,"./views/emails":10,"./views/index":11,"./views/signin":12,"./views/users":13}],4:[function(t,e,n){"use strict";var r=t("../../client/ui/model");e.exports=r.extend({defaults:{id:"config"},sync:function(t,e,n){var r,i=n.success||function(){},o=n.error||function(){},a=e.toJSON(),s=e.app,u=s.couch.db("app"),c=function(t){o(null,null,t)};switch(t){case"read":u.get("config").then(function(t){return r=t,s.request("GET","/_oauth/available_providers")}).then(function(t){return r.oauth=r.oauth||{},r.oauth.providers=r.oauth.providers||{},r.oauth.providers=t.reduce(function(t,e){return t[e]=r.oauth.providers[e]||{enabled:!1},t},{}),r}).then(i,c);break;case"update":u.put(a).then(function(t){a._rev=t.rev,i(a)},c);break;default:o(null,null,new Error("Unsupported sync method"))}}})},{"../../client/ui/model":24}],5:[function(t,e,n){"use strict";var r=t("../../client/ui/model");e.exports=r.extend({defaults:function(){return{type:"email"}},db:"app"})},{"../../client/ui/model":24}],6:[function(t,e,n){"use strict";var r=t("../../client/ui/model");e.exports=r.extend({defaults:function(){return{type:"user"}},database:"_users"})},{"../../client/ui/model":24}],7:[function(t,e,n){Handlebars.registerPartial("email",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:{},s=n.helperMissing,u="function",c=t.escapeExpression;return'<div class="panel panel-default" data-id="'+c((o=null!=(o=n.id||(null!=e?e.id:e))?o:s,typeof o===u?o.call(a,{name:"id",hash:{},data:i}):o))+'">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+c((o=null!=(o=n.id||(null!=e?e.id:e))?o:s,typeof o===u?o.call(a,{name:"id",hash:{},data:i}):o))+'</h3>\n  </div>\n  <div class="panel-body">\n    <p>'+c((o=null!=(o=n.description||(null!=e?e.description:e))?o:s,typeof o===u?o.call(a,{name:"description",hash:{},data:i}):o))+'</p>\n    <div class="form-group">\n      <label for="subject">Subject</label>\n      <input type="text" class="form-control" id="subject" value="'+c((o=null!=(o=n.subject||(null!=e?e.subject:e))?o:s,typeof o===u?o.call(a,{name:"subject",hash:{},data:i}):o))+'">\n    </div>\n    <div class="form-group">\n      <label for="text">Text</label>\n      <textarea class="form-control" id="text" rows="8">'+c((o=null!=(o=n.text||(null!=e?e.text:e))?o:s,typeof o===u?o.call(a,{name:"text",hash:{},data:i}):o))+'</textarea>\n    </div>\n  </div>\n  <div class="panel-footer">\n    <button type="button" class="btn btn-primary" data-action="save-email">\n      '+c((n.glyphicon||e&&e.glyphicon||s).call(a,"save",{name:"glyphicon",hash:{},data:i}))+" Save\n    </button>\n  </div>\n</div>\n\n"},useData:!0})),this.templates=this.templates||{},this.templates.config=Handlebars.template({1:function(t,e,n,r,i){var o,a,s=null!=e?e:{},u=n.helperMissing,c="function",l=t.escapeExpression;return"      <fieldset>\n        <h2>"+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'</h2>\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-enabled"'+(null!=(o=n.if.call(s,null!=e?e.enabled:e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?o:"")+'> Enabled\n          </label>\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-key">Client ID</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-key" value="'+l((a=null!=(a=n.key||(null!=e?e.key:e))?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'" placeholder="Enter your '+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+' Client ID">\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-secret">Client Secret</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-secret" value="'+l((a=null!=(a=n.secret||(null!=e?e.secret:e))?a:u,typeof a===c?a.call(s,{name:"secret",hash:{},data:i}):a))+'" placeholder="Enter your '+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+' Client Secret">\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-scopes">Scopes</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-scopes" value="'+l((a=null!=(a=n.scopes||(null!=e?e.scopes:e))?a:u,typeof a===c?a.call(s,{name:"scopes",hash:{},data:i}):a))+'" placeholder="user:email, ...">\n        </div>\n      </fieldset>\n'},2:function(t,e,n,r,i){return"checked"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:{},s=n.helperMissing,u=t.escapeExpression,c=t.lambda;return'<h1 class="page-header">'+u((n.glyphicon||e&&e.glyphicon||s).call(a,"cog",{name:"glyphicon",hash:{},data:i}))+' Configuration</h1>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||e&&e.glyphicon||s).call(a,"globe",{name:"glyphicon",hash:{},data:i}))+' General</h3>\n  </div>\n  <div class="panel-body">\n    <form role="form" id="app-form">\n      <div class="form-group">\n        <label for="app-name">App name</label>\n        <input type="text" class="form-control" name="app-name"\n          id="app-name" value="'+u(c(null!=(o=null!=e?e.app:e)?o.name:o,e))+'">\n      </div>\n      <div class="form-group">\n        <label for="app-url">App URL</label>\n        <input type="text" class="form-control" name="app-url"\n          id="app-url" value="'+u(c(null!=(o=null!=e?e.app:e)?o.url:o,e))+'">\n      </div>\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||e&&e.glyphicon||s).call(a,"send",{name:"glyphicon",hash:{},data:i}))+' Outgoing Mail</h3>\n  </div>\n  <div class="panel-body">\n    <form role="form" id="mailer-form">\n      <div class="form-group">\n        <label for="mailer-from">From</label>\n        <input type="text" class="form-control" name="mailer-from"\n          id="mailer-from" value="'+u(c(null!=(o=null!=e?e.mailer:e)?o.from:o,e))+'">\n      </div>\n      <div class="form-group">\n        <label for="mailer-service">Service</label>\n        '+u((n.mailerServicePicker||e&&e.mailerServicePicker||s).call(a,null!=(o=null!=e?e.mailer:e)?o.service:o,{name:"mailerServicePicker",hash:{},data:i}))+'\n      </div>\n      <div class="form-group">\n        <label for="mailer-user">Username</label>\n        <input type="text" class="form-control" name="mailer-user"\n          id="mailer-user" value="'+u(c(null!=(o=null!=e?e.mailer:e)?o.user:o,e))+'">\n      </div>\n      <div class="form-group">\n        <label for="mailer-pass">Password</label>\n        <input type="password" class="form-control" name="mailer-pass"\n          id="mailer-pass" value="'+u(c(null!=(o=null!=e?e.mailer:e)?o.pass:o,e))+'">\n      </div>\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||e&&e.glyphicon||s).call(a,"lock",{name:"glyphicon",hash:{},data:i}))+' OAuth</h3>\n  </div>\n  <div class="panel-body">\n\n    <form role="form" id="oauth-form">\n'+(null!=(o=n.each.call(a,null!=(o=null!=e?e.oauth:e)?o.providers:o,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+'\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n'},useData:!0}),this.templates.emails=Handlebars.template({1:function(t,e,n,r,i){var o;return null!=(o=t.invokePartial(r.email,e,{name:"email",data:i,helpers:n,partials:r,decorators:t.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return'<h1 class="page-header">Email Templates</h1>\n\n'+(null!=(o=n.each.call(null!=e?e:{},null!=e?e.models:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")},usePartial:!0,useData:!0}),this.templates.header=Handlebars.template({1:function(t,e,n,r,i){return'  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu">\n    <span class="sr-only">Toggle navigation</span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n  </button>\n'},3:function(t,e,n,r,i){var o=null!=e?e:{},a=n.helperMissing,s=t.escapeExpression;return'<div class="collapse navbar-collapse" id="main-menu">\n  <ul class="nav navbar-nav">\n    <li><a href="/users">'+s((n.glyphicon||e&&e.glyphicon||a).call(o,"user",{name:"glyphicon",hash:{},data:i}))+' Users</a></li>\n    <li><a href="/config">'+s((n.glyphicon||e&&e.glyphicon||a).call(o,"cog",{name:"glyphicon",hash:{},data:i}))+' Configuration</a></li>\n    <li><a href="/emails">'+s((n.glyphicon||e&&e.glyphicon||a).call(o,"envelope",{name:"glyphicon",hash:{},data:i}))+' Mail templates</a></li>\n    <li class="divider"></li>\n    <li><a href="#" data-action="signout">'+s((n.glyphicon||e&&e.glyphicon||a).call(o,"log-out",{name:"glyphicon",hash:{},data:i}))+" Sign Out</a></li>\n  </ul>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:{};return'<div class="navbar-header">\n'+(null!=(o=n.if.call(a,null!=(o=null!=e?e.userCtx:e)?o.name:o,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+'  <a class="navbar-brand" href="/">\n    <img src="favicons/favicon-32x32.png" width="24" />\n    Capot Admin\n  </a>\n</div>\n\n'+(null!=(o=n.if.call(a,null!=(o=null!=e?e.userCtx:e)?o.name:o,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?o:"")+"\n"},useData:!0}),this.templates.index=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=t.escapeExpression,s=t.lambda;return'<h1 class="page-header">Hi Admin!</h1>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+a((n.glyphicon||e&&e.glyphicon||n.helperMissing).call(null!=e?e:{},"info-sign",{name:"glyphicon",hash:{},data:i}))+' App Info</h3>\n  </div>\n  <div class="panel-body">\n    <h4>Capot</h4>\n    <p>\n      <strong>Version</strong>: '+a(s(null!=(o=null!=e?e.capot:e)?o.version:o,e))+"<br />\n    </p>\n    <h4>CouchDB</h4>\n    <p>\n      <strong>Version</strong>: "+a(s(null!=(o=null!=e?e.couchdb:e)?o.version:o,e))+"<br />\n      <strong>UUID</strong>: "+a(s(null!=(o=null!=e?e.couchdb:e)?o.uuid:o,e))+"<br />\n      <strong>Vendor</strong>: "+a(s(null!=(o=null!=(o=null!=e?e.couchdb:e)?o.vendor:o)?o.name:o,e))+" "+a(s(null!=(o=null!=(o=null!=e?e.couchdb:e)?o.vendor:o)?o.version:o,e))+"\n    </p>\n  </div>\n</div>\n\n"},useData:!0}),this.templates.signin=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){return'<form id="signin-form">\n  <div class="form-group">\n    <label for="pass">Admin Password</label>\n    <input type="password" class="form-control" id="pass" />\n  </div>\n  <button type="submit" class="btn btn-default">Sign in</button>\n</form>\n'},useData:!0}),this.templates.users=Handlebars.template({1:function(t,e,n,r,i){var o;return"  <tr>\n    <td>"+t.escapeExpression((o=null!=(o=n.name||(null!=e?e.name:e))?o:n.helperMissing,"function"==typeof o?o.call(null!=e?e:{},{name:"name",hash:{},data:i}):o))+"</td>\n  </tr>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:{};return'<h1 class="page-header">'+t.escapeExpression((n.glyphicon||e&&e.glyphicon||n.helperMissing).call(a,"user",{name:"glyphicon",hash:{},data:i}))+' Users</h1>\n\n<table class="table table-striped table-hover">\n'+(null!=(o=n.each.call(a,null!=e?e.models:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+"</table>\n\n"},useData:!0})},{}],8:[function(t,e,n){"use strict";var r=t("../../client/ui/view");e.exports=r.extend({className:"container",templateName:"header",initialize:function(t){var e=this,n=t.app,i=n.account;r.prototype.initialize.call(e,t);var o=function(){e.model=i.session,e.render()};i.on("init",o),i.on("signin",o),i.on("signout",o),i.on("online",o),i.on("offline",o),n.on("route",function(t){e.$("#main-menu a").each(function(){var e=$(this),n=e.attr("href");"/"===n.charAt(0)&&(n=n.slice(1)),n===t?e.parents("li").addClass("active"):e.parents("li").removeClass("active")})})},events:{'click [data-action="signout"]':"signout"},signout:function(){var t=this.app;return t.account.signOut().then(function(){window.location.href="/"},function(){console.error("signout:fail",arguments)}),!1}})},{"../../client/ui/view":26}],9:[function(t,e,n){"use strict";var r=t("lodash"),i=t("../../client/ui/view"),o=window.Handlebars;o.registerHelper("mailerServicePicker",function(t){var e='<select name="mailer-service" id="mailer-service" class="form-control">';return["Gmail","Mailgun","Mandrill","Postmark","SendGrid"].forEach(function(n){e+='<option name="'+n+'"',n===t&&(e+=" selected"),e+=">"+n+"</option>"}),e+="</select>",new o.SafeString(e)}),e.exports=i.extend({className:"container",templateName:"config",initialize:function(t){var e=this;i.prototype.initialize.call(e,t);var n=e.app,r=e.model=n.createModel("config");r.once("sync",function(){e.render()}),r.fetch()},events:{"submit #app-form":"save","submit #mailer-form":"save","submit #oauth-form":"save"},save:function(t){t.preventDefault();var e=this,n=e.model,i={name:e.$("#app-name").val(),url:e.$("#app-url").val()},o={from:e.$("#mailer-from").val(),service:e.$("#mailer-service").val(),user:e.$("#mailer-user").val(),pass:e.$("#mailer-pass").val()},a=n.get("oauth");return a.providers=Object.keys(a.providers).reduce(function(t,e){return t[e]={enabled:$("#"+e+"-enabled").is(":checked"),key:$("#"+e+"-key").val(),secret:$("#"+e+"-secret").val(),scopes:$("#"+e+"-scopes").val().split(",").map(function(t){return r.trim(t.toLowerCase())})},t},{}),n.save({app:i,mailer:o,oauth:a},{error:function(t){alert(t.reason||t.message)},success:function(){alert("Config updated!")}}),!1}})},{"../../client/ui/view":26,lodash:134}],10:[function(t,e,n){"use strict";var r=t("../../client/ui/view");e.exports=r.extend({className:"container",templateName:"emails",initialize:function(t){var e=this,n=t.app;r.prototype.initialize.call(e,t);var i=e.model=n.createCollection("emails"),o=Handlebars.partials.email;i.on("change",function(t){var n=o(t.toViewContext());e.$('[data-id="'+t.id+'"]').replaceWith(n)}),i.once("sync",function(){e.render()}),i.fetch()},events:{'click [data-action="save-email"]':"saveEmail"},saveEmail:function(t){var e=$(t.currentTarget),n=e.parents(".panel"),r=n.find("textarea"),i=n.data("id"),o=r.val(),a=this.model.get(i);a.save({text:o})}})},{"../../client/ui/view":26}],11:[function(t,e,n){"use strict";var r=t("../../client/ui/view"),i=t("../../package.json");e.exports=r.extend({className:"container",templateName:"index",initialize:function(t){var e=this,n=t.app;r.prototype.initialize.call(e,t),n.couch.get("/").then(function(t){e.model={capot:i,couchdb:t},e.render()})}})},{"../../client/ui/view":26,"../../package.json":149}],12:[function(t,e,n){"use strict";var r=t("../../client/ui/view"),i=t("../../client/couch");e.exports=r.extend({className:"container",templateName:"signin",initialize:function(t){r.prototype.initialize.call(this,t),this.render()},events:{"submit #signin-form":"submit"},submit:function(t){t.preventDefault();var e={name:"admin",password:$("#pass").val()};return i("/_couch").post("/_session",e).then(function(t){window.location.href="/_admin/"},function(t){alert(t.reason)}),!1}})},{"../../client/couch":15,"../../client/ui/view":26}],13:[function(t,e,n){"use strict";var r=t("../../client/ui/view");e.exports=r.extend({className:"container",templateName:"users",initialize:function(t){var e=this;r.prototype.initialize.call(e,t);var n=e.app,i=e.model=n.createCollection("users");i.once("sync",function(){e.render()}),i.fetch()}})},{"../../client/ui/view":26}],14:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=t("promise"),o={};o.couch=t("./couch")("/_couch"),o.userDocUrl=function(t){return"/_users/"+encodeURIComponent("org.couchdb.user:"+t)},o.getState=function(){return JSON.parse(window.localStorage.getItem("__capot_session"))},o.setState=function(t){window.localStorage.setItem("__capot_session",JSON.stringify(t))},e.exports=function(t){var e=new r,n=!1;e.id=function(){var t=((e.session||{}).userCtx||{}).roles||[];return t.reduce(function(t,e){var n=/^capot:write:user\/([a-z0-9]+)$/.exec(e);return n&&n[1]?n[1]:t},null)},e.signUp=function(n,r){return new i(function(i,o){var a=function(){t.request("POST","/_session",{email:n,password:r}).then(function(t){return t.roles.length?void e.init().then(i,o):setTimeout(a,1e3)},o)};return r.length<8?o(new Error("Password must be at least 8 chars long")):void t.request("POST","/_users",{email:n,password:r}).then(function(){setTimeout(a,300)},o)})},e.signIn=function(n,r){if(!n||"string"!=typeof n)throw new TypeError("Email must be a string");if(!r||"string"!=typeof r)throw new TypeError("Password must be a string");return t.request("POST","/_session",{email:n,password:r}).then(function(){return e.init()})},e.signOut=function(){return t.request("DELETE","/_session").then(function(){return e.init()})},e.changePassword=function(n,r){if(!n||"string"!=typeof n)throw new TypeError("Password must be a string");if(!r||"string"!=typeof r)throw new TypeError("New password must be a string");var a=e.session.userCtx.name,s=o.userDocUrl(a);return a?r.length<8?new i(function(t,e){e(new Error("Password must be at least 8 chars long"))}):t.request("POST","/_session",{email:a,password:n}).then(function(){return o.couch.get(s)}).then(function(t){return t.password=r,o.couch.put(s,t)}).then(function(){return e.signIn(a,r)}):new i(function(t,e){e(new Error("User is not signed in"))})},e.changeUsername=function(t,e){throw new Error("FIXME: Unimplented!")},e.resetPassword=function(e){return t.request("POST","/_users/"+e+"/_reset",{email:e,baseurl:window.location.origin})},e.destroy=function(){var n=e.session.userCtx.name,r="/_users/"+encodeURIComponent(n);return t.request("GET",r).then(function(e){return t.request("DELETE",r+"?rev="+e._rev)}).then(function(){return e.init()})},e.isSignedIn=function(){var t=(e.session||{}).userCtx||{};return"string"==typeof t.name&&t.name.length>0},e.isAdmin=function(){var t=(e.session||{}).userCtx||{};return t.roles&&t.roles.indexOf("_admin")>=0},e.isOnline=function(){return e.session&&e.session.isOnline},e.isOffline=function(){return!e.isOnline()},e.init=function(r){n?t.log("debug","refreshing account..."):t.log("debug","initializing account..."),r=r||function(){};var a=e.isOnline(),s=e.isSignedIn();return new i(function(i,u){var c=function(){o.setState(e.session),n?a&&e.isOffline()?e.emit("offline"):!a&&e.isOnline()?e.emit("online"):!s&&e.isSignedIn()?e.emit("signin"):s&&!e.isSignedIn()&&e.emit("signout"):(n=!0,e.emit("init"),window.setInterval(e.init.bind(e),3e4)),i(),r()};t.request("GET","/_session").then(function(t){e.session=t,e.session.isOnline=!0,c()},function(n){n&&t.log("error",n),e.session=o.getState()||{},e.session.isOnline=!1,c()})})},e.connectWith=function(e,n){n=n||{};var r="/_oauth/"+e;return n.redirectTo&&(r+="?redirectTo="+encodeURIComponent(n.redirectTo)),new i(function(e,n){t.request("GET",r).then(function(t){window.location.href=t.authenticateUrl},n)})},e.on("init",function(){t.request("GET","/_oauth/session").then(function(t){if("object"==typeof t.data)return t.data.cookie?void e.init().then(function(){e.emit("oauth",t)}):e.emit("oauth",t)},function(e){e&&t.log("error",e),401!==xhr.status&&t.log("error","Status: "+xhr.status+"\n"+xhr.responseText)})});var a=function(e){return function(){t.log("debug","account:"+e,Array.prototype.slice.call(arguments,0))}};return t.settings.debug===!0&&["init","signin","signout","offline","online"].forEach(function(t){e.on(t,a(t))}),e}},{"./couch":15,events:33,promise:140}],15:[function(t,e,n){"use strict";var r=t("pouchdb"),i=t("./request"),o={};o.createApi=function(t){var e=i(t);return{get:e.bind(null,"GET"),post:e.bind(null,"POST"),put:e.bind(null,"PUT"),del:e.bind(null,"DELETE")}},e.exports=function(t){"string"==typeof t&&(t={url:t}),/^https?:\/\//.test(t.url)||("/"===t.url.charAt(0)&&(t.url=t.url.slice(1)),t.url=window.location.origin+"/"+t.url);var e=o.createApi(t);return e.db=function(e){return new r(t.url+"/"+encodeURIComponent(e))},e.isAdminParty=function(t){e.get("/_users/_all_docs",function(e,n){e&&401===e.statusCode?t(null,!1):e?t(e):t(null,!0)})},e}},{"./request":18,pouchdb:138}],16:[function(t,e,n){"use strict";var r=t("extend"),i=t("async"),o=t("pouchdb"),a=t("./request"),s=t("./uid"),u=t("./log"),c=t("./account"),l=t("./store"),f={};f.noop=function(){},f.defaults={debug:!1},e.exports=function(t){var e=r({},f.defaults,t),n={settings:e,request:a({url:window.location.origin}),uid:s,log:u(e)},h=n.account=c(n),d=n.store=l(n);return n.log("debug","Dependencies: jQuery "+jQuery.fn.jquery+", PouchDB "+o.version),n.start=function(t){t=t||f.noop,n.log("debug","Starting capot client..."),i.applyEachSeries([i.apply(h.init),i.apply(d.init)],function(e){n.log("info",e||"Capot client successfully started"),t(e)})},n}},{"./account":14,"./log":17,"./request":18,"./store":19,"./uid":27,async:30,extend:122,pouchdb:138}],17:[function(t,e,n){"use strict";var r={};r.pad=function(t,e,n){var r=""+t;"number"!=typeof e&&(e=2),"undefined"==typeof n&&(n="0");var i=e-r.length;if(i<=0)return r;for(var o=0;o<i;++o)r=n+r;return r},r.formatDate=function(t){return[r.pad(t.getHours()),r.pad(t.getMinutes()),r.pad(t.getSeconds()),r.pad(t.getMilliseconds(),3)].join(":")},e.exports=function(t){return function(e){if("undefined"!=typeof console&&"function"==typeof console.log&&("string"==typeof e&&(e=[e]),t.debug||!(e.indexOf("debug")>=0))){var n=Array.prototype.slice.call(arguments,1);1===n.length&&(n=n[0]),"undefined"!=typeof window.console&&"function"==typeof window.console.log&&console.log(r.formatDate(new Date),e,n)}}}},{}],18:[function(t,e,n){"use strict";var r=t("promise");e.exports=function(t){return function(){var e=Array.prototype.slice.call(arguments,0),n=e.shift(),i=e.shift();return"/"!==i.charAt(0)&&(i="/"+i),new r(function(r,o){var a={type:n,url:t.url+i,dataType:"json",timeout:6e4,cache:!1,error:function(t){var e,n;0===t.status?e="Request timed out":t.responseJSON&&t.responseJSON.error?(e=t.responseJSON.error,n=t.responseJSON.reason):e=t.statusText;var r=new Error(e);r.statusCode=t.status,n&&(r.reason=n),o(r)},success:r};if(t.user&&t.pass&&(a.username=t.user,a.password=t.pass),["PUT","POST"].indexOf(n)>=0){var s=e.pop();s&&(a.data=JSON.stringify(s),a.contentType="application/json")}if(e.length){var u=e.shift(),c=Object.keys(u);a.url+=c.reduce(function(t,e){var n=JSON.stringify(u[e]);return t&&(t+="&"),t+encodeURIComponent(e)+"="+encodeURIComponent(n)},"?")}$.ajax(a)})}}},{promise:140}],19:[function(t,e,n){"use strict";var r=t("events").EventEmitter,i=t("promise"),o=t("pouchdb"),a=t("extend"),s=t("omit"),u=t("async"),c={};c.noop=function(){},c.assertDocType=function(t){if("string"!=typeof t)throw new Error("Model type must be a string")},c.parse=function(t){var e=t._id.split("/");return a({id:e.slice(1).join("/"),type:e[0]},s(t,["_id"]))},c.toJSON=function(t){return a({_id:t.type+"/"+t.id},s(t,["id"]))},e.exports=function(t){var e=t.account,n=new r,l=function(t,e){n.emit("sync",t,e),n.emit("sync:"+t,e)};n.sync=function(e){return e=e||c.noop,!n.remoteUrl||t.account.isOffline()?e():void n.remote.sync(n.local,{filter:function(t){return 0!==t._id.indexOf("_design")&&t.$replicate!==!1}}).on("error",l.bind(null,"error")).on("denied",function(t){console.error("sync denied",t)}).on("paused",l.bind(null,"paused")).on("active",l.bind(null,"active")).on("change",l.bind(null,"change")).on("complete",function(t){n.lastSync=t.push.end_time,t.pull.end_time>n.lastSync&&(n.lastSync=t.pull.end_time),l("complete",t),e()})},n.find=function(t,e,r){return c.assertDocType(t),r=r||{},new i(function(i,o){n.local.get(t+"/"+e).then(function(t){var e=c.parse(t);return r.attachments&&t._attachments?void n.getAttachments(t).then(function(t){e._attachments=t,i(e)}):i(e)},o)})},n.findAll=function(t,e){return c.assertDocType(t),e=e||{},new i(function(r,i){n.local.allDocs({include_docs:!0,startkey:t+"/",endkey:t+"0"}).then(function(t){var o=t.rows.map(function(t){return c.parse(t.doc)});return e.attachments?void u.each(o,function(t,e){n.getAttachments(t).then(function(n){t._attachments=n,e()},e)},function(t){return t?i(t):void r(o)}):r(o)},i)})},n.add=function(e,r){c.assertDocType(e);var o=r._attachments||{},l=Object.keys(o),f={},h=l.reduce(function(t,e){var n=o[e];return n instanceof File?f[k]=n:t[k]=n,t},{}),d=a({},s(r,["_attachments"]),{_id:e+"/"+t.uid(),createdAt:new Date,type:e});return Object.keys(h).length&&(d._attachments=h),new i(function(t,e){var r=n.local;r.put(d).then(function(n){d._rev=n.rev;var i=Object.keys(f);return i.length?void u.eachSeries(i,function(t,e){var n=d._id,i=d._rev,o=f[t],a=o.type;r.putAttachment(n,t,i,o,a,function(t,n){return t?e(t):(d._rev=n.rev,void e())})},function(n){return n?e(n):void t(c.parse(d))}):t(c.parse(d))},e)})},n.update=function(t,e,n){c.assertDocType(t)},n.remove=function(t,e){return n.find(t,e).then(function(t){return n.local.put({_deleted:!0},c.toJSON(t)._id,t._rev)})},n.removeAll=function(t){return n.findAll(t).then(function(t){var e=t.map(function(t){var e=c.toJSON(t);return e._deleted=!0,e});return n.local.bulkDocs(e)})},n.attach=function(t,e,n,r){},n.getAttachments=function(t){var e=c.toJSON(t)._id,r=t._attachments||{},o=Object.keys(r);return new i(function(t,i){return o.length?void u.each(o,function(t,i){n.local.getAttachment(e,t,function(e,n){return e?i(e):(r[t].data=n,void i())})},function(e){return e?i(e):void t(r)}):t([])})},n.init=function(r){t.log("debug","capot.store init start"),r=r||c.noop;var i=e.id()||"__capot_anon";n.local=new o(i,{auto_compaction:!0});var a=function(){var e=n.local.changes({since:"now",live:!0,include_docs:!0});e.on("change",function(t){var e=c.parse(t.doc),r=e.type;if(r){var i=function(t){n.emit(t,e,{local:!0}),n.emit(t+":"+r,e,{local:!0})};i(t.deleted||e._deleted?"remove":/^1-/.test(e._rev)?"add":"update"),i("change"),n.sync()}}),t.log("debug","capot.store init ok"),n.emit("init"),r()};e.isSignedIn()&&!e.isAdmin()?(n.remoteUrl=window.location.origin+"/_couch/"+encodeURIComponent("user/"+i),n.remote=new o(n.remoteUrl),n.sync(a)):a()},["signin","signout"].forEach(function(t){e.on(t,n.init.bind(n))});var f=function(e){return function(){t.log("debug","store:"+e,Array.prototype.slice.call(arguments,0))}};return t.settings.debug===!0&&["init","add","update","remove","change","sync"].forEach(function(t){n.on(t,f(t))}),n}},{async:30,events:33,extend:122,omit:135,pouchdb:138,promise:140}],20:[function(t,e,n){"use strict";var r=t("lodash"),i=t("backbone");e.exports=i.View.extend({el:"body",regions:{},events:{"click a":"overrideLink"},initialize:function(t){t=t||{},i.View.prototype.initialize.call(this,t),this.options=t,this.addRegion("main",{view:null,prepend:!0}),this.addRegion("notifications",{view:null}),$("html").removeClass("no-js")},addRegion:function(t,e){var n=r.extend({id:t},e||{});if(!n.$el){var i=e.tagName||"div";n.$el=$("<"+i+' id="'+n.id+'">'),e.className&&n.$el.addClass(e.className)}if(n.$el.attr("data-app-region",t),"main"===t)this.$el.prepend(n.$el);else{var o=n.prepend?"before":"after";this.regions.main.$el[o](n.$el)}this.regions[t]=n,n.view&&this.setRegionView(t,n.view)},setRegionView:function(t,e){var n=this.regions[t],r=n.$el[0];if(!n)throw new Error("Unknown region: "+t);if(!e)throw new Error("No view passed to AppView.setRegionView()");"string"==typeof e&&(e=this.model.createView(e)),e.$el&&!$.contains(r,e.$el)&&n.$el.html(e.$el),n.view=e,this.trigger("region:view",n)},overrideLink:function(t){var e=this.model,n=$(t.currentTarget).attr("href"),i=n.substr(1);if("#"!==n.charAt(0)){var o=r.find(r.keys(e.routes),function(t){return e._routeToRegExp(t).test(i)});"string"==typeof o&&(t.preventDefault(),e.navigate(i,{trigger:!0}))}}})},{backbone:31,lodash:134}],21:[function(t,e,n){"use strict";var r=t("backbone"),i=t("./model"),o=t("lodash"),a={};a.remoteSync=function(t,e,n,r){var i=t.app,a=i.account,s=e.db||"user/"+a.id(),u="/_couch/"+encodeURIComponent(s),c=n+(r.idStartsWith?"/"+r.idStartsWith:""),l={include_docs:!0,startkey:c+(r.descending?"0":"/"),endkey:c+(r.descending?"/":"0")};return o.each(["limit","start","descending"],function(t){r[t]&&(l[t]=r[t])}),i.request("GET",u+"/_all_docs",l).then(function(t){return o.map(t.rows,function(t){var e=t.doc,n=e._id.split("/");return e.id=n.slice(1).join("/"),delete e._id,e})})},a.localSync=function(t,e,n){return t.app.store.findAll(n)},e.exports=r.Collection.extend({model:i,initialize:function(t,e){this.app=e.app,r.Collection.prototype.initialize.call(this,t,e)},comparator:function(t){return-1*t.get("createdAt")},toViewContext:function(){return{models:this.map(function(t){return t.toViewContext?t.toViewContext():t})}},sync:function(t,e,n){
var r=n.success||function(){},i=n.error||function(){},o=new e.model,s=o.get("type");"read"!==t&&i(null,null,new Error("Sync method not supported"));var u=o.remote||o.db?a.remoteSync:a.localSync;u(e,o,s,n).then(r,function(t){i(null,null,t)})}})},{"./model":24,backbone:31,lodash:134}],22:[function(t,e,n){"use strict";var r=t("moment"),i=window.Handlebars;i.registerHelper("log",function(t){var e=Array.prototype.slice.call(arguments,0,arguments.length-1);console.log.apply(console,e)}),i.registerHelper("formatDate",function(t,e){return 2===arguments.length&&(e="lll"),new i.SafeString(r(t).format(e))}),i.registerHelper("fromNow",function(t){return new i.SafeString(r(t).fromNow())}),i.registerHelper("glyphicon",function(t){var e='<span class="glyphicon glyphicon-'+t+'"> </span>';return new i.SafeString(e)})},{moment:137}],23:[function(t,e,n){"use strict";var r=window.jQuery||window.$,i=window.Backbone=t("backbone");window.Handlebars=t("handlebars"),i.$=r;var o=t("./router");e.exports=function(t){return new o(t)}},{"./router":25,backbone:31,handlebars:52}],24:[function(t,e,n){"use strict";var r=t("lodash"),i=t("backbone"),o=t("moment"),a={};a.isISODateString=function(t){var e=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;return"string"==typeof t&&e.test(t)},a.remoteSync=function(t,e){return void console.log("oh my god!")},a.localSync=function(t,e){var n=e.get("type"),r=(e.app||e.collection.app).store;if("create"===t)return r.add(n,e.toJSON());if("read"===t)return r.find(n,e.id);if("update"!==t){if("delete"===t)return r.remove(n,e.id);throw new Error("Unsupported model sync method")}},e.exports=i.Model.extend({db:null,replicate:!0,remote:!1,initialize:function(t,e){i.Model.prototype.initialize.call(this,t,e),e&&e.app&&(this.app=e.app)},toViewContext:function(){return r.extend({},this.attributes)},parse:function(t){return r.reduce(t,function(t,e,n){return"$replicate"===n?t:(t[n]=a.isISODateString(e)?o(e).toDate():e,t)},{})},toJSON:function(){return r.extend({},this.attributes,{$replicate:this.replicate!==!1})},sync:function(t,e,n){var r=n.success||function(){},i=n.error||function(){},o=this.remote||this.db?a.remoteSync:a.localSync;o(t,e).then(r,function(t){i(null,null,t)})}})},{backbone:31,lodash:134,moment:137}],25:[function(t,e,n){"use strict";var r=t("lodash"),i=t("backbone"),o=t("./app-view"),a=t("./view"),s={};s.getProp=function(t,e){if(!e)return t;var n=e.split("/"),i=n.shift();return t&&t.hasOwnProperty(i)?r.isObject(t[i])?s.getProp(t[i],n.join("/")):t[i]:null};var u=["routePrefix","collections","models","views","templates"];e.exports=i.Router.extend({routePrefix:"",collections:{},models:{},views:{},templates:null,initialize:function(e){var n=this,a=e.capot||t("../")(r.omit(e,u)),s=a.start.bind(a);a.log("debug","Dependencies: Lodash: "+r.VERSION+", Backbone "+i.VERSION+", Handlebars: "+Handlebars.VERSION),i.Router.prototype.initialize.call(n,e),u.forEach(function(t){"undefined"!=typeof e[t]&&(n[t]=e[t])}),r.extend(n,a,{view:new o({model:n}),start:function(){s(function(t){if(t)throw t;i.history.start({pushState:!0})})}}),n.routes||(n.routes={}),n.view.on("region:view",function(t){$("html").attr("class",t.view.templateName)})},route:function(t,e,n){var r=this.routePrefix||"";return 2===arguments.length&&(n=e,e=t),this.routes[t]=n,i.Router.prototype.route.call(this,r+t,e,n)},navigate:function(t,e){var n=this.routePrefix||"";return i.Router.prototype.navigate.call(this,n+t,e)},addRegion:function(t,e){this.view.addRegion(t,e)},setMainView:function(t){var e=(this.view.regions.main||{}).view;e&&e.unsubscribeFromGlobalEvents&&e.unsubscribeFromGlobalEvents(),this.view.setRegionView("main",t),t.subscribeToGlobalEvents()},showView:function(t,e){var n;if(r.isFunction(t)&&t instanceof a)n=t;else if(r.isString(t)&&(n=s.getProp(this.views,t),!n))throw new Error('Unknown view: "'+t+'"');var i=new n(r.extend({app:this},e));return this.setMainView(i),i},showTemplate:function(t){var e=a.extend({templateName:t}),n=new e({app:this});this.setMainView(n),n.render()},requireCondition:function(t,e,n){var r=this;return function(){return t()?void n.apply(this,Array.prototype.slice.call(arguments,0)):r.navigate(e,{trigger:!0})}},requireSignIn:function(t,e){var n=this;return 1===arguments.length&&(e=t,t="signin"),n.requireCondition(function(){return n.account.isSignedIn()},t,e)},requireSignOut:function(t,e){var n=this;return 1===arguments.length&&(e=t,t="dashboard"),n.requireCondition(function(){return n.account.isSignedIn()!==!0},t,e)},requireAdmin:function(t,e){var n=this;return 1===arguments.length&&(e=t,t="signin"),n.requireCondition(function(){return n.account.isAdmin()},t,e)},createView:function(t,e){var n=this.views[t];return new n(r.extend({},e,{app:this}))},createCollection:function(t,e,n){var i=this.collections[t];return new i(e,r.extend({},n,{app:this}))},createModel:function(t,e,n){var i=this.models[t];return new i(e,r.extend({},n,{app:this}))}})},{"../":16,"./app-view":20,"./view":26,backbone:31,lodash:134}],26:[function(t,e,n){"use strict";var r=t("lodash"),i=t("backbone");t("./helpers");var o={};o.getProp=function(t,e){if(!e)return t;var n=e.split("/"),i=n.shift();return t&&t.hasOwnProperty(i)?r.isObject(t[i])?o.getProp(t[i],n.join("/")):t[i]:null},e.exports=i.View.extend({templateName:null,template:null,locals:{},initialize:function(t){i.View.prototype.initialize.call(this,t),this.app=t.app,this.render=r.debounce(this.render,100),this.locals=r.extend(this.locals,t.locals||{})},render:function(t){var e=this.templateName,n=this.app;if(e){var i=o.getProp(n.templates,e);return r.isFunction(i)?(t=t||this.model||{},r.isFunction(t.toViewContext)?t=t.toViewContext():t.attributes?t=t.attributes:r.isArray(t)&&(t={models:r.map(t,function(t){return t.toViewContext?t.toViewContext():t})}),this.$el.html($.trim(i(r.extend({},this.locals,t)))),this.trigger("render"),this):(n.log("error","Template "+e+" not loaded!"),this)}},back:function(t){t.preventDefault(),t.stopPropagation(),window.history.back()},subscribeToGlobalEvents:function(){var t=this;r.each(t._getGlobalEventsHandlers(t.cid),function(t){t.src.on(t.name,t.fn),console.log("View subscribing to global event "+t.name)})},unsubscribeFromGlobalEvents:function(){r.each(this._getGlobalEventsHandlers(this.cid),function(t){t.src.removeListener(t.name,t.fn),console.log("View unsubscribing from global event "+t.name)})},_getGlobalEventsHandlers:r.memoize(function(){var t=this;return r.reduce(t.globalEvents,function(e,n,i){var o=i.split(" "),a=o[0],s=t[n],u={name:o[1]};if(r.isFunction(s))return u.fn=s.bind(t),"account"===a?(u.src=t.app.account,e.push(u)):"store"===a?(u.src=t.app.store,e.push(u)):"task"===a&&(u.src=t.app.task,e.push(u)),e},[])})})},{"./helpers":22,backbone:31,lodash:134}],27:[function(t,e,n){"use strict";var r={chars:"0123456789abcdefghijklmnopqrstuvwxyz".split("")};e.exports=function(t){var e="",n=r.chars.length;void 0===t&&(t=7);for(var i=0;i<t;++i){var o=Math.random()*n,a=r.chars[Math.floor(o)];e+=String(a).charAt(0)}return e}},{}],28:[function(t,e,n){"use strict";function r(){if(u.length)throw u.shift()}function i(t){var e;e=s.length?s.pop():new o,e.task=t,a(e)}function o(){this.task=null}var a=t("./raw"),s=[],u=[],c=a.makeRequestCallFromTimer(r);e.exports=i,o.prototype.call=function(){try{this.task.call()}catch(t){i.onerror?i.onerror(t):(u.push(t),c())}finally{this.task=null,s[s.length]=this}}},{"./raw":29}],29:[function(t,e,n){(function(t){"use strict";function n(t){s.length||(a(),u=!0),s[s.length]=t}function r(){for(;c<s.length;){var t=c;if(c+=1,s[t].call(),c>l){for(var e=0,n=s.length-c;e<n;e++)s[e]=s[e+c];s.length-=c,c=0}}s.length=0,c=0,u=!1}function i(t){var e=1,n=new f(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function o(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}e.exports=n;var a,s=[],u=!1,c=0,l=1024,f=t.MutationObserver||t.WebKitMutationObserver;a="function"==typeof f?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(t,e,n){(function(t,r){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.async=t.async||{})}(this,function(e){"use strict";function n(t,e,n){var r=n.length;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){var e=i(t)?he.call(t):"";return e==ce||e==le}function a(t){return!!t&&"object"==typeof t}function s(t){return"symbol"==typeof t||a(t)&&ve.call(t)==de}function u(t){if("number"==typeof t)return t;if(s(t))return me;if(i(t)){var e=o(t.valueOf)?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ge,"");var n=ye.test(t);return n||be.test(t)?we(t.slice(2),n?2:8):_e.test(t)?me:+t}function c(t){if(!t)return 0===t?t:0;if(t=u(t),t===xe||t===-xe){var e=t<0?-1:1;return e*ke}return t===t?t:0}function l(t){var e=c(t),n=e%1;return e===e?n?e-n:e:0}function f(t,e){if("function"!=typeof t)throw new TypeError(Se);return e=Ee(void 0===e?t.length-1:l(e),0),function(){for(var r=arguments,i=-1,o=Ee(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,r[0],a);case 2:return t.call(this,r[0],r[1],a)}var s=Array(e+1);for(i=-1;++i<e;)s[i]=r[i];return s[e]=a,n(t,this,s)}}function h(t){return f(function(e){var n=e.pop();t.call(this,e,n)})}function d(t){return f(function(e,n){var r=h(function(n,r){var i=this;return t(e,function(t,e){t.apply(i,n.concat([e]))},r)});return n.length?r.apply(this,n):r})}function p(t){return function(e){return null==e?void 0:e[t]}}function v(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=je}function m(t){return null!=t&&v(Oe(t))&&!o(t)}function g(){}function _(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}}function y(t){return Ae&&t[Ae]&&t[Ae]()}function b(t){return Te(Object(t))}function w(t,e){return null!=t&&(Me.call(t,e)||"object"==typeof t&&e in t&&null===b(t))}function x(t){return Ce(Object(t))}function k(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function S(t){return a(t)&&m(t)}function E(t){return S(t)&&qe.call(t,"callee")&&(!Pe.call(t,"callee")||Re.call(t)==Ie)}function O(t){return"string"==typeof t||!Ne(t)&&a(t)&&He.call(t)==Fe}function j(t){var e=t?t.length:void 0;return v(e)&&(Ne(t)||O(t)||E(t))?k(e,String):null}function A(t,e){return e=null==e?Ye:e,!!e&&("number"==typeof t||Be.test(t))&&t>-1&&t%1==0&&t<e}function T(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||We;return t===n}function D(t){var e=T(t);if(!e&&!m(t))return x(t);var n=j(t),r=!!n,i=n||[],o=i.length;for(var a in t)!w(t,a)||r&&("length"==a||A(a,o))||e&&"constructor"==a||i.push(a);return i}function M(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}function C(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function I(t){var e=D(t),n=-1,r=e.length;return function(){var i=e[++n];return n<r?{value:t[i],key:i}:null}}function L(t){if(m(t))return M(t);var e=y(t);return e?C(e):I(t)}function q(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function R(t){return function(e,n,r){function i(t){if(u-=1,t)s=!0,r(t);else{if(s&&u<=0)return r(null);o()}}function o(){for(;u<t&&!s;){var e=a();if(null===e)return s=!0,void(u<=0&&r(null));u+=1,n(e.value,e.key,q(i))}}if(r=_(r||g),t<=0||!e)return r(null);var a=L(e),s=!1,u=0;o()}}function P(t,e,n,r){R(e)(t,n,r)}function N(t,e){return function(n,r,i){return t(n,e,r,i)}}function F(t,e){var n;if("function"!=typeof e)throw new TypeError(ze);return t=l(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}function U(t){return F(2,t)}function H(t,e,n){function r(t){t?n(t):++o===a&&n(null)}n=U(n||g);var i=0,o=0,a=t.length;for(0===a&&n(null);i<a;i++)e(t[i],i,q(r))}function Y(t,e,n){var r=m(t)?H:$e;r(t,e,n)}function B(t){return function(e,n,r){return t(Y,e,n,r)}}function W(t,e,n,r){r=_(r||g),e=e||[];var i=[],o=0;t(e,function(t,e,r){var a=o++;n(t,function(t,e){i[a]=e,r(t)})},function(t){r(t,i)})}function z(t){return function(e,n,r,i){return t(R(n),e,r,i)}}function $(t){return h(function(e,n){var r;try{r=t.apply(this,e)}catch(t){return n(t)}i(r)&&"function"==typeof r.then?r.then(function(t){n(null,t)},function(t){n(t.message?t:new Error(t))}):n(null,r)})}function V(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function G(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function J(t,e){return t&&Qe(t,e,D)}function K(t,e,n){for(var r=t.length,i=e+(n?1:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function Z(t,e,n){if(e!==e)return K(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function X(t,e,n){function r(t,e){y.push(function(){s(t,e)})}function i(){if(0===y.length&&0===p)return n(null,d);for(;y.length&&p<e;){var t=y.shift();t()}}function o(t,e){var n=m[t];n||(n=m[t]=[]),n.push(e)}function a(t){var e=m[t]||[];V(e,function(t){t()}),i()}function s(t,e){if(!v){var r=q(f(function(e,r){if(p--,r.length<=1&&(r=r[0]),e){var i={};J(d,function(t,e){i[e]=t}),i[t]=r,v=!0,m=[],n(e,i)}else d[t]=r,a(t)}));p++;var i=e[e.length-1];e.length>1?i(d,r):i(r)}}function u(){for(var t,e=0;b.length;)t=b.pop(),e++,V(c(t),function(t){0===--w[t]&&b.push(t)});if(e!==h)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function c(e){var n=[];return J(t,function(t,r){Ne(t)&&Z(t,e,0)>=0&&n.push(r)}),n}"function"==typeof e&&(n=e,e=null),n=_(n||g);var l=D(t),h=l.length;if(!h)return n(null);e||(e=h);var d={},p=0,v=!1,m={},y=[],b=[],w={};J(t,function(e,n){if(!Ne(e))return r(n,[e]),void b.push(n);var i=e.slice(0,e.length-1),a=i.length;return 0===a?(r(n,e),void b.push(n)):(w[n]=a,void V(i,function(s){if(!t[s])throw new Error("async.auto task `"+n+"` has a non-existent dependency in "+i.join(", "));o(s,function(){a--,0===a&&r(n,e)})}))}),u(),i()}function Q(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function tt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function et(t){return t&&t.Object===Object?t:null}function nt(t){if("string"==typeof t)return t;if(s(t))return un?un.call(t):"";var e=t+"";return"0"==e&&1/t==-an?"-0":e}function rt(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function it(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:rt(t,e,n)}function ot(t,e){for(var n=t.length;n--&&Z(e,t[n],0)>-1;);return n}function at(t,e){for(var n=-1,r=t.length;++n<r&&Z(e,t[n],0)>-1;);return n}function st(t){return t.match(On)}function ut(t){return null==t?"":nt(t)}function ct(t,e,n){if(t=ut(t),t&&(n||void 0===e))return t.replace(jn,"");if(!t||!(e=nt(e)))return t;var r=st(t),i=st(e),o=at(r,i),a=ot(r,i)+1;return it(r,o,a).join("")}function lt(t){return t=t.toString().replace(Mn,""),t=t.match(An)[2].replace(" ",""),t=t?t.split(Tn):[],t=t.map(function(t){return ct(t.replace(Dn,""))})}function ft(t,e){var n={};J(t,function(t,e){function r(e,n){var r=Q(i,function(t){return e[t]});r.push(n),t.apply(null,r)}var i;if(Ne(t))i=tt(t),t=i.pop(),n[e]=i.concat(i.length>0?r:t);else if(1===t.length)n[e]=t;else{if(i=lt(t),0===t.length&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");i.pop(),n[e]=i.concat(r)}}),X(n,e)}function ht(t){setTimeout(t,0)}function dt(t){return f(function(e,n){t(function(){e.apply(null,n)})})}function pt(){this.head=this.tail=null,this.length=0}function vt(t,e){t.length=1,t.head=t.tail=e}function mt(t,e,n){function r(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");return s.started=!0,Ne(t)||(t=[t]),0===t.length&&s.idle()?Ln(function(){s.drain()}):(V(t,function(t){var r={data:t,callback:n||g};e?s._tasks.unshift(r):s._tasks.push(r)}),void Ln(s.process))}function i(t){return f(function(e){o-=1,V(t,function(t){V(a,function(e,n){if(e===t)return a.splice(n,1),!1}),t.callback.apply(t,e),null!=e[0]&&s.error(e[0],t.data)}),o<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()})}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var o=0,a=[],s={_tasks:new pt,concurrency:e,payload:n,saturated:g,unsaturated:g,buffer:e/4,empty:g,drain:g,error:g,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){s.drain=g,s._tasks.empty()},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!s.paused&&o<s.concurrency&&s._tasks.length;){var e=[],n=[],r=s._tasks.length;s.payload&&(r=Math.min(r,s.payload));for(var u=0;u<r;u++){var c=s._tasks.shift();e.push(c),n.push(c.data)}0===s._tasks.length&&s.empty(),o+=1,a.push(e[0]),o===s.concurrency&&s.saturated();var l=q(i(e));t(n,l)}},length:function(){return s._tasks.length},running:function(){return o},workersList:function(){return a},idle:function(){return s._tasks.length+o===0},pause:function(){s.paused=!0},resume:function(){if(s.paused!==!1){s.paused=!1;for(var t=Math.min(s.concurrency,s._tasks.length),e=1;e<=t;e++)Ln(s.process)}}};return s}function gt(t,e){return mt(t,1,e)}function _t(t,e,n,r){r=_(r||g),Rn(t,function(t,r,i){n(e,t,function(t,n){e=n,i(t)})},function(t){r(t,e)})}function yt(t,e,n,r){var i=[];t(e,function(t,e,r){n(t,function(t,e){i=i.concat(e||[]),r(t)})},function(t){r(t,i)})}function bt(t){return function(e,n,r){return t(Rn,e,n,r)}}function wt(t){return t}function xt(t,e,n){return function(r,i,o,a){function s(t){a&&(t?a(t):a(null,n(!1)))}function u(t,r,i){return a?void o(t,function(r,s){a&&(r?(a(r),a=o=!1):e(s)&&(a(null,n(!0,t)),a=o=!1)),i()}):i()}arguments.length>3?(a=a||g,t(r,i,u,s)):(a=o,a=a||g,o=i,t(r,u,s))}}function kt(t,e){return e}function St(t){return f(function(e,n){e.apply(null,n.concat([f(function(e,n){"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&V(n,function(e){console[t](e)}))})]))})}function Et(t,e,n){function r(e,r){return e?n(e):r?void t(i):n(null)}n=q(n||g);var i=f(function(t,i){return t?n(t):(i.push(r),void e.apply(this,i))});r(null,!0)}function Ot(t,e,n){n=q(n||g);var r=f(function(i,o){return i?n(i):e.apply(this,o)?t(r):void n.apply(null,[null].concat(o))});t(r)}function jt(t,e,n){Ot(t,function(){return!e.apply(this,arguments)},n)}function At(t,e,n){function r(e){return e?n(e):void t(i)}function i(t,i){return t?n(t):i?void e(r):n(null)}n=q(n||g),t(i)}function Tt(t){return function(e,n,r){return t(e,r)}}function Dt(t,e,n){Y(t,Tt(e),n)}function Mt(t,e,n,r){R(e)(t,Tt(n),r)}function Ct(t){return h(function(e,n){var r=!0;e.push(function(){var t=arguments;r?Ln(function(){n.apply(null,t)}):n.apply(null,t)}),t.apply(this,e),r=!1})}function It(t){return!t}function Lt(t,e,n,r){r=_(r||g);var i=[];t(e,function(t,e,r){n(t,function(n,o){n?r(n):(o&&i.push({index:e,value:t}),r())})},function(t){t?r(t):r(null,Q(i.sort(function(t,e){return t.index-e.index}),p("value")))})}function qt(t,e){function n(t){return t?r(t):void i(n)}var r=q(e||g),i=Ct(t);n()}function Rt(t,e,n,r){r=_(r||g);var i={};P(t,e,function(t,e,r){n(t,e,function(t,n){return t?r(t):(i[e]=n,void r())})},function(t){r(t,i)})}function Pt(t,e){return e in t}function Nt(t,e){var n=Object.create(null),r=Object.create(null);e=e||wt;var i=h(function(i,o){var a=e.apply(null,i);Pt(n,a)?Ln(function(){o.apply(null,n[a])}):Pt(r,a)?r[a].push(o):(r[a]=[o],t.apply(null,i.concat([f(function(t){n[a]=t;var e=r[a];delete r[a];for(var i=0,o=e.length;i<o;i++)e[i].apply(null,t)})])))});return i.memo=n,i.unmemoized=t,i}function Ft(t,e,n){n=n||g;var r=m(e)?[]:{};t(e,function(t,e,n){t(f(function(t,i){i.length<=1&&(i=i[0]),r[e]=i,n(t)}))},function(t){n(t,r)})}function Ut(t,e){Ft(Y,t,e)}function Ht(t,e,n){Ft(R(e),t,n)}function Yt(t,e){return mt(function(e,n){t(e[0],n)},e,1)}function Bt(t,e){var n=Yt(t,e);return n.push=function(t,e,r){if(null==r&&(r=g),"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Ne(t)||(t=[t]),0===t.length)return Ln(function(){n.drain()});e=e||0;for(var i=n._tasks.head;i&&e>=i.priority;)i=i.next;V(t,function(t){var o={data:t,priority:e,callback:r};i?n._tasks.insertBefore(i,o):n._tasks.push(o)}),Ln(n.process)},delete n.unshift,n}function Wt(t,e){return e=_(e||g),Ne(t)?t.length?void V(t,function(t){t(e)}):e():e(new TypeError("First argument to race must be an array of functions"))}function zt(t,e,n,r){var i=rr.call(t).reverse();_t(i,e,n,r)}function $t(t){return h(function(e,n){return e.push(f(function(t,e){if(t)n(null,{error:t});else{var r=null;1===e.length?r=e[0]:e.length>1&&(r=e),n(null,{value:r})}})),t.apply(this,e)})}function Vt(t,e,n,r){Lt(t,e,function(t,e){n(t,function(t,n){t?e(t):e(null,!n)})},r)}function Gt(t){var e;return Ne(t)?e=Q(t,$t):(e={},J(t,function(t,n){e[n]=$t.call(this,t)})),e}function Jt(t){return function(){return t}}function Kt(t,e,n){function r(t,e){if("object"==typeof e)t.times=+e.times||o,t.intervalFunc="function"==typeof e.interval?e.interval:Jt(+e.interval||a);else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||o}}function i(){e(function(t){t&&u++<s.times?setTimeout(i,s.intervalFunc(u)):n.apply(null,arguments)})}var o=5,a=0,s={times:o,intervalFunc:Jt(a)};if(arguments.length<3&&"function"==typeof t?(n=e||g,e=t):(r(s,t),n=n||g),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var u=1;i()}function Zt(t,e){return e||(e=t,t=null),h(function(n,r){function i(t){e.apply(null,n.concat([t]))}t?Kt(t,i,r):Kt(i,r)})}function Xt(t,e){Ft(Rn,t,e)}function Qt(t,e,n){function r(t,e){var n=t.criteria,r=e.criteria;return n<r?-1:n>r?1:0}Ve(t,function(t,n){e(t,function(e,r){return e?n(e):void n(null,{value:t,criteria:r})})},function(t,e){return t?n(t):void n(null,Q(e.sort(r),p("value")))})}function te(t,e,n){function r(){s||(o.apply(null,arguments),clearTimeout(a))}function i(){var e=t.name||"anonymous",r=new Error('Callback function "'+e+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)}var o,a,s=!1;return h(function(n,s){o=s,a=setTimeout(i,e),t.apply(null,n.concat(r))})}function ee(t,e,n,r){for(var i=-1,o=fr(lr((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}function ne(t,e,n,r){Je(ee(0,t,1),e,n,r)}function re(t,e,n,r){3===arguments.length&&(r=n,n=e,e=Ne(t)?[]:{}),r=_(r||g),Y(t,function(t,r,i){n(e,t,r,i)},function(t){r(t,e)})}function ie(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function oe(t,e,n){if(n=q(n||g),!t())return n(null);var r=f(function(i,o){return i?n(i):t()?e(r):void n.apply(null,[null].concat(o))});e(r)}function ae(t,e,n){oe(function(){return!t.apply(this,arguments)},e,n)}function se(t,e){function n(i){if(r===t.length)return e.apply(null,[null].concat(i));var o=q(f(function(t,r){return t?e.apply(null,[t].concat(r)):void n(r)}));i.push(o);var a=t[r++];a.apply(null,i)}if(e=_(e||g),!Ne(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;n([])}var ue,ce="[object Function]",le="[object GeneratorFunction]",fe=Object.prototype,he=fe.toString,de="[object Symbol]",pe=Object.prototype,ve=pe.toString,me=NaN,ge=/^\s+|\s+$/g,_e=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,be=/^0o[0-7]+$/i,we=parseInt,xe=1/0,ke=1.7976931348623157e308,Se="Expected a function",Ee=Math.max,Oe=p("length"),je=9007199254740991,Ae="function"==typeof Symbol&&Symbol.iterator,Te=Object.getPrototypeOf,De=Object.prototype,Me=De.hasOwnProperty,Ce=Object.keys,Ie="[object Arguments]",Le=Object.prototype,qe=Le.hasOwnProperty,Re=Le.toString,Pe=Le.propertyIsEnumerable,Ne=Array.isArray,Fe="[object String]",Ue=Object.prototype,He=Ue.toString,Ye=9007199254740991,Be=/^(?:0|[1-9]\d*)$/,We=Object.prototype,ze="Expected a function",$e=N(P,1/0),Ve=B(W),Ge=d(Ve),Je=z(W),Ke=N(Je,1),Ze=d(Ke),Xe=f(function(t,e){return f(function(n){return t.apply(null,e.concat(n))})}),Qe=G(),tn=et("object"==typeof r&&r),en=et("object"==typeof self&&self),nn=et("object"==typeof this&&this),rn=tn||en||nn||Function("return this")(),on=rn.Symbol,an=1/0,sn=on?on.prototype:void 0,un=sn?sn.toString:void 0,cn="\\ud800-\\udfff",ln="\\u0300-\\u036f\\ufe20-\\ufe23",fn="\\u20d0-\\u20f0",hn="\\ufe0e\\ufe0f",dn="["+cn+"]",pn="["+ln+fn+"]",vn="\\ud83c[\\udffb-\\udfff]",mn="(?:"+pn+"|"+vn+")",gn="[^"+cn+"]",_n="(?:\\ud83c[\\udde6-\\uddff]){2}",yn="[\\ud800-\\udbff][\\udc00-\\udfff]",bn="\\u200d",wn=mn+"?",xn="["+hn+"]?",kn="(?:"+bn+"(?:"+[gn,_n,yn].join("|")+")"+xn+wn+")*",Sn=xn+wn+kn,En="(?:"+[gn+pn+"?",pn,_n,yn,dn].join("|")+")",On=RegExp(vn+"(?="+vn+")|"+En+Sn,"g"),jn=/^\s+|\s+$/g,An=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Tn=/,/,Dn=/(=.+)?(\s*)$/,Mn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Cn="function"==typeof setImmediate&&setImmediate,In="object"==typeof t&&"function"==typeof t.nextTick;ue=Cn?setImmediate:In?t.nextTick:ht;var Ln=dt(ue);pt.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t},pt.prototype.empty=pt,pt.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},pt.prototype.insertBefore=function(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},pt.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):vt(this,t)},pt.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):vt(this,t)},pt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},pt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};var qn,Rn=N(P,1),Pn=f(function(t){return f(function(e){var n=this,r=e[e.length-1];"function"==typeof r?e.pop():r=g,_t(t,e,function(t,e,r){e.apply(n,t.concat([f(function(t,e){r(t,e)})]))},function(t,e){r.apply(n,[t].concat(e))})})}),Nn=f(function(t){return Pn.apply(null,t.reverse())}),Fn=B(yt),Un=bt(yt),Hn=f(function(t){var e=[null].concat(t);return h(function(t,n){return n.apply(this,e)})}),Yn=xt(Y,wt,kt),Bn=xt(P,wt,kt),Wn=xt(Rn,wt,kt),zn=St("dir"),$n=N(Mt,1),Vn=xt(Y,It,It),Gn=xt(P,It,It),Jn=N(Gn,1),Kn=B(Lt),Zn=z(Lt),Xn=N(Zn,1),Qn=St("log"),tr=N(Rt,1/0),er=N(Rt,1);qn=In?t.nextTick:Cn?setImmediate:ht;var nr=dt(qn),rr=Array.prototype.slice,ir=B(Vt),or=z(Vt),ar=N(or,1),sr=xt(Y,Boolean,wt),ur=xt(P,Boolean,wt),cr=N(ur,1),lr=Math.ceil,fr=Math.max,hr=N(ne,1/0),dr=N(ne,1),pr={applyEach:Ge,applyEachSeries:Ze,apply:Xe,asyncify:$,auto:X,autoInject:ft,cargo:gt,compose:Nn,concat:Fn,concatSeries:Un,constant:Hn,detect:Yn,detectLimit:Bn,detectSeries:Wn,dir:zn,doDuring:Et,doUntil:jt,doWhilst:Ot,during:At,each:Dt,eachLimit:Mt,eachOf:Y,eachOfLimit:P,eachOfSeries:Rn,eachSeries:$n,ensureAsync:Ct,every:Vn,everyLimit:Gn,everySeries:Jn,filter:Kn,filterLimit:Zn,filterSeries:Xn,forever:qt,log:Qn,map:Ve,mapLimit:Je,mapSeries:Ke,mapValues:tr,mapValuesLimit:Rt,mapValuesSeries:er,memoize:Nt,nextTick:nr,parallel:Ut,parallelLimit:Ht,priorityQueue:Bt,queue:Yt,race:Wt,reduce:_t,reduceRight:zt,reflect:$t,reflectAll:Gt,reject:ir,rejectLimit:or,rejectSeries:ar,retry:Kt,retryable:Zt,seq:Pn,series:Xt,setImmediate:Ln,some:sr,someLimit:ur,someSeries:cr,sortBy:Qt,timeout:te,times:hr,timesLimit:ne,timesSeries:dr,transform:re,unmemoize:ie,until:ae,waterfall:se,whilst:oe,all:Vn,any:sr,forEach:Dt,forEachSeries:$n,forEachLimit:Mt,forEachOf:Y,forEachOfSeries:Rn,forEachOfLimit:P,inject:_t,foldl:_t,foldr:zt,select:Kn,selectLimit:Zn,selectSeries:Xn,wrapSync:$};e.default=pr,e.applyEach=Ge,e.applyEachSeries=Ze,e.apply=Xe,e.asyncify=$,e.auto=X,e.autoInject=ft,e.cargo=gt,e.compose=Nn,e.concat=Fn,e.concatSeries=Un,e.constant=Hn,e.detect=Yn,e.detectLimit=Bn,e.detectSeries=Wn,e.dir=zn,e.doDuring=Et,e.doUntil=jt,e.doWhilst=Ot,e.during=At,e.each=Dt,e.eachLimit=Mt,e.eachOf=Y,e.eachOfLimit=P,e.eachOfSeries=Rn,e.eachSeries=$n,e.ensureAsync=Ct,e.every=Vn,e.everyLimit=Gn,e.everySeries=Jn,e.filter=Kn,e.filterLimit=Zn,e.filterSeries=Xn,e.forever=qt,e.log=Qn,e.map=Ve,e.mapLimit=Je,e.mapSeries=Ke,e.mapValues=tr,e.mapValuesLimit=Rt,e.mapValuesSeries=er,e.memoize=Nt,e.nextTick=nr,e.parallel=Ut,e.parallelLimit=Ht,e.priorityQueue=Bt,e.queue=Yt,e.race=Wt,e.reduce=_t,e.reduceRight=zt,e.reflect=$t,e.reflectAll=Gt,e.reject=ir,e.rejectLimit=or,e.rejectSeries=ar,e.retry=Kt,e.retryable=Zt,e.seq=Pn,e.series=Xt,e.setImmediate=Ln,e.some=sr,e.someLimit=ur,e.someSeries=cr,e.sortBy=Qt,e.timeout=te,e.times=hr,e.timesLimit=ne,e.timesSeries=dr,e.transform=re,e.unmemoize=ie,e.until=ae,e.waterfall=se,e.whilst=oe,e.all=Vn,e.allLimit=Gn,e.allSeries=Jn,e.any=sr,e.anyLimit=ur,e.anySeries=cr,e.find=Yn,e.findLimit=Bn,e.findSeries=Wn,e.forEach=Dt,e.forEachSeries=$n,e.forEachLimit=Mt,e.forEachOf=Y,e.forEachOfSeries=Rn,e.forEachOfLimit=P,e.inject=_t,e.foldl=_t,e.foldr=zt,e.select=Kn,e.selectLimit=Zn,e.selectSeries=Xn,e.wrapSync=$})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:139}],31:[function(t,e,n){(function(e){!function(r){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){i.Backbone=r(i,n,t,e)});else if("undefined"!=typeof n){var o,a=t("underscore");try{o=t("jquery")}catch(t){}r(i,n,a,o)}else i.Backbone=r(i,{},i._,i.jQuery||i.Zepto||i.ender||i.$)}(function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],u(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],u(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},s=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=a(e,i,r))})},u=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?c(t):n.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},f=/\s+/,h=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=h(t,e,a[s],r[a[s]],o)}else if(r&&f.test(r))for(a=r.split(f);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};l.on=function(t,e,n){return d(this,t,e,n)};var d=function(t,e,n,r,i){if(t._events=h(p,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var o=t._listeners||(t._listeners={});o[i.id]=i}return t};l.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:t,objId:i,id:s,listeningTo:o,count:0}}return d(t,e,r,this,a),this};var p=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=h(v,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this)}return this};var v=function(t,e,r,i){if(t){var o,a=0,s=i.context,u=i.listeners;if(e||r||s){for(var c=e?[e]:n.keys(t);a<c.length;a++){e=c[a];var l=t[e];if(!l)break;for(var f=[],h=0;h<l.length;h++){var d=l[h];r&&r!==d.callback&&r!==d.callback._callback||s&&s!==d.context?f.push(d):(o=d.listening,
o&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId]))}f.length?t[e]=f:delete t[e]}return t}for(var p=n.keys(u);a<p.length;a++)o=u[p[a]],delete u[o.id],delete o.listeningTo[o.objId]}};l.once=function(t,e,r){var i=h(m,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},l.listenToOnce=function(t,e,r){var i=h(m,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var m=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return h(g,this._events,t,void 0,n),this};var g=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&_(i,r),o&&_(o,[e].concat(r))}return t},_=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,f=this._previousAttributes;for(var h in i)e=i[h],n.isEqual(c[h],e)||s.push(h),n.isEqual(f[h],e)?delete l[h]:l[h]=e,o?delete c[h]:c[h]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var d=0;d<s.length;d++)this.trigger("change:"+s[d],this,c[s[d]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return!!e.set(i,t)&&(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},H(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(t){a.attributes=u;var e=r.parse?a.parse(t,r):t;return o&&(e=n.extend({},i,e)),!(e&&!a.set(e,r))&&(s&&s.call(r.context,a,t,r),void a.trigger("sync",a,t,r))},H(this,r),i&&o&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(H(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||U();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(y,b,"attributes");var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(w.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,k))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,s=[],u=[],c=[],l=[],f={},h=e.add,d=e.merge,p=e.remove,v=!1,m=this.comparator&&null==i&&e.sort!==!1,g=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var _=this.get(o);if(_){if(d&&o!==_){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=_.parse(y,e)),_.set(y,e),c.push(_),m&&!v&&(v=_.hasChanged(g))}f[_.cid]||(f[_.cid]=!0,s.push(_)),t[a]=_}else h&&(o=t[a]=this._prepareModel(o,e),o&&(u.push(o),this._addReference(o,e),f[o.cid]=!0,s.push(o)))}if(p){for(a=0;a<this.length;a++)o=this.models[a],f[o.cid]||l.push(o);l.length&&this._removeModels(l,e)}var b=!1,w=!m&&h&&p;if(s.length&&w?(b=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,S(this.models,s,0),this.length=this.models.length):u.length&&(m&&(v=!0),S(this.models,u,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<u.length;a++)null!=i&&(e.index=i+a),o=u[a],o.trigger("add",o,this,e);(v||b)&&this.trigger("sort",this,e),(u.length||l.length||c.length)&&(e.changes={added:u,removed:l,merged:c},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var E={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};s(w,E,"models");var O=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},j=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(O.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(j);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=T[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||U()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var c=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,c,i),c};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var D=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,I=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,l,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(i,a,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(L,"\\$&").replace(M,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(I,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var q=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,N=/#.*$/;q.started=!1,n.extend(q.prototype,l,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(q.started)throw new Error("Backbone.history has already been started");if(q.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),q.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!q.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new q;var F=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};y.extend=w.extend=D.extend=O.extend=q.extend=F;var U=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:32,underscore:148}],32:[function(t,e,n){},{}],33:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],34:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(){var t=new s.HandlebarsEnvironment;return d.extend(t,s),t.SafeString=c.default,t.Exception=f.default,t.Utils=d,t.escapeExpression=d.escapeExpression,t.VM=v,t.template=function(e){return v.template(e,t)},t}n.__esModule=!0;var a=t("./handlebars/base"),s=i(a),u=t("./handlebars/safe-string"),c=r(u),l=t("./handlebars/exception"),f=r(l),h=t("./handlebars/utils"),d=i(h),p=t("./handlebars/runtime"),v=i(p),m=t("./handlebars/no-conflict"),g=r(m),_=o();_.create=o,g.default(_),_.default=_,n.default=_,e.exports=n.default},{"./handlebars/base":35,"./handlebars/exception":38,"./handlebars/no-conflict":48,"./handlebars/runtime":49,"./handlebars/safe-string":50,"./handlebars/utils":51}],35:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},u.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}n.__esModule=!0,n.HandlebarsEnvironment=i;var o=t("./utils"),a=t("./exception"),s=r(a),u=t("./helpers"),c=t("./decorators"),l=t("./logger"),f=r(l),h="4.0.5";n.VERSION=h;var d=7;n.COMPILER_REVISION=d;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};n.REVISION_CHANGES=p;var v="[object Object]";i.prototype={constructor:i,logger:f.default,log:f.default.log,registerHelper:function(t,e){if(o.toString.call(t)===v){if(e)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===v)o.extend(this.partials,t);else{if("undefined"==typeof e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===v){if(e)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var m=f.default.log;n.log=m,n.createFrame=o.createFrame,n.logger=f.default},{"./decorators":36,"./exception":38,"./helpers":39,"./logger":47,"./utils":51}],36:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){a.default(t)}n.__esModule=!0,n.registerDefaultDecorators=i;var o=t("./decorators/inline"),a=r(o)},{"./decorators/inline":37}],37:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("../utils");n.default=function(t){t.registerDecorator("inline",function(t,e,n,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(i,o);return n.partials=a,s}),e.partials[i.args[0]]=i.fn,o})},e.exports=n.default},{"../utils":51}],38:[function(t,e,n){"use strict";function r(t,e){var n=e&&e.loc,o=void 0,a=void 0;n&&(o=n.start.line,a=n.start.column,t+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,t),u=0;u<i.length;u++)this[i[u]]=s[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r),n&&(this.lineNumber=o,this.column=a)}n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,n.default=r,e.exports=n.default},{}],39:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){a.default(t),u.default(t),l.default(t),h.default(t),p.default(t),m.default(t),_.default(t)}n.__esModule=!0,n.registerDefaultHelpers=i;var o=t("./helpers/block-helper-missing"),a=r(o),s=t("./helpers/each"),u=r(s),c=t("./helpers/helper-missing"),l=r(c),f=t("./helpers/if"),h=r(f),d=t("./helpers/log"),p=r(d),v=t("./helpers/lookup"),m=r(v),g=t("./helpers/with"),_=r(g)},{"./helpers/block-helper-missing":40,"./helpers/each":41,"./helpers/helper-missing":42,"./helpers/if":43,"./helpers/log":44,"./helpers/lookup":45,"./helpers/with":46}],40:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("../utils");n.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,o=n.fn;if(e===!0)return o(this);if(e===!1||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(e,n)})},e.exports=n.default},{"../utils":51}],41:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("../utils"),o=t("../exception"),a=r(o);n.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,o){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!o,l&&(c.contextPath=l+e)),u+=r(t[e],{data:c,blockParams:i.blockParams([t[e],e],[l+e,null])})}if(!e)throw new a.default("Must pass iterator to #each");var r=e.fn,o=e.inverse,s=0,u="",c=void 0,l=void 0;if(e.data&&e.ids&&(l=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(c=i.createFrame(e.data)),t&&"object"==typeof t)if(i.isArray(t))for(var f=t.length;s<f;s++)s in t&&n(s,s,s===t.length-1);else{var h=void 0;for(var d in t)t.hasOwnProperty(d)&&(void 0!==h&&n(h,s-1),h=d,s++);void 0!==h&&n(h,s-1,!0)}return 0===s&&(u=o(this)),u})},e.exports=n.default},{"../exception":38,"../utils":51}],42:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("../exception"),o=r(i);n.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=n.default},{"../exception":38}],43:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("../utils");n.default=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=n.default},{"../utils":51}],44:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)})},e.exports=n.default},{}],45:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},e.exports=n.default},{}],46:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("../utils");n.default=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&(i=r.createFrame(e.data),i.contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})})},e.exports=n.default},{"../utils":51}],47:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("./utils"),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};n.default=i,e.exports=n.default},{"./utils":51}],48:[function(t,e,n){(function(t){"use strict";n.__esModule=!0,n.default=function(e){var n="undefined"!=typeof t?t:window,r=n.Handlebars;e.noConflict=function(){return n.Handlebars===e&&(n.Handlebars=r),e}},e.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){var e=t&&t[0]||1,n=g.COMPILER_REVISION;if(e!==n){if(e<n){var r=g.REVISION_CHANGES[n],i=g.REVISION_CHANGES[e];throw new m.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").");
}throw new m.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function a(t,e){function n(n,r,i){i.hash&&(r=p.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,i);var o=e.VM.invokePartial.call(this,n,r,i);if(null==o&&e.compile&&(i.partials[i.name]=e.compile(n,t.compilerOptions,e),o=i.partials[i.name](r,i)),null!=o){if(i.indent){for(var a=o.split("\n"),s=0,u=a.length;s<u&&(a[s]||s+1!==u);s++)a[s]=i.indent+a[s];o=a.join("\n")}return o}throw new m.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(i,e,i.helpers,i.partials,a,u,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;r._setup(o),!o.partial&&t.useData&&(a=f(e,a));var s=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(s=o.depths?e!==o.depths[0]?[e].concat(o.depths):o.depths:[e]),(n=h(t.main,n,i,o.depths||[],a,u))(e,o)}if(!e)throw new m.default("No environment passed to template");if(!t||!t.main)throw new m.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i={strict:function(t,e){if(!(e in t))throw new m.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var o=this.programs[t],a=this.fn(t);return e||i||r||n?o=s(this,t,a,e,n,r,i):o||(o=this.programs[t]=s(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=p.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=i.merge(n.decorators,e.decorators)))},r._child=function(e,n,r,o){if(t.useBlockParams&&!r)throw new m.default("must pass block params");if(t.useDepths&&!o)throw new m.default("must pass parent depths");return s(i,e,t[e],n,0,r,o)},r}function s(t,e,n,r,i,o,a){function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),n(t,e,t.helpers,t.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return s=h(n,s,t,a,r,o),s.program=e,s.depth=a?a.length:0,s.blockParams=i||0,s}function u(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function c(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==l&&(n.data=g.createFrame(n.data),r=n.data["partial-block"]=n.fn,r.partials&&(n.partials=p.extend({},n.partials,r.partials))),void 0===t&&r&&(t=r),void 0===t)throw new m.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function l(){return""}function f(t,e){return e&&"root"in e||(e=e?g.createFrame(e):{},e.root=t),e}function h(t,e,n,r,i,o){if(t.decorator){var a={};e=t.decorator(e,a,n,r&&r[0],i,o,r),p.extend(e,a)}return e}n.__esModule=!0,n.checkRevision=o,n.template=a,n.wrapProgram=s,n.resolvePartial=u,n.invokePartial=c,n.noop=l;var d=t("./utils"),p=i(d),v=t("./exception"),m=r(v),g=t("./base")},{"./base":35,"./exception":38,"./utils":51}],50:[function(t,e,n){"use strict";function r(t){this.string=t}n.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},n.default=r,e.exports=n.default},{}],51:[function(t,e,n){"use strict";function r(t){return f[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function o(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function a(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(h,r):t}function s(t){return!t&&0!==t||!(!m(t)||0!==t.length)}function u(t){var e=i({},t);return e._parent=t,e}function c(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}n.__esModule=!0,n.extend=i,n.indexOf=o,n.escapeExpression=a,n.isEmpty=s,n.createFrame=u,n.blockParams=c,n.appendContextPath=l;var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;n.toString=p;var v=function(t){return"function"==typeof t};v(/x/)&&(n.isFunction=v=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),n.isFunction=v;var m=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};n.isArray=m},{}],52:[function(t,e,n){e.exports=t("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":34}],53:[function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=t("./_hashClear"),o=t("./_hashDelete"),a=t("./_hashGet"),s=t("./_hashHas"),u=t("./_hashSet");r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},{"./_hashClear":92,"./_hashDelete":93,"./_hashGet":94,"./_hashHas":95,"./_hashSet":96}],54:[function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=t("./_listCacheClear"),o=t("./_listCacheDelete"),a=t("./_listCacheGet"),s=t("./_listCacheHas"),u=t("./_listCacheSet");r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},{"./_listCacheClear":104,"./_listCacheDelete":105,"./_listCacheGet":106,"./_listCacheHas":107,"./_listCacheSet":108}],55:[function(t,e,n){var r=t("./_getNative"),i=t("./_root"),o=r(i,"Map");e.exports=o},{"./_getNative":87,"./_root":117}],56:[function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),a=t("./_mapCacheGet"),s=t("./_mapCacheHas"),u=t("./_mapCacheSet");r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},{"./_mapCacheClear":109,"./_mapCacheDelete":110,"./_mapCacheGet":111,"./_mapCacheHas":112,"./_mapCacheSet":113}],57:[function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=t("./_MapCache"),o=t("./_setCacheAdd"),a=t("./_setCacheHas");r.prototype.add=r.prototype.push=o,r.prototype.has=a,e.exports=r},{"./_MapCache":56,"./_setCacheAdd":118,"./_setCacheHas":119}],58:[function(t,e,n){var r=t("./_root"),i=r.Symbol;e.exports=i},{"./_root":117}],59:[function(t,e,n){function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}e.exports=r},{}],60:[function(t,e,n){function r(t,e){var n=t?t.length:0;return!!n&&i(t,e,0)>-1}var i=t("./_baseIndexOf");e.exports=r},{"./_baseIndexOf":71}],61:[function(t,e,n){function r(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}e.exports=r},{}],62:[function(t,e,n){function r(t,e){var n=a(t)||o(t)?i(t.length,String):[],r=n.length,u=!!r;for(var l in t)!e&&!c.call(t,l)||u&&("length"==l||s(l,r))||n.push(l);return n}var i=t("./_baseTimes"),o=t("./isArguments"),a=t("./isArray"),s=t("./_isIndex"),u=Object.prototype,c=u.hasOwnProperty;e.exports=r},{"./_baseTimes":78,"./_isIndex":99,"./isArguments":124,"./isArray":125}],63:[function(t,e,n){function r(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}e.exports=r},{}],64:[function(t,e,n){function r(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}e.exports=r},{}],65:[function(t,e,n){function r(t,e,n){var r=t[e];a.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||(t[e]=n)}var i=t("./eq"),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},{"./eq":123}],66:[function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=t("./eq");e.exports=r},{"./eq":123}],67:[function(t,e,n){function r(t,e,n,r){var f=-1,h=o,d=!0,p=t.length,v=[],m=e.length;if(!p)return v;n&&(e=s(e,u(n))),r?(h=a,d=!1):e.length>=l&&(h=c,d=!1,e=new i(e));t:for(;++f<p;){var g=t[f],_=n?n(g):g;if(g=r||0!==g?g:0,d&&_===_){for(var y=m;y--;)if(e[y]===_)continue t;v.push(g)}else h(e,_,r)||v.push(g)}return v}var i=t("./_SetCache"),o=t("./_arrayIncludes"),a=t("./_arrayIncludesWith"),s=t("./_arrayMap"),u=t("./_baseUnary"),c=t("./_cacheHas"),l=200;e.exports=r},{"./_SetCache":57,"./_arrayIncludes":60,"./_arrayIncludesWith":61,"./_arrayMap":63,"./_baseUnary":79,"./_cacheHas":80}],68:[function(t,e,n){function r(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}e.exports=r},{}],69:[function(t,e,n){function r(t,e,n,a,s){var u=-1,c=t.length;for(n||(n=o),s||(s=[]);++u<c;){var l=t[u];e>0&&n(l)?e>1?r(l,e-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=t("./_arrayPush"),o=t("./_isFlattenable");e.exports=r},{"./_arrayPush":64,"./_isFlattenable":97}],70:[function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=t("./_arrayPush"),o=t("./isArray");e.exports=r},{"./_arrayPush":64,"./isArray":125}],71:[function(t,e,n){function r(t,e,n){if(e!==e)return i(t,o,n);for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}var i=t("./_baseFindIndex"),o=t("./_baseIsNaN");e.exports=r},{"./_baseFindIndex":68,"./_baseIsNaN":72}],72:[function(t,e,n){function r(t){return t!==t}e.exports=r},{}],73:[function(t,e,n){function r(t){if(!s(t)||a(t))return!1;var e=i(t)||o(t)?v:l;return e.test(u(t))}var i=t("./isFunction"),o=t("./_isHostObject"),a=t("./_isMasked"),s=t("./isObject"),u=t("./_toSource"),c=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,d=f.toString,p=h.hasOwnProperty,v=RegExp("^"+d.call(p).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},{"./_isHostObject":98,"./_isMasked":102,"./_toSource":121,"./isFunction":128,"./isObject":130}],74:[function(t,e,n){function r(t){if(!i(t))return a(t);var e=o(t),n=[];for(var r in t)("constructor"!=r||!e&&u.call(t,r))&&n.push(r);return n}var i=t("./isObject"),o=t("./_isPrototype"),a=t("./_nativeKeysIn"),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},{"./_isPrototype":103,"./_nativeKeysIn":115,"./isObject":130}],75:[function(t,e,n){function r(t,e){return t=Object(t),i(t,e,function(e,n){return n in t})}var i=t("./_basePickBy");e.exports=r},{"./_basePickBy":76}],76:[function(t,e,n){function r(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=t[a];n(s,a)&&(o[a]=s)}return o}e.exports=r},{}],77:[function(t,e,n){function r(t,e){return e=o(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,a=o(n.length-e,0),s=Array(a);++r<a;)s[r]=n[e+r];r=-1;for(var u=Array(e+1);++r<e;)u[r]=n[r];return u[e]=s,i(t,this,u)}}var i=t("./_apply"),o=Math.max;e.exports=r},{"./_apply":59}],78:[function(t,e,n){function r(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}e.exports=r},{}],79:[function(t,e,n){function r(t){return function(e){return t(e)}}e.exports=r},{}],80:[function(t,e,n){function r(t,e){return t.has(e)}e.exports=r},{}],81:[function(t,e,n){function r(t,e,n,r){n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):void 0;i(n,s,void 0===u?t[s]:u)}return n}var i=t("./_assignValue");e.exports=r},{"./_assignValue":65}],82:[function(t,e,n){var r=t("./_root"),i=r["__core-js_shared__"];e.exports=i},{"./_root":117}],83:[function(t,e,n){function r(t){return i(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}var i=t("./_baseRest"),o=t("./_isIterateeCall");e.exports=r},{"./_baseRest":77,"./_isIterateeCall":100}],84:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],85:[function(t,e,n){function r(t){return i(t,a,o)}var i=t("./_baseGetAllKeys"),o=t("./_getSymbolsIn"),a=t("./keysIn");e.exports=r},{"./_baseGetAllKeys":70,"./_getSymbolsIn":90,"./keysIn":133}],86:[function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=t("./_isKeyable");e.exports=r},{"./_isKeyable":101}],87:[function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=t("./_baseIsNative"),o=t("./_getValue");e.exports=r},{"./_baseIsNative":73,"./_getValue":91}],88:[function(t,e,n){var r=t("./_overArg"),i=r(Object.getPrototypeOf,Object);e.exports=i},{"./_overArg":116}],89:[function(t,e,n){var r=t("./_overArg"),i=t("./stubArray"),o=Object.getOwnPropertySymbols,a=o?r(o,Object):i;e.exports=a},{"./_overArg":116,"./stubArray":136}],90:[function(t,e,n){var r=t("./_arrayPush"),i=t("./_getPrototype"),o=t("./_getSymbols"),a=t("./stubArray"),s=Object.getOwnPropertySymbols,u=s?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;e.exports=u},{"./_arrayPush":64,"./_getPrototype":88,"./_getSymbols":89,"./stubArray":136}],91:[function(t,e,n){function r(t,e){return null==t?void 0:t[e]}e.exports=r},{}],92:[function(t,e,n){function r(){this.__data__=i?i(null):{}}var i=t("./_nativeCreate");e.exports=r},{"./_nativeCreate":114}],93:[function(t,e,n){function r(t){return this.has(t)&&delete this.__data__[t]}e.exports=r},{}],94:[function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=t("./_nativeCreate"),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},{"./_nativeCreate":114}],95:[function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=t("./_nativeCreate"),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},{"./_nativeCreate":114}],96:[function(t,e,n){function r(t,e){var n=this.__data__;return n[t]=i&&void 0===e?o:e,this}var i=t("./_nativeCreate"),o="__lodash_hash_undefined__";e.exports=r},{"./_nativeCreate":114}],97:[function(t,e,n){function r(t){return a(t)||o(t)||!!(s&&t&&t[s])}var i=t("./_Symbol"),o=t("./isArguments"),a=t("./isArray"),s=i?i.isConcatSpreadable:void 0;e.exports=r},{"./_Symbol":58,"./isArguments":124,"./isArray":125}],98:[function(t,e,n){function r(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}e.exports=r},{}],99:[function(t,e,n){function r(t,e){return e=null==e?i:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}var i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=r},{}],100:[function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=t("./eq"),o=t("./isArrayLike"),a=t("./_isIndex"),s=t("./isObject");e.exports=r},{"./_isIndex":99,"./eq":123,"./isArrayLike":126,"./isObject":130}],101:[function(t,e,n){function r(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}e.exports=r},{}],102:[function(t,e,n){function r(t){return!!o&&o in t}var i=t("./_coreJsData"),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();e.exports=r},{"./_coreJsData":82}],103:[function(t,e,n){function r(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}var i=Object.prototype;e.exports=r},{}],104:[function(t,e,n){function r(){this.__data__=[]}e.exports=r},{}],105:[function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var i=t("./_assocIndexOf"),o=Array.prototype,a=o.splice;e.exports=r},{"./_assocIndexOf":66}],106:[function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=t("./_assocIndexOf");e.exports=r},{"./_assocIndexOf":66}],107:[function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=t("./_assocIndexOf");e.exports=r},{"./_assocIndexOf":66}],108:[function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}var i=t("./_assocIndexOf");e.exports=r},{"./_assocIndexOf":66}],109:[function(t,e,n){function r(){this.__data__={hash:new i,map:new(a||o),string:new i}}var i=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");e.exports=r},{"./_Hash":53,"./_ListCache":54,"./_Map":55}],110:[function(t,e,n){function r(t){return i(this,t).delete(t)}var i=t("./_getMapData");e.exports=r},{"./_getMapData":86}],111:[function(t,e,n){function r(t){return i(this,t).get(t)}var i=t("./_getMapData");e.exports=r},{"./_getMapData":86}],112:[function(t,e,n){function r(t){return i(this,t).has(t)}var i=t("./_getMapData");e.exports=r},{"./_getMapData":86}],113:[function(t,e,n){function r(t,e){return i(this,t).set(t,e),this}var i=t("./_getMapData");e.exports=r},{"./_getMapData":86}],114:[function(t,e,n){var r=t("./_getNative"),i=r(Object,"create");e.exports=i},{"./_getNative":87}],115:[function(t,e,n){function r(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}e.exports=r},{}],116:[function(t,e,n){function r(t,e){return function(n){return t(e(n))}}e.exports=r},{}],117:[function(t,e,n){var r=t("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},{"./_freeGlobal":84}],118:[function(t,e,n){function r(t){return this.__data__.set(t,i),this}var i="__lodash_hash_undefined__";e.exports=r},{}],119:[function(t,e,n){function r(t){return this.__data__.has(t)}e.exports=r},{}],120:[function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=t("./isSymbol"),o=1/0;e.exports=r},{"./isSymbol":132}],121:[function(t,e,n){function r(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var i=Function.prototype,o=i.toString;e.exports=r},{}],122:[function(t,e,n){var r=t("./_copyObject"),i=t("./_createAssigner"),o=t("./keysIn"),a=i(function(t,e){r(e,o(e),t)});e.exports=a},{"./_copyObject":81,"./_createAssigner":83,"./keysIn":133}],123:[function(t,e,n){function r(t,e){return t===e||t!==t&&e!==e}e.exports=r},{}],124:[function(t,e,n){function r(t){return i(t)&&s.call(t,"callee")&&(!c.call(t,"callee")||u.call(t)==o)}var i=t("./isArrayLikeObject"),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=a.propertyIsEnumerable;e.exports=r},{"./isArrayLikeObject":127}],125:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],126:[function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=t("./isFunction"),o=t("./isLength");e.exports=r},{"./isFunction":128,"./isLength":129}],127:[function(t,e,n){function r(t){return o(t)&&i(t)}var i=t("./isArrayLike"),o=t("./isObjectLike");e.exports=r},{"./isArrayLike":126,"./isObjectLike":131}],128:[function(t,e,n){function r(t){var e=i(t)?u.call(t):"";return e==o||e==a}var i=t("./isObject"),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;e.exports=r},{"./isObject":130}],129:[function(t,e,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;e.exports=r},{}],130:[function(t,e,n){function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=r},{}],131:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}e.exports=r},{}],132:[function(t,e,n){function r(t){return"symbol"==typeof t||i(t)&&s.call(t)==o}var i=t("./isObjectLike"),o="[object Symbol]",a=Object.prototype,s=a.toString;e.exports=r},{"./isObjectLike":131}],133:[function(t,e,n){function r(t){return a(t)?i(t,!0):o(t)}var i=t("./_arrayLikeKeys"),o=t("./_baseKeysIn"),a=t("./isArrayLike");e.exports=r},{"./_arrayLikeKeys":62,"./_baseKeysIn":74,"./isArrayLike":126}],134:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function u(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function c(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,r=t?t.length:0,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function f(t,e){var n=t?t.length:0;return!!n&&x(t,e,0)>-1}function h(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=t?t.length:0;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function g(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function y(t){return t.match(Me)||[]}function b(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function w(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function x(t,e,n){if(e!==e)return w(t,S,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function k(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function S(t){return t!==t}function E(t,e){var n=t?t.length:0;return n?D(t,e)/n:Dt}function O(t){return function(e){return null==e?nt:e[t]}}function j(t){return function(e){return null==t?nt:t[e]}}function A(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function T(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function D(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function M(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function C(t,e){return d(e,function(e){return[e,t[e]]})}function I(t){return function(e){return t(e)}}function L(t,e){return d(e,function(e){return t[e]})}function q(t,e){return t.has(e)}function R(t,e){for(var n=-1,r=t.length;++n<r&&x(e,t[n],0)>-1;);return n}function P(t,e){for(var n=t.length;n--&&x(e,t[n],0)>-1;);return n}function N(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}function F(t){return"\\"+Hn[t]}function U(t,e){return null==t?nt:t[e]}function H(t){return Cn.test(t)}function Y(t){return In.test(t)}function B(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function $(t,e){return function(n){return t(e(n))}}function V(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==st||(t[n]=st,o[i++]=n)}return o}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t){return H(t)?X(t):ir(t)}function Z(t){return H(t)?Q(t):_(t)}function X(t){for(var e=Dn.lastIndex=0;Dn.test(t);)e++;return e}function Q(t){return t.match(Dn)||[]}function tt(t){return t.match(Mn)||[]}function et(t){function e(t){if(Ps(t)&&!Bf(t)&&!(t instanceof j)){if(t instanceof _)return t;if(Jc.call(t,"__wrapped__"))return Io(t)}return new _(t)}function n(){}function _(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function j(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Mt,this.__views__=[]}function X(){var t=new j(this.__wrapped__);return t.__actions__=Si(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Si(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Si(this.__views__),t}function Q(){if(this.__filtered__){var t=new j(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Me(){var t=this.__wrapped__.value(),e=this.__dir__,n=Bf(t),r=e<0,i=n?t.length:0,o=so(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=wl(u,this.__takeCount__);if(!n||i<it||i==u&&d==u)return oi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){c+=e;for(var v=-1,m=t[c];++v<f;){var g=l[v],_=g.iteratee,y=g.type,b=_(m);if(y==Et)m=b;else if(!b){if(y==St)continue t;break t}}p[h++]=m}return p}function We(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ze(){this.__data__=Dl?Dl(null):{}}function $e(t){return this.has(t)&&delete this.__data__[t]}function Ve(t){var e=this.__data__;if(Dl){var n=e[t];return n===at?nt:n}return Jc.call(e,t)?e[t]:nt}function Ge(t){var e=this.__data__;return Dl?e[t]!==nt:Jc.call(e,t)}function Je(t,e){var n=this.__data__;return n[t]=Dl&&e===nt?at:e,this}function Ke(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ze(){this.__data__=[]}function Xe(t){var e=this.__data__,n=xn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ul.call(e,n,1),!0}function Qe(t){var e=this.__data__,n=xn(e,t);return n<0?nt:e[n][1]}function tn(t){return xn(this.__data__,t)>-1}function en(t,e){var n=this.__data__,r=xn(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function nn(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rn(){this.__data__={hash:new We,map:new(Ol||Ke),string:new We}}function on(t){return io(this,t).delete(t)}function an(t){return io(this,t).get(t)}function sn(t){return io(this,t).has(t)}function un(t,e){return io(this,t).set(t,e),this}function cn(t){var e=-1,n=t?t.length:0;for(this.__data__=new nn;++e<n;)this.add(t[e])}function ln(t){return this.__data__.set(t,at),this}function fn(t){return this.__data__.has(t)}function hn(t){this.__data__=new Ke(t)}function dn(){this.__data__=new Ke}function pn(t){return this.__data__.delete(t)}function vn(t){return this.__data__.get(t)}function mn(t){return this.__data__.has(t)}function gn(t,e){var n=this.__data__;if(n instanceof Ke){var r=n.__data__;if(!Ol||r.length<it-1)return r.push([t,e]),this;n=this.__data__=new nn(r)}return n.set(t,e),this}function _n(t,e){var n=Bf(t)||ks(t)?M(t.length,Hc):[],r=n.length,i=!!r;for(var o in t)!e&&!Jc.call(t,o)||i&&("length"==o||mo(o,r))||n.push(o);return n}function yn(t,e,n,r){return t===nt||xs(t,zc[n])&&!Jc.call(r,n)?e:t}function bn(t,e,n){(n===nt||xs(t[e],n))&&("number"!=typeof e||n!==nt||e in t)||(t[e]=n)}function wn(t,e,n){var r=t[e];Jc.call(t,e)&&xs(r,n)&&(n!==nt||e in t)||(t[e]=n)}function xn(t,e){for(var n=t.length;n--;)if(xs(t[n][0],e))return n;return-1}function kn(t,e,n,r){return Bl(t,function(t,i,o){e(r,t,n(t),o)}),r}function Sn(t,e){return t&&Ei(e,_u(e),t)}function En(t,e){for(var n=-1,r=null==t,i=e.length,o=Lc(i);++n<i;)o[n]=r?nt:vu(t,e[n]);return o}function On(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function jn(t,e,n,r,i,o,a){var u;if(r&&(u=o?r(t,i,o,a):r(t)),u!==nt)return u;if(!Rs(t))return t;var c=Bf(t);if(c){if(u=lo(t),!e)return Si(t,u)}else{var l=Ql(t),f=l==Ut||l==Ht;if(zf(t))return hi(t,e);if(l==Wt||l==qt||f&&!o){if(B(t))return o?t:{};if(u=fo(f?{}:t),!e)return Oi(t,Sn(u,t))}else{if(!Pn[l])return o?t:{};u=ho(t,l,jn,e)}}a||(a=new hn);var h=a.get(t);if(h)return h;if(a.set(t,u),!c)var d=n?Qi(t):_u(t);return s(d||t,function(i,o){d&&(o=i,i=t[o]),wn(u,o,jn(i,e,n,r,o,t,a))}),u}function Dn(t){var e=_u(t);return function(n){return Mn(n,t,e)}}function Mn(t,e,n){var r=n.length;if(null==t)return!r;for(t=Fc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function Cn(t){return Rs(t)?al(t):{}}function In(t,e,n){if("function"!=typeof t)throw new Yc(ot);return nf(function(){t.apply(nt,n)},e)}function Nn(t,e,n,r){var i=-1,o=f,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=d(e,I(n))),r?(o=h,a=!1):e.length>=it&&(o=q,a=!1,e=new cn(e));t:for(;++i<s;){var l=t[i],p=n?n(l):l;if(l=r||0!==l?l:0,a&&p===p){for(var v=c;v--;)if(e[v]===p)continue t;u.push(l)}else o(e,p,r)||u.push(l)}return u}function Fn(t,e){var n=!0;return Bl(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Un(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===nt?a===a&&!Gs(a):n(a,s)))var s=a,u=o}return u}function Hn(t,e,n,r){var i=t.length;for(n=tu(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:tu(r),r<0&&(r+=i),r=n>r?0:eu(r);n<r;)t[n++]=e;return t}function Wn(t,e){var n=[];return Bl(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function zn(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=vo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?zn(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function Vn(t,e){return t&&zl(t,e,_u)}function Gn(t,e){return t&&$l(t,e,_u)}function Kn(t,e){return l(e,function(e){return Is(t[e])})}function Zn(t,e){e=_o(e,t)?[e]:li(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Do(e[n++])];return n&&n==r?t:nt}function ir(t,e,n){var r=e(t);return Bf(t)?r:p(r,n(t))}function cr(t){return Xc.call(t)}function lr(t,e){return t>e}function fr(t,e){return null!=t&&Jc.call(t,e)}function hr(t,e){return null!=t&&e in Fc(t)}function dr(t,e,n){return t>=wl(e,n)&&t<bl(e,n)}function pr(t,e,n){for(var r=n?h:f,i=t[0].length,o=t.length,a=o,s=Lc(o),u=1/0,c=[];a--;){var l=t[a];a&&e&&(l=d(l,I(e))),u=wl(l.length,u),s[a]=!n&&(e||i>=120&&l.length>=120)?new cn(a&&l):nt}l=t[0];var p=-1,v=s[0];t:for(;++p<i&&c.length<u;){var m=l[p],g=e?e(m):m;if(m=n||0!==m?m:0,!(v?q(v,g):r(c,g,n))){for(a=o;--a;){var _=s[a];if(!(_?q(_,g):r(t[a],g,n)))continue t}v&&v.push(g),c.push(m)}}return c}function vr(t,e,n,r){return Vn(t,function(t,i,o){e(r,n(t),i,o)}),r}function mr(t,e,n){_o(e,t)||(e=li(e),t=Ao(t,e),e=Xo(e));var r=null==t?t:t[Do(e)];return null==r?nt:o(r,t,n)}function gr(t){return Ps(t)&&Xc.call(t)==Xt}function _r(t){return Ps(t)&&Xc.call(t)==Nt}function yr(t,e,n,r,i){return t===e||(null==t||null==e||!Rs(t)&&!Ps(e)?t!==t&&e!==e:br(t,e,yr,n,r,i))}function br(t,e,n,r,i,o){var a=Bf(t),s=Bf(e),u=Rt,c=Rt;a||(u=Ql(t),u=u==qt?Wt:u),s||(c=Ql(e),c=c==qt?Wt:c);var l=u==Wt&&!B(t),f=c==Wt&&!B(e),h=u==c;if(h&&!l)return o||(o=new hn),a||Kf(t)?Ki(t,e,n,r,i,o):Zi(t,e,u,n,r,i,o);if(!(i&yt)){var d=l&&Jc.call(t,"__wrapped__"),p=f&&Jc.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,m=p?e.value():e;return o||(o=new hn),n(v,m,r,i,o)}}return!!h&&(o||(o=new hn),Xi(t,e,n,r,i,o))}function wr(t){return Ps(t)&&Ql(t)==Yt}function xr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Fc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],l=s[1];if(a&&s[2]){if(c===nt&&!(u in t))return!1}else{var f=new hn;if(r)var h=r(c,l,u,t,e,f);if(!(h===nt?yr(l,c,r,_t|yt,f):h))return!1}}return!0}function kr(t){if(!Rs(t)||wo(t))return!1;var e=Is(t)||B(t)?tl:Ne;return e.test(Mo(t))}function Sr(t){return Rs(t)&&Xc.call(t)==$t}function Er(t){return Ps(t)&&Ql(t)==Vt}function Or(t){return Ps(t)&&qs(t.length)&&!!Rn[Xc.call(t)]}function jr(t){return"function"==typeof t?t:null==t?uc:"object"==typeof t?Bf(t)?Ir(t[0],t[1]):Cr(t):mc(t)}function Ar(t){if(!xo(t))return yl(t);var e=[];for(var n in Fc(t))Jc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Tr(t){if(!Rs(t))return jo(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&Jc.call(t,r))&&n.push(r);return n}function Dr(t,e){return t<e}function Mr(t,e){var n=-1,r=Ss(t)?Lc(t.length):[];return Bl(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Cr(t){var e=oo(t);return 1==e.length&&e[0][2]?So(e[0][0],e[0][1]):function(n){return n===t||xr(n,t,e);
}}function Ir(t,e){return _o(t)&&ko(e)?So(Do(t),e):function(n){var r=vu(n,t);return r===nt&&r===e?gu(n,t):yr(e,r,nt,_t|yt)}}function Lr(t,e,n,r,i){if(t!==e){if(!Bf(e)&&!Kf(e))var o=Tr(e);s(o||e,function(a,s){if(o&&(s=a,a=e[s]),Rs(a))i||(i=new hn),qr(t,e,s,n,Lr,r,i);else{var u=r?r(t[s],a,s+"",t,e,i):nt;u===nt&&(u=a),bn(t,s,u)}})}}function qr(t,e,n,r,i,o,a){var s=t[n],u=e[n],c=a.get(u);if(c)return void bn(t,n,c);var l=o?o(s,u,n+"",t,e,a):nt,f=l===nt;f&&(l=u,Bf(u)||Kf(u)?Bf(s)?l=s:Es(s)?l=Si(s):(f=!1,l=jn(u,!0)):zs(u)||ks(u)?ks(s)?l=ru(s):!Rs(s)||r&&Is(s)?(f=!1,l=jn(u,!0)):l=s:f=!1),f&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),bn(t,n,l)}function Rr(t,e){var n=t.length;if(n)return e+=e<0?n:0,mo(e,n)?t[e]:nt}function Pr(t,e,n){var r=-1;e=d(e.length?e:[uc],I(ro()));var i=Mr(t,function(t,n,i){var o=d(e,function(e){return e(t)});return{criteria:o,index:++r,value:t}});return T(i,function(t,e){return wi(t,e,n)})}function Nr(t,e){return t=Fc(t),Fr(t,e,function(e,n){return n in t})}function Fr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=t[a];n(s,a)&&(o[a]=s)}return o}function Ur(t){return function(e){return Zn(e,t)}}function Hr(t,e,n,r){var i=r?k:x,o=-1,a=e.length,s=t;for(t===e&&(e=Si(e)),n&&(s=d(t,I(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==t&&ul.call(s,u,1),ul.call(t,u,1);return t}function Yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;if(mo(i))ul.call(t,i,1);else if(_o(i,t))delete t[Do(i)];else{var a=li(i),s=Ao(t,a);null!=s&&delete s[Do(Xo(a))]}}}return t}function Br(t,e){return t+pl(kl()*(e-t+1))}function Wr(t,e,n,r){for(var i=-1,o=bl(dl((e-t)/(n||1)),0),a=Lc(o);o--;)a[r?o:++i]=t,t+=n;return a}function zr(t,e){var n="";if(!t||e<1||e>At)return n;do e%2&&(n+=t),e=pl(e/2),e&&(t+=t);while(e);return n}function $r(t,e){return e=bl(e===nt?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=bl(n.length-e,0),a=Lc(i);++r<i;)a[r]=n[e+r];r=-1;for(var s=Lc(e+1);++r<e;)s[r]=n[r];return s[e]=a,o(t,this,s)}}function Vr(t,e,n,r){if(!Rs(t))return t;e=_o(e,t)?[e]:li(e);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Do(e[i]),c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):nt,c===nt&&(c=Rs(l)?l:mo(e[i+1])?[]:{})}wn(s,u,c),s=s[u]}return t}function Gr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Lc(i);++r<i;)o[r]=t[r+e];return o}function Jr(t,e){var n;return Bl(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Kr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=It){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Gs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Zr(t,e,uc,n)}function Zr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s=null===e,u=Gs(e),c=e===nt;i<o;){var l=pl((i+o)/2),f=n(t[l]),h=f!==nt,d=null===f,p=f===f,v=Gs(f);if(a)var m=r||p;else m=c?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=e:f<e);m?i=l+1:o=l}return wl(o,Ct)}function Xr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!xs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Qr(t){return"number"==typeof t?t:Gs(t)?Dt:+t}function ti(t){if("string"==typeof t)return t;if(Gs(t))return Yl?Yl.call(t):"";var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function ei(t,e,n){var r=-1,i=f,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=h;else if(o>=it){var c=e?null:Jl(t);if(c)return G(c);a=!1,i=q,u=new cn}else u=e?[]:s;t:for(;++r<o;){var l=t[r],d=e?e(l):l;if(l=n||0!==l?l:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(l)}else i(u,d,n)||(u!==s&&u.push(d),s.push(l))}return s}function ni(t,e){e=_o(e,t)?[e]:li(e),t=Ao(t,e);var n=Do(Xo(e));return!(null!=t&&Jc.call(t,n))||delete t[n]}function ri(t,e,n,r){return Vr(t,e,n(Zn(t,e)),r)}function ii(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Gr(t,r?0:o,r?o+1:i):Gr(t,r?o+1:0,r?i:o)}function oi(t,e){var n=t;return n instanceof j&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function ai(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?p(Nn(o,t[r],e,n),Nn(t[r],o,e,n)):t[r];return o&&o.length?ei(o,e,n):[]}function si(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:nt;n(a,t[r],s)}return a}function ui(t){return Es(t)?t:[]}function ci(t){return"function"==typeof t?t:uc}function li(t){return Bf(t)?t:of(t)}function fi(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:Gr(t,e,n)}function hi(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function di(t){var e=new t.constructor(t.byteLength);return new rl(e).set(new rl(t)),e}function pi(t,e){var n=e?di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function vi(t,e,n){var i=e?n(z(t),!0):z(t);return v(i,r,new t.constructor)}function mi(t){var e=new t.constructor(t.source,Le.exec(t));return e.lastIndex=t.lastIndex,e}function gi(t,e,n){var r=e?n(G(t),!0):G(t);return v(r,i,new t.constructor)}function _i(t){return Hl?Fc(Hl.call(t)):{}}function yi(t,e){var n=e?di(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function bi(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=Gs(t),a=e!==nt,s=null===e,u=e===e,c=Gs(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function wi(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=bi(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}function xi(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=bl(o-a,0),l=Lc(u+c),f=!r;++s<u;)l[s]=e[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function ki(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=bl(o-s,0),f=Lc(l+c),h=!r;++i<l;)f[i]=t[i];for(var d=i;++u<c;)f[d+u]=e[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function Si(t,e){var n=-1,r=t.length;for(e||(e=Lc(r));++n<r;)e[n]=t[n];return e}function Ei(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):nt;wn(n,a,s===nt?t[a]:s)}return n}function Oi(t,e){return Ei(t,Zl(t),e)}function ji(t,e){return function(n,r){var i=Bf(n)?a:kn,o=e?e():{};return i(n,t,ro(r,2),o)}}function Ai(t){return $r(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&go(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=Fc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Ti(t,e){return function(n,r){if(null==n)return n;if(!Ss(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Fc(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Di(t){return function(e,n,r){for(var i=-1,o=Fc(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(n(o[u],u,o)===!1)break}return e}}function Mi(t,e,n){function r(){var e=this&&this!==$n&&this instanceof r?o:t;return e.apply(i?n:this,arguments)}var i=e&ut,o=Li(t);return r}function Ci(t){return function(e){e=ou(e);var n=H(e)?Z(e):nt,r=n?n[0]:e.charAt(0),i=n?fi(n,1).join(""):e.slice(1);return r[t]()+i}}function Ii(t){return function(e){return v(rc(Pu(e).replace(An,"")),t,"")}}function Li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Cn(t.prototype),r=t.apply(n,e);return Rs(r)?r:n}}function qi(t,e,n){function r(){for(var a=arguments.length,s=Lc(a),u=a,c=no(r);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:V(s,c);if(a-=l.length,a<n)return $i(t,e,Ni,r.placeholder,nt,s,l,nt,nt,n-a);var f=this&&this!==$n&&this instanceof r?i:t;return o(f,this,s)}var i=Li(t);return r}function Ri(t){return function(e,n,r){var i=Fc(e);if(!Ss(e)){var o=ro(n,3);e=_u(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function Pi(t){return $r(function(e){e=zn(e,1);var n=e.length,r=n,i=_.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new Yc(ot);if(i&&!a&&"wrapper"==eo(o))var a=new _([],(!0))}for(r=a?r:n;++r<n;){o=e[r];var s=eo(o),u="wrapper"==s?Kl(o):nt;a=u&&bo(u[0])&&u[1]==(vt|ft|dt|mt)&&!u[4].length&&1==u[9]?a[eo(u[0])].apply(a,u[3]):1==o.length&&bo(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Bf(r)&&r.length>=it)return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Ni(t,e,n,r,i,o,a,s,u,c){function l(){for(var g=arguments.length,_=Lc(g),y=g;y--;)_[y]=arguments[y];if(p)var b=no(l),w=N(_,b);if(r&&(_=xi(_,r,i,p)),o&&(_=ki(_,o,a,p)),g-=w,p&&g<c){var x=V(_,b);return $i(t,e,Ni,l.placeholder,n,_,x,s,u,c-g)}var k=h?n:this,S=d?k[t]:t;return g=_.length,s?_=To(_,s):v&&g>1&&_.reverse(),f&&u<g&&(_.length=u),this&&this!==$n&&this instanceof l&&(S=m||Li(S)),S.apply(k,_)}var f=e&vt,h=e&ut,d=e&ct,p=e&(ft|ht),v=e&gt,m=d?nt:Li(t);return l}function Fi(t,e){return function(n,r){return vr(n,t,e(r),{})}}function Ui(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=ti(n),r=ti(r)):(n=Qr(n),r=Qr(r)),i=t(n,r)}return i}}function Hi(t){return $r(function(e){return e=1==e.length&&Bf(e[0])?d(e[0],I(ro())):d(zn(e,1),I(ro())),$r(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function Yi(t,e){e=e===nt?" ":ti(e);var n=e.length;if(n<2)return n?zr(e,t):e;var r=zr(e,dl(t/K(e)));return H(e)?fi(Z(r),0,t).join(""):r.slice(0,t)}function Bi(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,l=r.length,f=Lc(l+u),h=this&&this!==$n&&this instanceof i?s:t;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++e];return o(h,a?n:this,f)}var a=e&ut,s=Li(t);return i}function Wi(t){return function(e,n,r){return r&&"number"!=typeof r&&go(e,n,r)&&(n=r=nt),e=Qs(e),n===nt?(n=e,e=0):n=Qs(n),r=r===nt?e<n?1:-1:Qs(r),Wr(e,n,r,t)}}function zi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=nu(e),n=nu(n)),t(e,n)}}function $i(t,e,n,r,i,o,a,s,u,c){var l=e&ft,f=l?a:nt,h=l?nt:a,d=l?o:nt,p=l?nt:o;e|=l?dt:pt,e&=~(l?pt:dt),e&lt||(e&=~(ut|ct));var v=[t,e,i,d,f,p,h,s,u,c],m=n.apply(nt,v);return bo(t)&&ef(m,v),m.placeholder=r,rf(m,t,e)}function Vi(t){var e=Nc[t];return function(t,n){if(t=nu(t),n=wl(tu(n),292)){var r=(ou(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(ou(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function Gi(t){return function(e){var n=Ql(e);return n==Yt?z(e):n==Vt?J(e):C(e,t(e))}}function Ji(t,e,n,r,i,o,a,s){var u=e&ct;if(!u&&"function"!=typeof t)throw new Yc(ot);var c=r?r.length:0;if(c||(e&=~(dt|pt),r=i=nt),a=a===nt?a:bl(tu(a),0),s=s===nt?s:tu(s),c-=i?i.length:0,e&pt){var l=r,f=i;r=i=nt}var h=u?nt:Kl(t),d=[t,e,n,r,i,l,f,o,a,s];if(h&&Eo(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=null==d[9]?u?0:t.length:bl(d[9]-c,0),!s&&e&(ft|ht)&&(e&=~(ft|ht)),e&&e!=ut)p=e==ft||e==ht?qi(t,e,s):e!=dt&&e!=(ut|dt)||i.length?Ni.apply(nt,d):Bi(t,e,n,r);else var p=Mi(t,e,n);var v=h?Vl:ef;return rf(v(p,d),t,e)}function Ki(t,e,n,r,i,o){var a=i&yt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=i&_t?new cn:nt;for(o.set(t,e),o.set(e,t);++l<s;){var d=t[l],p=e[l];if(r)var v=a?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(v!==nt){if(v)continue;f=!1;break}if(h){if(!g(e,function(t,e){if(!h.has(e)&&(d===t||n(d,t,r,i,o)))return h.add(e)})){f=!1;break}}else if(d!==p&&!n(d,p,r,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Zi(t,e,n,r,i,o,a){switch(n){case Qt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xt:return!(t.byteLength!=e.byteLength||!r(new rl(t),new rl(e)));case Pt:case Nt:case Bt:return xs(+t,+e);case Ft:return t.name==e.name&&t.message==e.message;case $t:case Gt:return t==e+"";case Yt:var s=z;case Vt:var u=o&yt;if(s||(s=G),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;o|=_t,a.set(t,e);var l=Ki(s(t),s(e),r,i,o,a);return a.delete(t),l;case Jt:if(Hl)return Hl.call(t)==Hl.call(e)}return!1}function Xi(t,e,n,r,i,o){var a=i&yt,s=_u(t),u=s.length,c=_u(e),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in e:Jc.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<u;){h=s[f];var m=t[h],g=e[h];if(r)var _=a?r(g,m,h,e,t,o):r(m,g,h,t,e,o);if(!(_===nt?m===g||n(m,g,r,i,o):_)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(t),o.delete(e),p}function Qi(t){return ir(t,_u,Zl)}function to(t){return ir(t,yu,Xl)}function eo(t){for(var e=t.name+"",n=Ll[e],r=Jc.call(Ll,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function no(t){var n=Jc.call(e,"placeholder")?e:t;return n.placeholder}function ro(){var t=e.iteratee||cc;return t=t===cc?jr:t,arguments.length?t(arguments[0],arguments[1]):t}function io(t,e){var n=t.__data__;return yo(e)?n["string"==typeof e?"string":"hash"]:n.map}function oo(t){for(var e=_u(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ko(i)]}return e}function ao(t,e){var n=U(t,e);return kr(n)?n:nt}function so(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wl(e,t+a);break;case"takeRight":t=bl(t,e-a)}}return{start:t,end:e}}function uo(t){var e=t.match(Te);return e?e[1].split(De):[]}function co(t,e,n){e=_o(e,t)?[e]:li(e);for(var r,i=-1,o=e.length;++i<o;){var a=Do(e[i]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}if(r)return r;var o=t?t.length:0;return!!o&&qs(o)&&mo(a,o)&&(Bf(t)||ks(t))}function lo(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Jc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function fo(t){return"function"!=typeof t.constructor||xo(t)?{}:Cn(il(t))}function ho(t,e,n,r){var i=t.constructor;switch(e){case Xt:return di(t);case Pt:case Nt:return new i((+t));case Qt:return pi(t,r);case te:case ee:case ne:case re:case ie:case oe:case ae:case se:case ue:return yi(t,r);case Yt:return vi(t,r,n);case Bt:case Gt:return new i(t);case $t:return mi(t);case Vt:return gi(t,r,n);case Jt:return _i(t)}}function po(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ae,"{\n/* [wrapped with "+e+"] */\n")}function vo(t){return Bf(t)||ks(t)||!!(cl&&t&&t[cl])}function mo(t,e){return e=null==e?At:e,!!e&&("number"==typeof t||Ue.test(t))&&t>-1&&t%1==0&&t<e}function go(t,e,n){if(!Rs(n))return!1;var r=typeof e;return!!("number"==r?Ss(n)&&mo(e,n.length):"string"==r&&e in n)&&xs(n[e],t)}function _o(t,e){if(Bf(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Gs(t))||(be.test(t)||!ye.test(t)||null!=e&&t in Fc(e))}function yo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function bo(t){var n=eo(t),r=e[n];if("function"!=typeof r||!(n in j.prototype))return!1;if(t===r)return!0;var i=Kl(r);return!!i&&t===i[0]}function wo(t){return!!Vc&&Vc in t}function xo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||zc;return t===n}function ko(t){return t===t&&!Rs(t)}function So(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in Fc(n)))}}function Eo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(ut|ct|vt),a=r==vt&&n==ft||r==vt&&n==mt&&t[7].length<=e[8]||r==(vt|mt)&&e[7].length<=e[8]&&n==ft;if(!o&&!a)return t;r&ut&&(t[2]=e[2],i|=n&ut?0:lt);var s=e[3];if(s){var u=t[3];t[3]=u?xi(u,s,e[4]):s,t[4]=u?V(t[3],st):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?ki(u,s,e[6]):s,t[6]=u?V(t[5],st):e[6]),s=e[7],s&&(t[7]=s),r&vt&&(t[8]=null==t[8]?e[8]:wl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Oo(t,e,n,r,i,o){return Rs(t)&&Rs(e)&&(o.set(e,t),Lr(t,e,nt,Oo,o),o.delete(e)),t}function jo(t){var e=[];if(null!=t)for(var n in Fc(t))e.push(n);return e}function Ao(t,e){return 1==e.length?t:Zn(t,Gr(e,0,-1))}function To(t,e){for(var n=t.length,r=wl(e.length,n),i=Si(t);r--;){var o=e[r];t[r]=mo(o,n)?i[o]:nt}return t}function Do(t){if("string"==typeof t||Gs(t))return t;var e=t+"";return"0"==e&&1/t==-jt?"-0":e}function Mo(t){if(null!=t){try{return Gc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Co(t,e){return s(Lt,function(n){var r="_."+n[0];e&n[1]&&!f(t,r)&&t.push(r)}),t.sort()}function Io(t){if(t instanceof j)return t.clone();var e=new _(t.__wrapped__,t.__chain__);return e.__actions__=Si(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Lo(t,e,n){e=(n?go(t,e,n):e===nt)?1:bl(tu(e),0);var r=t?t.length:0;if(!r||e<1)return[];for(var i=0,o=0,a=Lc(dl(r/e));i<r;)a[o++]=Gr(t,i,i+=e);return a}function qo(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function Ro(){for(var t=arguments.length,e=Lc(t?t-1:0),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return t?p(Bf(n)?Si(n):[n],zn(e,1)):[]}function Po(t,e,n){var r=t?t.length:0;return r?(e=n||e===nt?1:tu(e),Gr(t,e<0?0:e,r)):[]}function No(t,e,n){var r=t?t.length:0;return r?(e=n||e===nt?1:tu(e),e=r-e,Gr(t,0,e<0?0:e)):[]}function Fo(t,e){return t&&t.length?ii(t,ro(e,3),!0,!0):[]}function Uo(t,e){return t&&t.length?ii(t,ro(e,3),!0):[]}function Ho(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&go(t,e,n)&&(n=0,r=i),Hn(t,e,n,r)):[]}function Yo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:tu(n);return i<0&&(i=bl(r+i,0)),w(t,ro(e,3),i)}function Bo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r-1;return n!==nt&&(i=tu(n),i=n<0?bl(r+i,0):wl(i,r-1)),w(t,ro(e,3),i,!0)}function Wo(t){var e=t?t.length:0;return e?zn(t,1):[]}function zo(t){var e=t?t.length:0;return e?zn(t,jt):[]}function $o(t,e){var n=t?t.length:0;return n?(e=e===nt?1:tu(e),zn(t,e)):[]}function Vo(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function Go(t){return t&&t.length?t[0]:nt}function Jo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=null==n?0:tu(n);return i<0&&(i=bl(r+i,0)),x(t,e,i)}function Ko(t){var e=t?t.length:0;return e?Gr(t,0,-1):[]}function Zo(t,e){return t?_l.call(t,e):""}function Xo(t){var e=t?t.length:0;return e?t[e-1]:nt}function Qo(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==nt&&(i=tu(n),i=(i<0?bl(r+i,0):wl(i,r-1))+1),e!==e)return w(t,S,i-1,!0);for(;i--;)if(t[i]===e)return i;return-1}function ta(t,e){return t&&t.length?Rr(t,tu(e)):nt}function ea(t,e){return t&&t.length&&e&&e.length?Hr(t,e):t}function na(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,ro(n,2)):t}function ra(t,e,n){return t&&t.length&&e&&e.length?Hr(t,e,nt,n):t}function ia(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ro(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Yr(t,i),n}function oa(t){return t?Sl.call(t):t}function aa(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&go(t,e,n)?(e=0,n=r):(e=null==e?0:tu(e),n=n===nt?r:tu(n)),Gr(t,e,n)):[]}function sa(t,e){return Kr(t,e)}function ua(t,e,n){return Zr(t,e,ro(n,2))}function ca(t,e){var n=t?t.length:0;if(n){var r=Kr(t,e);if(r<n&&xs(t[r],e))return r}return-1}function la(t,e){return Kr(t,e,!0)}function fa(t,e,n){return Zr(t,e,ro(n,2),!0)}function ha(t,e){var n=t?t.length:0;if(n){var r=Kr(t,e,!0)-1;if(xs(t[r],e))return r}return-1}function da(t){return t&&t.length?Xr(t):[]}function pa(t,e){return t&&t.length?Xr(t,ro(e,2)):[]}function va(t){var e=t?t.length:0;return e?Gr(t,1,e):[]}function ma(t,e,n){return t&&t.length?(e=n||e===nt?1:tu(e),Gr(t,0,e<0?0:e)):[]}function ga(t,e,n){var r=t?t.length:0;return r?(e=n||e===nt?1:tu(e),e=r-e,Gr(t,e<0?0:e,r)):[]}function _a(t,e){return t&&t.length?ii(t,ro(e,3),!1,!0):[]}function ya(t,e){return t&&t.length?ii(t,ro(e,3)):[]}function ba(t){return t&&t.length?ei(t):[]}function wa(t,e){return t&&t.length?ei(t,ro(e,2)):[]}function xa(t,e){return t&&t.length?ei(t,nt,e):[]}function ka(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(Es(t))return e=bl(t.length,e),!0}),M(e,function(e){return d(t,O(e))})}function Sa(t,e){if(!t||!t.length)return[];var n=ka(t);return null==e?n:d(n,function(t){return o(e,nt,t)})}function Ea(t,e){return si(t||[],e||[],wn)}function Oa(t,e){return si(t||[],e||[],Vr)}function ja(t){var n=e(t);return n.__chain__=!0,n}function Aa(t,e){return e(t),t}function Ta(t,e){return e(t)}function Da(){return ja(this)}function Ma(){return new _(this.value(),this.__chain__)}function Ca(){this.__values__===nt&&(this.__values__=Xs(this.value()));var t=this.__index__>=this.__values__.length,e=t?nt:this.__values__[this.__index__++];return{done:t,value:e}}function Ia(){return this}function La(t){for(var e,r=this;r instanceof n;){var i=Io(r);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function qa(){var t=this.__wrapped__;if(t instanceof j){var e=t;return this.__actions__.length&&(e=new j(this)),e=e.reverse(),e.__actions__.push({func:Ta,args:[oa],thisArg:nt}),new _(e,this.__chain__)}return this.thru(oa)}function Ra(){return oi(this.__wrapped__,this.__actions__)}function Pa(t,e,n){var r=Bf(t)?c:Fn;return n&&go(t,e,n)&&(e=nt),r(t,ro(e,3))}function Na(t,e){var n=Bf(t)?l:Wn;return n(t,ro(e,3))}function Fa(t,e){return zn(za(t,e),1)}function Ua(t,e){return zn(za(t,e),jt)}function Ha(t,e,n){return n=n===nt?1:tu(n),zn(za(t,e),n)}function Ya(t,e){var n=Bf(t)?s:Bl;return n(t,ro(e,3))}function Ba(t,e){var n=Bf(t)?u:Wl;return n(t,ro(e,3))}function Wa(t,e,n,r){t=Ss(t)?t:Mu(t),n=n&&!r?tu(n):0;var i=t.length;return n<0&&(n=bl(i+n,0)),Vs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&x(t,e,n)>-1}function za(t,e){var n=Bf(t)?d:Mr;return n(t,ro(e,3))}function $a(t,e,n,r){return null==t?[]:(Bf(e)||(e=null==e?[]:[e]),n=r?nt:n,Bf(n)||(n=null==n?[]:[n]),Pr(t,e,n))}function Va(t,e,n){var r=Bf(t)?v:A,i=arguments.length<3;return r(t,ro(e,4),n,i,Bl)}function Ga(t,e,n){var r=Bf(t)?m:A,i=arguments.length<3;return r(t,ro(e,4),n,i,Wl)}function Ja(t,e){var n=Bf(t)?l:Wn;return n(t,cs(ro(e,3)))}function Ka(t){var e=Ss(t)?t:Mu(t),n=e.length;return n>0?e[Br(0,n-1)]:nt}function Za(t,e,n){var r=-1,i=Xs(t),o=i.length,a=o-1;for(e=(n?go(t,e,n):e===nt)?1:On(tu(e),0,o);++r<e;){var s=Br(r,a),u=i[s];i[s]=i[r],i[r]=u}return i.length=e,i}function Xa(t){return Za(t,Mt)}function Qa(t){if(null==t)return 0;if(Ss(t))return Vs(t)?K(t):t.length;var e=Ql(t);return e==Yt||e==Vt?t.size:Ar(t).length}function ts(t,e,n){var r=Bf(t)?g:Jr;return n&&go(t,e,n)&&(e=nt),r(t,ro(e,3))}function es(t,e){if("function"!=typeof e)throw new Yc(ot);return t=tu(t),function(){if(--t<1)return e.apply(this,arguments)}}function ns(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,Ji(t,vt,nt,nt,nt,nt,e)}function rs(t,e){var n;if("function"!=typeof e)throw new Yc(ot);return t=tu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function is(t,e,n){e=n?nt:e;var r=Ji(t,ft,nt,nt,nt,nt,nt,e);return r.placeholder=is.placeholder,r}function os(t,e,n){e=n?nt:e;var r=Ji(t,ht,nt,nt,nt,nt,nt,e);return r.placeholder=os.placeholder,r}function as(t,e,n){function r(e){var n=h,r=d;return h=d=nt,_=e,v=t.apply(r,n)}function i(t){return _=t,m=nf(s,e),y?r(t):v}function o(t){var n=t-g,r=t-_,i=e-n;return b?wl(i,p-r):i}function a(t){var n=t-g,r=t-_;return g===nt||n>=e||n<0||b&&r>=p}function s(){var t=Cf();return a(t)?u(t):void(m=nf(s,o(t)))}function u(t){return m=nt,w&&h?r(t):(h=d=nt,v)}function c(){m!==nt&&Gl(m),_=0,h=g=d=m=nt}function l(){return m===nt?v:u(Cf())}function f(){var t=Cf(),n=a(t);if(h=arguments,d=this,g=t,n){if(m===nt)return i(g);if(b)return m=nf(s,e),r(g)}return m===nt&&(m=nf(s,e)),v}var h,d,p,v,m,g,_=0,y=!1,b=!1,w=!0;if("function"!=typeof t)throw new Yc(ot);return e=nu(e)||0,Rs(n)&&(y=!!n.leading,b="maxWait"in n,p=b?bl(nu(n.maxWait)||0,e):p,w="trailing"in n?!!n.trailing:w),f.cancel=c,f.flush=l,f}function ss(t){return Ji(t,gt)}function us(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Yc(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(us.Cache||nn),n}function cs(t){if("function"!=typeof t)throw new Yc(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ls(t){return rs(2,t)}function fs(t,e){if("function"!=typeof t)throw new Yc(ot);return e=e===nt?e:tu(e),$r(t,e)}function hs(t,e){if("function"!=typeof t)throw new Yc(ot);return e=e===nt?0:bl(tu(e),0),$r(function(n){var r=n[e],i=fi(n,0,e);return r&&p(i,r),o(t,this,i)})}function ds(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Yc(ot);return Rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),as(t,e,{leading:r,maxWait:e,trailing:i})}function ps(t){return ns(t,1)}function vs(t,e){return e=null==e?uc:e,Nf(e,t)}function ms(){if(!arguments.length)return[];var t=arguments[0];return Bf(t)?t:[t]}function gs(t){return jn(t,!1,!0)}function _s(t,e){return jn(t,!1,!0,e)}function ys(t){return jn(t,!0,!0)}function bs(t,e){return jn(t,!0,!0,e)}function ws(t,e){return null==e||Mn(t,e,_u(e))}function xs(t,e){return t===e||t!==t&&e!==e}function ks(t){return Es(t)&&Jc.call(t,"callee")&&(!sl.call(t,"callee")||Xc.call(t)==qt)}function Ss(t){return null!=t&&qs(t.length)&&!Is(t)}function Es(t){return Ps(t)&&Ss(t)}function Os(t){return t===!0||t===!1||Ps(t)&&Xc.call(t)==Pt}function js(t){return!!t&&1===t.nodeType&&Ps(t)&&!zs(t)}function As(t){if(Ss(t)&&(Bf(t)||"string"==typeof t||"function"==typeof t.splice||zf(t)||ks(t)))return!t.length;var e=Ql(t);if(e==Yt||e==Vt)return!t.size;if(Il||xo(t))return!yl(t).length;for(var n in t)if(Jc.call(t,n))return!1;return!0}function Ts(t,e){return yr(t,e)}function Ds(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?yr(t,e,n):!!r}function Ms(t){return!!Ps(t)&&(Xc.call(t)==Ft||"string"==typeof t.message&&"string"==typeof t.name)}function Cs(t){return"number"==typeof t&&gl(t)}function Is(t){var e=Rs(t)?Xc.call(t):"";return e==Ut||e==Ht}function Ls(t){return"number"==typeof t&&t==tu(t)}function qs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=At}function Rs(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ps(t){return!!t&&"object"==typeof t}function Ns(t,e){return t===e||xr(t,e,oo(e))}function Fs(t,e,n){return n="function"==typeof n?n:nt,xr(t,e,oo(e),n)}function Us(t){return Ws(t)&&t!=+t}function Hs(t){if(tf(t))throw new Rc("This method is not supported with core-js. Try https://github.com/es-shims.");return kr(t)}function Ys(t){return null===t}function Bs(t){return null==t}function Ws(t){return"number"==typeof t||Ps(t)&&Xc.call(t)==Bt}function zs(t){if(!Ps(t)||Xc.call(t)!=Wt||B(t))return!1;var e=il(t);if(null===e)return!0;var n=Jc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Gc.call(n)==Zc}function $s(t){return Ls(t)&&t>=-At&&t<=At}function Vs(t){return"string"==typeof t||!Bf(t)&&Ps(t)&&Xc.call(t)==Gt}function Gs(t){return"symbol"==typeof t||Ps(t)&&Xc.call(t)==Jt}function Js(t){return t===nt}function Ks(t){return Ps(t)&&Ql(t)==Kt}function Zs(t){return Ps(t)&&Xc.call(t)==Zt}function Xs(t){if(!t)return[];if(Ss(t))return Vs(t)?Z(t):Si(t);if(ol&&t[ol])return W(t[ol]());var e=Ql(t),n=e==Yt?z:e==Vt?G:Mu;return n(t)}function Qs(t){if(!t)return 0===t?t:0;if(t=nu(t),t===jt||t===-jt){var e=t<0?-1:1;return e*Tt}return t===t?t:0}function tu(t){var e=Qs(t),n=e%1;return e===e?n?e-n:e:0}function eu(t){return t?On(tu(t),0,Mt):0}function nu(t){if("number"==typeof t)return t;if(Gs(t))return Dt;if(Rs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Rs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ee,"");var n=Pe.test(t);return n||Fe.test(t)?Bn(t.slice(2),n?2:8):Re.test(t)?Dt:+t}function ru(t){return Ei(t,yu(t))}function iu(t){return On(tu(t),-At,At)}function ou(t){return null==t?"":ti(t)}function au(t,e){var n=Cn(t);return e?Sn(n,e):n}function su(t,e){return b(t,ro(e,3),Vn)}function uu(t,e){return b(t,ro(e,3),Gn)}function cu(t,e){return null==t?t:zl(t,ro(e,3),yu)}function lu(t,e){return null==t?t:$l(t,ro(e,3),yu)}function fu(t,e){return t&&Vn(t,ro(e,3))}function hu(t,e){return t&&Gn(t,ro(e,3))}function du(t){return null==t?[]:Kn(t,_u(t))}function pu(t){return null==t?[]:Kn(t,yu(t))}function vu(t,e,n){var r=null==t?nt:Zn(t,e);return r===nt?n:r}function mu(t,e){return null!=t&&co(t,e,fr)}function gu(t,e){return null!=t&&co(t,e,hr)}function _u(t){return Ss(t)?_n(t):Ar(t)}function yu(t){return Ss(t)?_n(t,!0):Tr(t)}function bu(t,e){var n={};return e=ro(e,3),Vn(t,function(t,r,i){n[e(t,r,i)]=t}),n}function wu(t,e){var n={};return e=ro(e,3),Vn(t,function(t,r,i){n[r]=e(t,r,i)}),n}function xu(t,e){return ku(t,cs(ro(e)))}function ku(t,e){return null==t?{}:Fr(t,to(t),ro(e))}function Su(t,e,n){e=_o(e,t)?[e]:li(e);var r=-1,i=e.length;for(i||(t=nt,i=1);++r<i;){var o=null==t?nt:t[Do(e[r])];o===nt&&(r=i,o=n),t=Is(o)?o.call(t):o}return t}function Eu(t,e,n){return null==t?t:Vr(t,e,n)}function Ou(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:Vr(t,e,n,r)}function ju(t,e,n){var r=Bf(t)||Kf(t);if(e=ro(e,4),null==n)if(r||Rs(t)){var i=t.constructor;n=r?Bf(t)?new i:[]:Is(i)?Cn(il(t)):{}}else n={};return(r?s:Vn)(t,function(t,r,i){return e(n,t,r,i)}),n}function Au(t,e){return null==t||ni(t,e)}function Tu(t,e,n){return null==t?t:ri(t,e,ci(n))}function Du(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ri(t,e,ci(n),r)}function Mu(t){return t?L(t,_u(t)):[]}function Cu(t){return null==t?[]:L(t,yu(t))}function Iu(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=nu(n),n=n===n?n:0),e!==nt&&(e=nu(e),e=e===e?e:0),On(nu(t),e,n)}function Lu(t,e,n){return e=Qs(e),n===nt?(n=e,e=0):n=Qs(n),t=nu(t),dr(t,e,n)}function qu(t,e,n){if(n&&"boolean"!=typeof n&&go(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=Qs(t),e===nt?(e=t,t=0):e=Qs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=kl();return wl(t+i*(e-t+Yn("1e-"+((i+"").length-1))),e)}return Br(t,e)}function Ru(t){return xh(ou(t).toLowerCase())}function Pu(t){return t=ou(t),t&&t.replace(He,or).replace(Tn,"")}function Nu(t,e,n){t=ou(t),e=ti(e);var r=t.length;n=n===nt?r:On(tu(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function Fu(t){return t=ou(t),t&&ve.test(t)?t.replace(de,ar):t}function Uu(t){return t=ou(t),t&&Se.test(t)?t.replace(ke,"\\$&"):t}function Hu(t,e,n){t=ou(t),e=tu(e);var r=e?K(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Yi(pl(i),n)+t+Yi(dl(i),n)}function Yu(t,e,n){t=ou(t),e=tu(e);var r=e?K(t):0;return e&&r<e?t+Yi(e-r,n):t}function Bu(t,e,n){t=ou(t),e=tu(e);var r=e?K(t):0;return e&&r<e?Yi(e-r,n)+t:t}function Wu(t,e,n){return n||null==e?e=0:e&&(e=+e),t=ou(t).replace(Ee,""),xl(t,e||(qe.test(t)?16:10))}function zu(t,e,n){return e=(n?go(t,e,n):e===nt)?1:tu(e),zr(ou(t),e)}function $u(){var t=arguments,e=ou(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function Vu(t,e,n){return n&&"number"!=typeof n&&go(t,e,n)&&(e=n=nt),(n=n===nt?Mt:n>>>0)?(t=ou(t),t&&("string"==typeof e||null!=e&&!Gf(e))&&(e=ti(e),!e&&H(t))?fi(Z(t),0,n):t.split(e,n)):[]}function Gu(t,e,n){return t=ou(t),n=On(tu(n),0,t.length),e=ti(e),t.slice(n,n+e.length)==e}function Ju(t,n,r){var i=e.templateSettings;r&&go(t,n,r)&&(n=nt),t=ou(t),n=eh({},n,i,yn);var o,a,s=eh({},n.imports,i.imports,yn),u=_u(s),c=L(s,u),l=0,f=n.interpolate||Ye,h="__p += '",d=Uc((n.escape||Ye).source+"|"+f.source+"|"+(f===_e?Ie:Ye).source+"|"+(n.evaluate||Ye).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++qn+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(l,u).replace(Be,F),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(ce,""):h).replace(le,"$1").replace(fe,"$1;"),
h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=kh(function(){return Pc(u,p+"return "+h).apply(nt,c)});if(m.source=h,Ms(m))throw m;return m}function Ku(t){return ou(t).toLowerCase()}function Zu(t){return ou(t).toUpperCase()}function Xu(t,e,n){if(t=ou(t),t&&(n||e===nt))return t.replace(Ee,"");if(!t||!(e=ti(e)))return t;var r=Z(t),i=Z(e),o=R(r,i),a=P(r,i)+1;return fi(r,o,a).join("")}function Qu(t,e,n){if(t=ou(t),t&&(n||e===nt))return t.replace(je,"");if(!t||!(e=ti(e)))return t;var r=Z(t),i=P(r,Z(e))+1;return fi(r,0,i).join("")}function tc(t,e,n){if(t=ou(t),t&&(n||e===nt))return t.replace(Oe,"");if(!t||!(e=ti(e)))return t;var r=Z(t),i=R(r,Z(e));return fi(r,i).join("")}function ec(t,e){var n=bt,r=wt;if(Rs(e)){var i="separator"in e?e.separator:i;n="length"in e?tu(e.length):n,r="omission"in e?ti(e.omission):r}t=ou(t);var o=t.length;if(H(t)){var a=Z(t);o=a.length}if(n>=o)return t;var s=n-K(r);if(s<1)return r;var u=a?fi(a,0,s).join(""):t.slice(0,s);if(i===nt)return u+r;if(a&&(s+=u.length-s),Gf(i)){if(t.slice(s).search(i)){var c,l=u;for(i.global||(i=Uc(i.source,ou(Le.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===nt?s:f)}}else if(t.indexOf(ti(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function nc(t){return t=ou(t),t&&pe.test(t)?t.replace(he,sr):t}function rc(t,e,n){return t=ou(t),e=n?nt:e,e===nt?Y(t)?tt(t):y(t):t.match(e)||[]}function ic(t){var e=t?t.length:0,n=ro();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new Yc(ot);return[n(t[0]),t[1]]}):[],$r(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function oc(t){return Dn(jn(t,!0))}function ac(t){return function(){return t}}function sc(t,e){return null==t||t!==t?e:t}function uc(t){return t}function cc(t){return jr("function"==typeof t?t:jn(t,!0))}function lc(t){return Cr(jn(t,!0))}function fc(t,e){return Ir(t,jn(e,!0))}function hc(t,e,n){var r=_u(e),i=Kn(e,r);null!=n||Rs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Kn(e,_u(e)));var o=!(Rs(n)&&"chain"in n&&!n.chain),a=Is(t);return s(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Si(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function dc(){return $n._===this&&($n._=Qc),this}function pc(){}function vc(t){return t=tu(t),$r(function(e){return Rr(e,t)})}function mc(t){return _o(t)?O(Do(t)):Ur(t)}function gc(t){return function(e){return null==t?nt:Zn(t,e)}}function _c(){return[]}function yc(){return!1}function bc(){return{}}function wc(){return""}function xc(){return!0}function kc(t,e){if(t=tu(t),t<1||t>At)return[];var n=Mt,r=wl(t,Mt);e=ro(e),t-=Mt;for(var i=M(r,e);++n<t;)e(n);return i}function Sc(t){return Bf(t)?d(t,Do):Gs(t)?[t]:Si(of(t))}function Ec(t){var e=++Kc;return ou(t)+e}function Oc(t){return t&&t.length?Un(t,uc,lr):nt}function jc(t,e){return t&&t.length?Un(t,ro(e,2),lr):nt}function Ac(t){return E(t,uc)}function Tc(t,e){return E(t,ro(e,2))}function Dc(t){return t&&t.length?Un(t,uc,Dr):nt}function Mc(t,e){return t&&t.length?Un(t,ro(e,2),Dr):nt}function Cc(t){return t&&t.length?D(t,uc):0}function Ic(t,e){return t&&t.length?D(t,ro(e,2)):0}t=t?ur.defaults($n.Object(),t,ur.pick($n,Ln)):$n;var Lc=t.Array,qc=t.Date,Rc=t.Error,Pc=t.Function,Nc=t.Math,Fc=t.Object,Uc=t.RegExp,Hc=t.String,Yc=t.TypeError,Bc=Lc.prototype,Wc=Pc.prototype,zc=Fc.prototype,$c=t["__core-js_shared__"],Vc=function(){var t=/[^.]+$/.exec($c&&$c.keys&&$c.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Gc=Wc.toString,Jc=zc.hasOwnProperty,Kc=0,Zc=Gc.call(Fc),Xc=zc.toString,Qc=$n._,tl=Uc("^"+Gc.call(Jc).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),el=Jn?t.Buffer:nt,nl=t.Symbol,rl=t.Uint8Array,il=$(Fc.getPrototypeOf,Fc),ol=nl?nl.iterator:nt,al=Fc.create,sl=zc.propertyIsEnumerable,ul=Bc.splice,cl=nl?nl.isConcatSpreadable:nt,ll=t.clearTimeout!==$n.clearTimeout&&t.clearTimeout,fl=qc&&qc.now!==$n.Date.now&&qc.now,hl=t.setTimeout!==$n.setTimeout&&t.setTimeout,dl=Nc.ceil,pl=Nc.floor,vl=Fc.getOwnPropertySymbols,ml=el?el.isBuffer:nt,gl=t.isFinite,_l=Bc.join,yl=$(Fc.keys,Fc),bl=Nc.max,wl=Nc.min,xl=t.parseInt,kl=Nc.random,Sl=Bc.reverse,El=ao(t,"DataView"),Ol=ao(t,"Map"),jl=ao(t,"Promise"),Al=ao(t,"Set"),Tl=ao(t,"WeakMap"),Dl=ao(Fc,"create"),Ml=function(){var t=ao(Fc,"defineProperty"),e=ao.name;return e&&e.length>2?t:nt}(),Cl=Tl&&new Tl,Il=!sl.call({valueOf:1},"valueOf"),Ll={},ql=Mo(El),Rl=Mo(Ol),Pl=Mo(jl),Nl=Mo(Al),Fl=Mo(Tl),Ul=nl?nl.prototype:nt,Hl=Ul?Ul.valueOf:nt,Yl=Ul?Ul.toString:nt;e.templateSettings={escape:me,evaluate:ge,interpolate:_e,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,_.prototype=Cn(n.prototype),_.prototype.constructor=_,j.prototype=Cn(n.prototype),j.prototype.constructor=j,We.prototype.clear=ze,We.prototype.delete=$e,We.prototype.get=Ve,We.prototype.has=Ge,We.prototype.set=Je,Ke.prototype.clear=Ze,Ke.prototype.delete=Xe,Ke.prototype.get=Qe,Ke.prototype.has=tn,Ke.prototype.set=en,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=un,cn.prototype.add=cn.prototype.push=ln,cn.prototype.has=fn,hn.prototype.clear=dn,hn.prototype.delete=pn,hn.prototype.get=vn,hn.prototype.has=mn,hn.prototype.set=gn;var Bl=Ti(Vn),Wl=Ti(Gn,!0),zl=Di(),$l=Di(!0),Vl=Cl?function(t,e){return Cl.set(t,e),t}:uc,Gl=ll||function(t){return $n.clearTimeout(t)},Jl=Al&&1/G(new Al([,-0]))[1]==jt?function(t){return new Al(t)}:pc,Kl=Cl?function(t){return Cl.get(t)}:pc,Zl=vl?$(vl,Fc):_c,Xl=vl?function(t){for(var e=[];t;)p(e,Zl(t)),t=il(t);return e}:_c,Ql=cr;(El&&Ql(new El(new ArrayBuffer(1)))!=Qt||Ol&&Ql(new Ol)!=Yt||jl&&Ql(jl.resolve())!=zt||Al&&Ql(new Al)!=Vt||Tl&&Ql(new Tl)!=Kt)&&(Ql=function(t){var e=Xc.call(t),n=e==Wt?t.constructor:nt,r=n?Mo(n):nt;if(r)switch(r){case ql:return Qt;case Rl:return Yt;case Pl:return zt;case Nl:return Vt;case Fl:return Kt}return e});var tf=$c?Is:yc,ef=function(){var t=0,e=0;return function(n,r){var i=Cf(),o=kt-(i-e);if(e=i,o>0){if(++t>=xt)return n}else t=0;return Vl(n,r)}}(),nf=hl||function(t,e){return $n.setTimeout(t,e)},rf=Ml?function(t,e,n){var r=e+"";return Ml(t,"toString",{configurable:!0,enumerable:!1,value:ac(po(r,Co(uo(r),n)))})}:uc,of=us(function(t){t=ou(t);var e=[];return we.test(t)&&e.push(""),t.replace(xe,function(t,n,r,i){e.push(r?i.replace(Ce,"$1"):n||t)}),e}),af=$r(function(t,e){return Es(t)?Nn(t,zn(e,1,Es,!0)):[]}),sf=$r(function(t,e){var n=Xo(e);return Es(n)&&(n=nt),Es(t)?Nn(t,zn(e,1,Es,!0),ro(n,2)):[]}),uf=$r(function(t,e){var n=Xo(e);return Es(n)&&(n=nt),Es(t)?Nn(t,zn(e,1,Es,!0),nt,n):[]}),cf=$r(function(t){var e=d(t,ui);return e.length&&e[0]===t[0]?pr(e):[]}),lf=$r(function(t){var e=Xo(t),n=d(t,ui);return e===Xo(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?pr(n,ro(e,2)):[]}),ff=$r(function(t){var e=Xo(t),n=d(t,ui);return e===Xo(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?pr(n,nt,e):[]}),hf=$r(ea),df=$r(function(t,e){e=zn(e,1);var n=t?t.length:0,r=En(t,e);return Yr(t,d(e,function(t){return mo(t,n)?+t:t}).sort(bi)),r}),pf=$r(function(t){return ei(zn(t,1,Es,!0))}),vf=$r(function(t){var e=Xo(t);return Es(e)&&(e=nt),ei(zn(t,1,Es,!0),ro(e,2))}),mf=$r(function(t){var e=Xo(t);return Es(e)&&(e=nt),ei(zn(t,1,Es,!0),nt,e)}),gf=$r(function(t,e){return Es(t)?Nn(t,e):[]}),_f=$r(function(t){return ai(l(t,Es))}),yf=$r(function(t){var e=Xo(t);return Es(e)&&(e=nt),ai(l(t,Es),ro(e,2))}),bf=$r(function(t){var e=Xo(t);return Es(e)&&(e=nt),ai(l(t,Es),nt,e)}),wf=$r(ka),xf=$r(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Sa(t,n)}),kf=$r(function(t){t=zn(t,1);var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return En(e,t)};return!(e>1||this.__actions__.length)&&r instanceof j&&mo(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Ta,args:[i],thisArg:nt}),new _(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(i)}),Sf=ji(function(t,e,n){Jc.call(t,n)?++t[n]:t[n]=1}),Ef=Ri(Yo),Of=Ri(Bo),jf=ji(function(t,e,n){Jc.call(t,n)?t[n].push(e):t[n]=[e]}),Af=$r(function(t,e,n){var r=-1,i="function"==typeof e,a=_o(e),s=Ss(t)?Lc(t.length):[];return Bl(t,function(t){var u=i?e:a&&null!=t?t[e]:nt;s[++r]=u?o(u,t,n):mr(t,e,n)}),s}),Tf=ji(function(t,e,n){t[n]=e}),Df=ji(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Mf=$r(function(t,e){if(null==t)return[];var n=e.length;return n>1&&go(t,e[0],e[1])?e=[]:n>2&&go(e[0],e[1],e[2])&&(e=[e[0]]),Pr(t,zn(e,1),[])}),Cf=fl||function(){return $n.Date.now()},If=$r(function(t,e,n){var r=ut;if(n.length){var i=V(n,no(If));r|=dt}return Ji(t,r,e,n,i)}),Lf=$r(function(t,e,n){var r=ut|ct;if(n.length){var i=V(n,no(Lf));r|=dt}return Ji(e,r,t,n,i)}),qf=$r(function(t,e){return In(t,1,e)}),Rf=$r(function(t,e,n){return In(t,nu(e)||0,n)});us.Cache=nn;var Pf=$r(function(t,e){e=1==e.length&&Bf(e[0])?d(e[0],I(ro())):d(zn(e,1),I(ro()));var n=e.length;return $r(function(r){for(var i=-1,a=wl(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),Nf=$r(function(t,e){var n=V(e,no(Nf));return Ji(t,dt,nt,e,n)}),Ff=$r(function(t,e){var n=V(e,no(Ff));return Ji(t,pt,nt,e,n)}),Uf=$r(function(t,e){return Ji(t,mt,nt,nt,nt,zn(e,1))}),Hf=zi(lr),Yf=zi(function(t,e){return t>=e}),Bf=Lc.isArray,Wf=Xn?I(Xn):gr,zf=ml||yc,$f=Qn?I(Qn):_r,Vf=tr?I(tr):wr,Gf=er?I(er):Sr,Jf=nr?I(nr):Er,Kf=rr?I(rr):Or,Zf=zi(Dr),Xf=zi(function(t,e){return t<=e}),Qf=Ai(function(t,e){if(Il||xo(e)||Ss(e))return void Ei(e,_u(e),t);for(var n in e)Jc.call(e,n)&&wn(t,n,e[n])}),th=Ai(function(t,e){Ei(e,yu(e),t)}),eh=Ai(function(t,e,n,r){Ei(e,yu(e),t,r)}),nh=Ai(function(t,e,n,r){Ei(e,_u(e),t,r)}),rh=$r(function(t,e){return En(t,zn(e,1))}),ih=$r(function(t){return t.push(nt,yn),o(eh,nt,t)}),oh=$r(function(t){return t.push(nt,Oo),o(lh,nt,t)}),ah=Fi(function(t,e,n){t[e]=n},ac(uc)),sh=Fi(function(t,e,n){Jc.call(t,e)?t[e].push(n):t[e]=[n]},ro),uh=$r(mr),ch=Ai(function(t,e,n){Lr(t,e,n)}),lh=Ai(function(t,e,n,r){Lr(t,e,n,r)}),fh=$r(function(t,e){return null==t?{}:(e=d(zn(e,1),Do),Nr(t,Nn(to(t),e)))}),hh=$r(function(t,e){return null==t?{}:Nr(t,d(zn(e,1),Do))}),dh=Gi(_u),ph=Gi(yu),vh=Ii(function(t,e,n){return e=e.toLowerCase(),t+(n?Ru(e):e)}),mh=Ii(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),gh=Ii(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),_h=Ci("toLowerCase"),yh=Ii(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),bh=Ii(function(t,e,n){return t+(n?" ":"")+xh(e)}),wh=Ii(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),xh=Ci("toUpperCase"),kh=$r(function(t,e){try{return o(t,nt,e)}catch(t){return Ms(t)?t:new Rc(t)}}),Sh=$r(function(t,e){return s(zn(e,1),function(e){e=Do(e),t[e]=If(t[e],t)}),t}),Eh=Pi(),Oh=Pi(!0),jh=$r(function(t,e){return function(n){return mr(n,t,e)}}),Ah=$r(function(t,e){return function(n){return mr(t,n,e)}}),Th=Hi(d),Dh=Hi(c),Mh=Hi(g),Ch=Wi(),Ih=Wi(!0),Lh=Ui(function(t,e){return t+e},0),qh=Vi("ceil"),Rh=Ui(function(t,e){return t/e},1),Ph=Vi("floor"),Nh=Ui(function(t,e){return t*e},1),Fh=Vi("round"),Uh=Ui(function(t,e){return t-e},0);return e.after=es,e.ary=ns,e.assign=Qf,e.assignIn=th,e.assignInWith=eh,e.assignWith=nh,e.at=rh,e.before=rs,e.bind=If,e.bindAll=Sh,e.bindKey=Lf,e.castArray=ms,e.chain=ja,e.chunk=Lo,e.compact=qo,e.concat=Ro,e.cond=ic,e.conforms=oc,e.constant=ac,e.countBy=Sf,e.create=au,e.curry=is,e.curryRight=os,e.debounce=as,e.defaults=ih,e.defaultsDeep=oh,e.defer=qf,e.delay=Rf,e.difference=af,e.differenceBy=sf,e.differenceWith=uf,e.drop=Po,e.dropRight=No,e.dropRightWhile=Fo,e.dropWhile=Uo,e.fill=Ho,e.filter=Na,e.flatMap=Fa,e.flatMapDeep=Ua,e.flatMapDepth=Ha,e.flatten=Wo,e.flattenDeep=zo,e.flattenDepth=$o,e.flip=ss,e.flow=Eh,e.flowRight=Oh,e.fromPairs=Vo,e.functions=du,e.functionsIn=pu,e.groupBy=jf,e.initial=Ko,e.intersection=cf,e.intersectionBy=lf,e.intersectionWith=ff,e.invert=ah,e.invertBy=sh,e.invokeMap=Af,e.iteratee=cc,e.keyBy=Tf,e.keys=_u,e.keysIn=yu,e.map=za,e.mapKeys=bu,e.mapValues=wu,e.matches=lc,e.matchesProperty=fc,e.memoize=us,e.merge=ch,e.mergeWith=lh,e.method=jh,e.methodOf=Ah,e.mixin=hc,e.negate=cs,e.nthArg=vc,e.omit=fh,e.omitBy=xu,e.once=ls,e.orderBy=$a,e.over=Th,e.overArgs=Pf,e.overEvery=Dh,e.overSome=Mh,e.partial=Nf,e.partialRight=Ff,e.partition=Df,e.pick=hh,e.pickBy=ku,e.property=mc,e.propertyOf=gc,e.pull=hf,e.pullAll=ea,e.pullAllBy=na,e.pullAllWith=ra,e.pullAt=df,e.range=Ch,e.rangeRight=Ih,e.rearg=Uf,e.reject=Ja,e.remove=ia,e.rest=fs,e.reverse=oa,e.sampleSize=Za,e.set=Eu,e.setWith=Ou,e.shuffle=Xa,e.slice=aa,e.sortBy=Mf,e.sortedUniq=da,e.sortedUniqBy=pa,e.split=Vu,e.spread=hs,e.tail=va,e.take=ma,e.takeRight=ga,e.takeRightWhile=_a,e.takeWhile=ya,e.tap=Aa,e.throttle=ds,e.thru=Ta,e.toArray=Xs,e.toPairs=dh,e.toPairsIn=ph,e.toPath=Sc,e.toPlainObject=ru,e.transform=ju,e.unary=ps,e.union=pf,e.unionBy=vf,e.unionWith=mf,e.uniq=ba,e.uniqBy=wa,e.uniqWith=xa,e.unset=Au,e.unzip=ka,e.unzipWith=Sa,e.update=Tu,e.updateWith=Du,e.values=Mu,e.valuesIn=Cu,e.without=gf,e.words=rc,e.wrap=vs,e.xor=_f,e.xorBy=yf,e.xorWith=bf,e.zip=wf,e.zipObject=Ea,e.zipObjectDeep=Oa,e.zipWith=xf,e.entries=dh,e.entriesIn=ph,e.extend=th,e.extendWith=eh,hc(e,e),e.add=Lh,e.attempt=kh,e.camelCase=vh,e.capitalize=Ru,e.ceil=qh,e.clamp=Iu,e.clone=gs,e.cloneDeep=ys,e.cloneDeepWith=bs,e.cloneWith=_s,e.conformsTo=ws,e.deburr=Pu,e.defaultTo=sc,e.divide=Rh,e.endsWith=Nu,e.eq=xs,e.escape=Fu,e.escapeRegExp=Uu,e.every=Pa,e.find=Ef,e.findIndex=Yo,e.findKey=su,e.findLast=Of,e.findLastIndex=Bo,e.findLastKey=uu,e.floor=Ph,e.forEach=Ya,e.forEachRight=Ba,e.forIn=cu,e.forInRight=lu,e.forOwn=fu,e.forOwnRight=hu,e.get=vu,e.gt=Hf,e.gte=Yf,e.has=mu,e.hasIn=gu,e.head=Go,e.identity=uc,e.includes=Wa,e.indexOf=Jo,e.inRange=Lu,e.invoke=uh,e.isArguments=ks,e.isArray=Bf,e.isArrayBuffer=Wf,e.isArrayLike=Ss,e.isArrayLikeObject=Es,e.isBoolean=Os,e.isBuffer=zf,e.isDate=$f,e.isElement=js,e.isEmpty=As,e.isEqual=Ts,e.isEqualWith=Ds,e.isError=Ms,e.isFinite=Cs,e.isFunction=Is,e.isInteger=Ls,e.isLength=qs,e.isMap=Vf,e.isMatch=Ns,e.isMatchWith=Fs,e.isNaN=Us,e.isNative=Hs,e.isNil=Bs,e.isNull=Ys,e.isNumber=Ws,e.isObject=Rs,e.isObjectLike=Ps,e.isPlainObject=zs,e.isRegExp=Gf,e.isSafeInteger=$s,e.isSet=Jf,e.isString=Vs,e.isSymbol=Gs,e.isTypedArray=Kf,e.isUndefined=Js,e.isWeakMap=Ks,e.isWeakSet=Zs,e.join=Zo,e.kebabCase=mh,e.last=Xo,e.lastIndexOf=Qo,e.lowerCase=gh,e.lowerFirst=_h,e.lt=Zf,e.lte=Xf,e.max=Oc,e.maxBy=jc,e.mean=Ac,e.meanBy=Tc,e.min=Dc,e.minBy=Mc,e.stubArray=_c,e.stubFalse=yc,e.stubObject=bc,e.stubString=wc,e.stubTrue=xc,e.multiply=Nh,e.nth=ta,e.noConflict=dc,e.noop=pc,e.now=Cf,e.pad=Hu,e.padEnd=Yu,e.padStart=Bu,e.parseInt=Wu,e.random=qu,e.reduce=Va,e.reduceRight=Ga,e.repeat=zu,e.replace=$u,e.result=Su,e.round=Fh,e.runInContext=et,e.sample=Ka,e.size=Qa,e.snakeCase=yh,e.some=ts,e.sortedIndex=sa,e.sortedIndexBy=ua,e.sortedIndexOf=ca,e.sortedLastIndex=la,e.sortedLastIndexBy=fa,e.sortedLastIndexOf=ha,e.startCase=bh,e.startsWith=Gu,e.subtract=Uh,e.sum=Cc,e.sumBy=Ic,e.template=Ju,e.times=kc,e.toFinite=Qs,e.toInteger=tu,e.toLength=eu,e.toLower=Ku,e.toNumber=nu,e.toSafeInteger=iu,e.toString=ou,e.toUpper=Zu,e.trim=Xu,e.trimEnd=Qu,e.trimStart=tc,e.truncate=ec,e.unescape=nc,e.uniqueId=Ec,e.upperCase=wh,e.upperFirst=xh,e.each=Ya,e.eachRight=Ba,e.first=Go,hc(e,function(){var t={};return Vn(e,function(n,r){Jc.call(e.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),e.VERSION=rt,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),s(["drop","take"],function(t,e){j.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new j(this);n=n===nt?1:bl(tu(n),0);var i=this.clone();return r?i.__takeCount__=wl(n,i.__takeCount__):i.__views__.push({size:wl(n,Mt),type:t+(i.__dir__<0?"Right":"")}),i},j.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==St||n==Ot;j.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ro(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");j.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");j.prototype[t]=function(){return this.__filtered__?new j(this):this[n](1)}}),j.prototype.compact=function(){return this.filter(uc)},j.prototype.find=function(t){return this.filter(t).head()},j.prototype.findLast=function(t){return this.reverse().find(t)},j.prototype.invokeMap=$r(function(t,e){return"function"==typeof t?new j(this):this.map(function(n){return mr(n,t,e)})}),j.prototype.reject=function(t){return this.filter(cs(ro(t)))},j.prototype.slice=function(t,e){t=tu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new j(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=tu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},j.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},j.prototype.toArray=function(){return this.take(Mt)},Vn(j.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=e[i?"take"+("last"==n?"Right":""):n],a=i||/^find/.test(n);o&&(e.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,u=n instanceof j,c=s[0],l=u||Bf(n),f=function(t){var n=o.apply(e,p([t],s));return i&&h?n[0]:n};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,v=a&&!h,m=u&&!d;if(!a&&l){n=m?n:new j(this);var g=t.apply(n,s);return g.__actions__.push({func:Ta,args:[f],thisArg:nt}),new _(g,h)}return v&&m?t.apply(this,s):(g=this.thru(f),v?i?g.value()[0]:g.value():g)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var n=Bc[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var e=this.value();return n.apply(Bf(e)?e:[],t)}return this[r](function(e){return n.apply(Bf(e)?e:[],t)})}}),Vn(j.prototype,function(t,n){var r=e[n];if(r){var i=r.name+"",o=Ll[i]||(Ll[i]=[]);o.push({name:n,func:r})}}),Ll[Ni(nt,ct).name]=[{name:"wrapper",func:nt}],j.prototype.clone=X,j.prototype.reverse=Q,j.prototype.value=Me,e.prototype.at=kf,e.prototype.chain=Da,e.prototype.commit=Ma,e.prototype.next=Ca,e.prototype.plant=La,e.prototype.reverse=qa,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Ra,e.prototype.first=e.prototype.head,ol&&(e.prototype[ol]=Ia),e}var nt,rt="4.15.0",it=200,ot="Expected a function",at="__lodash_hash_undefined__",st="__lodash_placeholder__",ut=1,ct=2,lt=4,ft=8,ht=16,dt=32,pt=64,vt=128,mt=256,gt=512,_t=1,yt=2,bt=30,wt="...",xt=150,kt=16,St=1,Et=2,Ot=3,jt=1/0,At=9007199254740991,Tt=1.7976931348623157e308,Dt=NaN,Mt=4294967295,Ct=Mt-1,It=Mt>>>1,Lt=[["ary",vt],["bind",ut],["bindKey",ct],["curry",ft],["curryRight",ht],["flip",gt],["partial",dt],["partialRight",pt],["rearg",mt]],qt="[object Arguments]",Rt="[object Array]",Pt="[object Boolean]",Nt="[object Date]",Ft="[object Error]",Ut="[object Function]",Ht="[object GeneratorFunction]",Yt="[object Map]",Bt="[object Number]",Wt="[object Object]",zt="[object Promise]",$t="[object RegExp]",Vt="[object Set]",Gt="[object String]",Jt="[object Symbol]",Kt="[object WeakMap]",Zt="[object WeakSet]",Xt="[object ArrayBuffer]",Qt="[object DataView]",te="[object Float32Array]",ee="[object Float64Array]",ne="[object Int8Array]",re="[object Int16Array]",ie="[object Int32Array]",oe="[object Uint8Array]",ae="[object Uint8ClampedArray]",se="[object Uint16Array]",ue="[object Uint32Array]",ce=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,he=/&(?:amp|lt|gt|quot|#39|#96);/g,de=/[&<>"'`]/g,pe=RegExp(he.source),ve=RegExp(de.source),me=/<%-([\s\S]+?)%>/g,ge=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/,we=/^\./,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Se=RegExp(ke.source),Ee=/^\s+|\s+$/g,Oe=/^\s+/,je=/\s+$/,Ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Te=/\{\n\/\* \[wrapped with (.+)\] \*/,De=/,? & /,Me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ce=/\\(\\)?/g,Ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Le=/\w*$/,qe=/^0x/i,Re=/^[-+]0x[0-9a-f]+$/i,Pe=/^0b[01]+$/i,Ne=/^\[object .+?Constructor\]$/,Fe=/^0o[0-7]+$/i,Ue=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,Be=/['\n\r\u2028\u2029\\]/g,We="\\ud800-\\udfff",ze="\\u0300-\\u036f\\ufe20-\\ufe23",$e="\\u20d0-\\u20f0",Ve="\\u2700-\\u27bf",Ge="a-z\\xdf-\\xf6\\xf8-\\xff",Je="\\xac\\xb1\\xd7\\xf7",Ke="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ze="\\u2000-\\u206f",Xe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qe="A-Z\\xc0-\\xd6\\xd8-\\xde",tn="\\ufe0e\\ufe0f",en=Je+Ke+Ze+Xe,nn="[']",rn="["+We+"]",on="["+en+"]",an="["+ze+$e+"]",sn="\\d+",un="["+Ve+"]",cn="["+Ge+"]",ln="[^"+We+en+sn+Ve+Ge+Qe+"]",fn="\\ud83c[\\udffb-\\udfff]",hn="(?:"+an+"|"+fn+")",dn="[^"+We+"]",pn="(?:\\ud83c[\\udde6-\\uddff]){2}",vn="[\\ud800-\\udbff][\\udc00-\\udfff]",mn="["+Qe+"]",gn="\\u200d",_n="(?:"+cn+"|"+ln+")",yn="(?:"+mn+"|"+ln+")",bn="(?:"+nn+"(?:d|ll|m|re|s|t|ve))?",wn="(?:"+nn+"(?:D|LL|M|RE|S|T|VE))?",xn=hn+"?",kn="["+tn+"]?",Sn="(?:"+gn+"(?:"+[dn,pn,vn].join("|")+")"+kn+xn+")*",En=kn+xn+Sn,On="(?:"+[un,pn,vn].join("|")+")"+En,jn="(?:"+[dn+an+"?",an,pn,vn,rn].join("|")+")",An=RegExp(nn,"g"),Tn=RegExp(an,"g"),Dn=RegExp(fn+"(?="+fn+")|"+jn+En,"g"),Mn=RegExp([mn+"?"+cn+"+"+bn+"(?="+[on,mn,"$"].join("|")+")",yn+"+"+wn+"(?="+[on,mn+_n,"$"].join("|")+")",mn+"?"+_n+"+"+bn,mn+"+"+wn,sn,On].join("|"),"g"),Cn=RegExp("["+gn+We+ze+$e+tn+"]"),In=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ln=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qn=-1,Rn={};Rn[te]=Rn[ee]=Rn[ne]=Rn[re]=Rn[ie]=Rn[oe]=Rn[ae]=Rn[se]=Rn[ue]=!0,Rn[qt]=Rn[Rt]=Rn[Xt]=Rn[Pt]=Rn[Qt]=Rn[Nt]=Rn[Ft]=Rn[Ut]=Rn[Yt]=Rn[Bt]=Rn[Wt]=Rn[$t]=Rn[Vt]=Rn[Gt]=Rn[Kt]=!1;var Pn={};Pn[qt]=Pn[Rt]=Pn[Xt]=Pn[Qt]=Pn[Pt]=Pn[Nt]=Pn[te]=Pn[ee]=Pn[ne]=Pn[re]=Pn[ie]=Pn[Yt]=Pn[Bt]=Pn[Wt]=Pn[$t]=Pn[Vt]=Pn[Gt]=Pn[Jt]=Pn[oe]=Pn[ae]=Pn[se]=Pn[ue]=!0,Pn[Ft]=Pn[Ut]=Pn[Kt]=!1;var Nn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"ss"},Fn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Un={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Hn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yn=parseFloat,Bn=parseInt,Wn="object"==typeof t&&t&&t.Object===Object&&t,zn="object"==typeof self&&self&&self.Object===Object&&self,$n=Wn||zn||Function("return this")(),Vn="object"==typeof n&&n&&!n.nodeType&&n,Gn=Vn&&"object"==typeof e&&e&&!e.nodeType&&e,Jn=Gn&&Gn.exports===Vn,Kn=Jn&&Wn.process,Zn=function(){try{return Kn&&Kn.binding("util")}catch(t){}}(),Xn=Zn&&Zn.isArrayBuffer,Qn=Zn&&Zn.isDate,tr=Zn&&Zn.isMap,er=Zn&&Zn.isRegExp,nr=Zn&&Zn.isSet,rr=Zn&&Zn.isTypedArray,ir=O("length"),or=j(Nn),ar=j(Fn),sr=j(Un),ur=et();"function"==typeof define&&"object"==typeof define.amd&&define.amd?($n._=ur,define(function(){return ur})):Gn?((Gn.exports=ur)._=ur,Vn._=ur):$n._=ur}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],135:[function(t,e,n){var r=t("./_arrayMap"),i=t("./_baseDifference"),o=t("./_baseFlatten"),a=t("./_basePick"),s=t("./_baseRest"),u=t("./_getAllKeysIn"),c=t("./_toKey"),l=s(function(t,e){return null==t?{}:(e=r(o(e,1),c),a(t,i(u(t),e)))});e.exports=l},{"./_arrayMap":63,"./_baseDifference":67,"./_baseFlatten":69,"./_basePick":75,"./_baseRest":77,"./_getAllKeysIn":85,"./_toKey":120}],136:[function(t,e,n){function r(){return[]}e.exports=r},{}],137:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.moment=r()}(this,function(){"use strict";function n(){return vr.apply(null,arguments)}function r(t){vr=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"[object Object]"===Object.prototype.toString.call(t)}function a(t){var e;for(e in t)return!1;return!0}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return _e(t,e,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(t){return null==t._pf&&(t._pf=h()),t._pf}function p(t){if(null==t._isValid){var e=d(t),n=mr.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function v(t){var e=f(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function m(t){return void 0===t}function g(t,e){var n,r,i;if(m(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),m(e._i)||(t._i=e._i),m(e._f)||(t._f=e._f),m(e._l)||(t._l=e._l),m(e._strict)||(t._strict=e._strict),m(e._tzm)||(t._tzm=e._tzm),m(e._isUTC)||(t._isUTC=e._isUTC),m(e._offset)||(t._offset=e._offset),m(e._pf)||(t._pf=d(e)),m(e._locale)||(t._locale=e._locale),gr.length>0)for(n in gr)r=gr[n],i=e[r],m(i)||(t[r]=i);return t}function _(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),_r===!1&&(_r=!0,n.updateOffset(this),_r=!1)}function y(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function x(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&w(t[r])!==w(e[r]))&&a++;return a+o}function k(t){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var r=!0;return l(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,t),r&&(k(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),e.apply(this,arguments)},e)}function E(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),yr[t]||(k(e),yr[t]=!0)}function O(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function j(t){var e,n;for(n in t)e=t[n],O(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function A(t,e){var n,r=l({},t);for(n in e)c(e,n)&&(o(t[n])&&o(e[n])?(r[n]={},l(r[n],t[n]),l(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&o(t[n])&&(r[n]=l({},r[n]));return r}function T(t){null!=t&&this.set(t)}function D(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return O(r)?r.call(e,n):r}function M(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function C(){return this._invalidDate}function I(t){return this._ordinal.replace("%d",t)}function L(t,e,n,r){var i=this._relativeTime[n];return O(i)?i(t,e,n,r):i.replace(/%d/i,t)}function q(t,e){var n=this._relativeTime[t>0?"future":"past"];return O(n)?n(e):n.replace(/%s/i,e)}function R(t,e){var n=t.toLowerCase();Ar[n]=Ar[n+"s"]=Ar[e]=t}function P(t){return"string"==typeof t?Ar[t]||Ar[t.toLowerCase()]:void 0}function N(t){var e,n,r={};for(n in t)c(t,n)&&(e=P(n),e&&(r[e]=t[n]));return r}function F(t,e){Tr[t]=e}function U(t){var e=[];for(var n in t)e.push({unit:n,priority:Tr[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(t,e){return function(r){return null!=r?(B(this,t,r),n.updateOffset(this,e),this):Y(this,t)}}function Y(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function B(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function W(t){return t=P(t),O(this[t])?this[t]():this}function z(t,e){if("object"==typeof t){t=N(t);for(var n=U(t),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(t=P(t),O(this[t]))return this[t](e);return this}function $(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function V(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Ir[t]=i),e&&(Ir[e[0]]=function(){return $(i.apply(this,arguments),e[1],e[2])}),n&&(Ir[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function J(t){var e,n,r=t.match(Dr);for(e=0,n=r.length;e<n;e++)Ir[r[e]]?r[e]=Ir[r[e]]:r[e]=G(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(e,t):r[i];return o}}function K(t,e){return t.isValid()?(e=Z(e,t.localeData()),Cr[e]=Cr[e]||J(e),Cr[e](t)):t.localeData().invalidDate()}function Z(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Mr.lastIndex=0;r>=0&&Mr.test(t);)t=t.replace(Mr,n),Mr.lastIndex=0,r-=1;return t}function X(t,e,n){Zr[t]=O(e)?e:function(t,r){return t&&n?n:e}}function Q(t,e){return c(Zr,t)?Zr[t](e._strict,e._locale):new RegExp(tt(t))}function tt(t){return et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)Xr[t[n]]=r}function rt(t,e){nt(t,function(t,n,r,i){
r._w=r._w||{},e(t,r._w,r,i)})}function it(t,e,n){null!=e&&c(Xr,t)&&Xr[t](e,n._a,n,t)}function ot(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function at(t,e){return i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ui).test(e)?"format":"standalone"][t.month()]}function st(t,e){return i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ui.test(e)?"format":"standalone"][t.month()]}function ut(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(i=wr.call(this._shortMonthsParse,a),i!==-1?i:null):(i=wr.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===e?(i=wr.call(this._shortMonthsParse,a),i!==-1?i:(i=wr.call(this._longMonthsParse,a),i!==-1?i:null)):(i=wr.call(this._longMonthsParse,a),i!==-1?i:(i=wr.call(this._shortMonthsParse,a),i!==-1?i:null))}function ct(t,e,n){var r,i,o;if(this._monthsParseExact)return ut.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ft(t){return null!=t?(lt(this,t),n.updateOffset(this,!0),this):Y(this,"Month")}function ht(){return ot(this.year(),this.month())}function dt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||vt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=fi),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||vt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=hi),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function vt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=et(r[e]),i[e]=et(i[e]);for(e=0;e<24;e++)o[e]=et(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function mt(t){return gt(t)?366:365}function gt(t){return t%4===0&&t%100!==0||t%400===0}function _t(){return gt(this.year())}function yt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,n){var r=7+e-n,i=(7+bt(t,0,r).getUTCDay()-e)%7;return-i+r-1}function xt(t,e,n,r,i){var o,a,s=(7+n-r)%7,u=wt(t,r,i),c=1+7*(e-1)+s+u;return c<=0?(o=t-1,a=mt(o)+c):c>mt(t)?(o=t+1,a=c-mt(t)):(o=t,a=c),{year:o,dayOfYear:a}}function kt(t,e,n){var r,i,o=wt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(i=t.year()-1,r=a+St(i,e,n)):a>St(t.year(),e,n)?(r=a-St(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function St(t,e,n){var r=wt(t,e,n),i=wt(t+1,e,n);return(mt(t)-r+i)/7}function Et(t){return kt(t,this._week.dow,this._week.doy).week}function Ot(){return this._week.dow}function jt(){return this._week.doy}function At(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Tt(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Dt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Mt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ct(t,e){return i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function It(t){return this._weekdaysShort[t.day()]}function Lt(t){return this._weekdaysMin[t.day()]}function qt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(i=wr.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===e?(i=wr.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=wr.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===e?(i=wr.call(this._weekdaysParse,a),i!==-1?i:(i=wr.call(this._shortWeekdaysParse,a),i!==-1?i:(i=wr.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===e?(i=wr.call(this._shortWeekdaysParse,a),i!==-1?i:(i=wr.call(this._weekdaysParse,a),i!==-1?i:(i=wr.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=wr.call(this._minWeekdaysParse,a),i!==-1?i:(i=wr.call(this._weekdaysParse,a),i!==-1?i:(i=wr.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Rt(t,e,n){var r,i,o;if(this._weekdaysParseExact)return qt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Pt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Dt(t,this.localeData()),this.add(t-e,"d")):e}function Nt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ft(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Mt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ut(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=_i),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yi),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Yt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Bt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bi),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Bt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=et(s[e]),u[e]=et(u[e]),c[e]=et(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Wt(){return this.hours()%12||12}function zt(){return this.hours()||24}function $t(t,e){V(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Vt(t,e){return e._meridiemParse}function Gt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Jt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Zt(t){for(var e,n,r,i,o=0;o<t.length;){for(i=Kt(t[o]).split("-"),e=i.length,n=Kt(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=Xt(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&x(i,n,!0)>=e-1)break;e--}o++}return null}function Xt(n){var r=null;if(!Ei[n]&&"undefined"!=typeof e&&e&&e.exports)try{r=wi._abbr,t("./locale/"+n),Qt(r)}catch(t){}return Ei[n]}function Qt(t,e){var n;return t&&(n=m(e)?ne(t):te(t,e),n&&(wi=n)),wi._abbr}function te(t,e){if(null!==e){var n=Si;return e.abbr=t,null!=Ei[t]?(E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ei[t]._config):null!=e.parentLocale&&(null!=Ei[e.parentLocale]?n=Ei[e.parentLocale]._config:E("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Ei[t]=new T(A(n,e)),Qt(t),Ei[t]}return delete Ei[t],null}function ee(t,e){if(null!=e){var n,r=Si;null!=Ei[t]&&(r=Ei[t]._config),e=A(r,e),n=new T(e),n.parentLocale=Ei[t],Ei[t]=n,Qt(t)}else null!=Ei[t]&&(null!=Ei[t].parentLocale?Ei[t]=Ei[t].parentLocale:null!=Ei[t]&&delete Ei[t]);return Ei[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wi;if(!i(t)){if(e=Xt(t))return e;t=[t]}return Zt(t)}function re(){return br(Ei)}function ie(t){var e,n=t._a;return n&&d(t).overflow===-2&&(e=n[ti]<0||n[ti]>11?ti:n[ei]<1||n[ei]>ot(n[Qr],n[ti])?ei:n[ni]<0||n[ni]>24||24===n[ni]&&(0!==n[ri]||0!==n[ii]||0!==n[oi])?ni:n[ri]<0||n[ri]>59?ri:n[ii]<0||n[ii]>59?ii:n[oi]<0||n[oi]>999?oi:-1,d(t)._overflowDayOfYear&&(e<Qr||e>ei)&&(e=ei),d(t)._overflowWeeks&&e===-1&&(e=ai),d(t)._overflowWeekday&&e===-1&&(e=si),d(t).overflow=e),t}function oe(t){var e,n,r,i,o,a,s=t._i,u=Oi.exec(s)||ji.exec(s);if(u){for(d(t).iso=!0,e=0,n=Ti.length;e<n;e++)if(Ti[e][1].exec(u[1])){i=Ti[e][0],r=Ti[e][2]!==!1;break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=Di.length;e<n;e++)if(Di[e][1].exec(u[3])){o=(u[2]||" ")+Di[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Ai.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),fe(t)}else t._isValid=!1}function ae(t){var e=Mi.exec(t._i);return null!==e?void(t._d=new Date((+e[1]))):(oe(t),void(t._isValid===!1&&(delete t._isValid,n.createFromInputFallback(t))))}function se(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ce(t){var e,n,r,i,o=[];if(!t._d){for(r=ue(t),t._w&&null==t._a[ei]&&null==t._a[ti]&&le(t),t._dayOfYear&&(i=se(t._a[Qr],r[Qr]),t._dayOfYear>mt(i)&&(d(t)._overflowDayOfYear=!0),n=bt(i,0,t._dayOfYear),t._a[ti]=n.getUTCMonth(),t._a[ei]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ni]&&0===t._a[ri]&&0===t._a[ii]&&0===t._a[oi]&&(t._nextDay=!0,t._a[ni]=0),t._d=(t._useUTC?bt:yt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ni]=24)}}function le(t){var e,n,r,i,o,a,s,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=se(e.GG,t._a[Qr],kt(ye(),1,4).year),r=se(e.W,1),i=se(e.E,1),(i<1||i>7)&&(u=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,n=se(e.gg,t._a[Qr],kt(ye(),o,a).year),r=se(e.w,1),null!=e.d?(i=e.d,(i<0||i>6)&&(u=!0)):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o),r<1||r>St(n,o,a)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(s=xt(n,r,i,o,a),t._a[Qr]=s.year,t._dayOfYear=s.dayOfYear)}function fe(t){if(t._f===n.ISO_8601)return void oe(t);t._a=[],d(t).empty=!0;var e,r,i,o,a,s=""+t._i,u=s.length,c=0;for(i=Z(t._f,t._locale).match(Dr)||[],e=0;e<i.length;e++)o=i[e],r=(s.match(Q(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Ir[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),it(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=u-c,s.length>0&&d(t).unusedInput.push(s),t._a[ni]<=12&&d(t).bigHour===!0&&t._a[ni]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[ni]=he(t._locale,t._a[ni],t._meridiem),ce(t),ie(t)}function he(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function de(t){var e,n,r,i,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],fe(e),p(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==r||o<r)&&(r=o,n=e));l(t,n||e)}function pe(t){if(!t._d){var e=N(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ce(t)}}function ve(t){var e=new _(ie(me(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function me(t){var e=t._i,n=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new _(ie(e)):(i(n)?de(t):s(e)?t._d=e:n?fe(t):ge(t),p(t)||(t._d=null),t))}function ge(t){var e=t._i;void 0===e?t._d=new Date(n.now()):s(e)?t._d=new Date(e.valueOf()):"string"==typeof e?ae(t):i(e)?(t._a=u(e.slice(0),function(t){return parseInt(t,10)}),ce(t)):"object"==typeof e?pe(t):"number"==typeof e?t._d=new Date(e):n.createFromInputFallback(t)}function _e(t,e,n,r,s){var u={};return"boolean"==typeof n&&(r=n,n=void 0),(o(t)&&a(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=t,u._f=e,u._strict=r,ve(u)}function ye(t,e,n,r){return _e(t,e,n,r,!1)}function be(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ye();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function we(){var t=[].slice.call(arguments,0);return be("isBefore",t)}function xe(){var t=[].slice.call(arguments,0);return be("isAfter",t)}function ke(t){var e=N(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ne(),this._bubble()}function Se(t){return t instanceof ke}function Ee(t,e){V(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+$(~~(t/60),2)+e+$(~~t%60,2)})}function Oe(t,e){var n=(e||"").match(t)||[],r=n[n.length-1]||[],i=(r+"").match(qi)||["-",0,0],o=+(60*i[1])+w(i[2]);return"+"===i[0]?o:-o}function je(t,e){var r,i;return e._isUTC?(r=e.clone(),i=(y(t)||s(t)?t.valueOf():ye(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):ye(t).local()}function Ae(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Te(t,e){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Oe(Gr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(r=Ae(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?$e(this,Ue(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ae(this):null!=t?this:NaN}function De(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Me(t){return this.utcOffset(0,t)}function Ce(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ae(this),"m")),this}function Ie(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Oe(Vr,this._i)),this}function Le(t){return!!this.isValid()&&(t=t?ye(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function qe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Re(){if(!m(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=me(t),t._a){var e=t._isUTC?f(t._a):ye(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Pe(){return!!this.isValid()&&!this._isUTC}function Ne(){return!!this.isValid()&&this._isUTC}function Fe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ue(t,e){var n,r,i,o=t,a=null;return Se(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Ri.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:w(a[ei])*n,h:w(a[ni])*n,m:w(a[ri])*n,s:w(a[ii])*n,ms:w(a[oi])*n}):(a=Pi.exec(t))?(n="-"===a[1]?-1:1,o={y:He(a[2],n),M:He(a[3],n),w:He(a[4],n),d:He(a[5],n),h:He(a[6],n),m:He(a[7],n),s:He(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Be(ye(o.from),ye(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new ke(o),Se(t)&&c(t,"_locale")&&(r._locale=t._locale),r}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ye(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Be(t,e){var n;return t.isValid()&&e.isValid()?(e=je(e,t),t.isBefore(e)?n=Ye(t,e):(n=Ye(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function We(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ze(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(E(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Ue(n,r),$e(this,i,t),this}}function $e(t,e,r,i){var o=e._milliseconds,a=We(e._days),s=We(e._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&B(t,"Date",Y(t,"Date")+a*r),s&&lt(t,Y(t,"Month")+s*r),i&&n.updateOffset(t,a||s))}function Ve(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ge(t,e){var r=t||ye(),i=je(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=e&&(O(e[o])?e[o].call(this,r):e[o]);return this.format(a||this.localeData().calendar(o,this,ye(r)))}function Je(){return new _(this)}function Ke(t,e){var n=y(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&(e=P(m(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ze(t,e){var n=y(t)?t:ye(t);return!(!this.isValid()||!n.isValid())&&(e=P(m(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Xe(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Qe(t,e){var n,r=y(t)?t:ye(t);return!(!this.isValid()||!r.isValid())&&(e=P(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function tn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function en(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function nn(t,e,n){var r,i,o,a;return this.isValid()?(r=je(t,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),e=P(e),"year"===e||"month"===e||"quarter"===e?(a=rn(this,r),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-r,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-i)/864e5:"week"===e?(o-i)/6048e5:o),n?a:b(a)):NaN):NaN}function rn(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)||0}function on(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function an(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?O(Date.prototype.toISOString)?this.toDate().toISOString():K(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=K(this,t);return this.localeData().postformat(e)}function un(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cn(t){return this.from(ye(),t)}function ln(t,e){return this.isValid()&&(y(t)&&t.isValid()||ye(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fn(t){return this.to(ye(),t)}function hn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function dn(){return this._locale}function pn(t){switch(t=P(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function vn(t){return t=P(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function mn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function _n(){return new Date(this.valueOf())}function yn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function bn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function wn(){return this.isValid()?this.toISOString():null}function xn(){return p(this)}function kn(){return l({},d(this))}function Sn(){return d(this).overflow}function En(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function On(t,e){V(0,[t,t.length],0,e)}function jn(t){return Mn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function An(t){return Mn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Tn(){return St(this.year(),1,4)}function Dn(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function Mn(t,e,n,r,i){var o;return null==t?kt(this,r,i).year:(o=St(t,r,i),e>o&&(e=o),Cn.call(this,t,e,n,r,i))}function Cn(t,e,n,r,i){var o=xt(t,e,n,r,i),a=bt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function In(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ln(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function qn(t,e){e[oi]=w(1e3*("0."+t))}function Rn(){return this._isUTC?"UTC":""}function Pn(){return this._isUTC?"Coordinated Universal Time":""}function Nn(t){return ye(1e3*t)}function Fn(){return ye.apply(null,arguments).parseZone()}function Un(t){return t}function Hn(t,e,n,r){var i=ne(),o=f().set(r,e);return i[n](o,t)}function Yn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Hn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Hn(t,r,n,"month");return i}function Bn(t,e,n,r){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var i=ne(),o=t?i._week.dow:0;if(null!=n)return Hn(e,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Hn(e,(a+o)%7,r,"day");return s}function Wn(t,e){return Yn(t,e,"months")}function zn(t,e){return Yn(t,e,"monthsShort")}function $n(t,e,n){return Bn(t,e,n,"weekdays")}function Vn(t,e,n){return Bn(t,e,n,"weekdaysShort")}function Gn(t,e,n){return Bn(t,e,n,"weekdaysMin")}function Jn(){var t=this._data;return this._milliseconds=Ji(this._milliseconds),this._days=Ji(this._days),this._months=Ji(this._months),t.milliseconds=Ji(t.milliseconds),t.seconds=Ji(t.seconds),t.minutes=Ji(t.minutes),t.hours=Ji(t.hours),t.months=Ji(t.months),t.years=Ji(t.years),this}function Kn(t,e,n,r){var i=Ue(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Zn(t,e){return Kn(this,t,e,1)}function Xn(t,e){return Kn(this,t,e,-1)}function Qn(t){return t<0?Math.floor(t):Math.ceil(t)}function tr(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Qn(nr(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=b(o/1e3),u.seconds=t%60,e=b(t/60),u.minutes=e%60,n=b(e/60),u.hours=n%24,a+=b(n/24),i=b(er(a)),s+=i,a-=Qn(nr(i)),r=b(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function er(t){return 4800*t/146097}function nr(t){return 146097*t/4800}function rr(t){var e,n,r=this._milliseconds;if(t=P(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+er(e),"month"===t?n:n/12;switch(e=this._days+Math.round(nr(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function ir(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)}function or(t){return function(){return this.as(t)}}function ar(t){return t=P(t),this[t+"s"]()}function sr(t){return function(){return this._data[t]}}function ur(){return b(this.days()/7)}function cr(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function lr(t,e,n){var r=Ue(t).abs(),i=fo(r.as("s")),o=fo(r.as("m")),a=fo(r.as("h")),s=fo(r.as("d")),u=fo(r.as("M")),c=fo(r.as("y")),l=i<ho.s&&["s",i]||o<=1&&["m"]||o<ho.m&&["mm",o]||a<=1&&["h"]||a<ho.h&&["hh",a]||s<=1&&["d"]||s<ho.d&&["dd",s]||u<=1&&["M"]||u<ho.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=n,cr.apply(null,l)}function fr(t){return void 0===t?fo:"function"==typeof t&&(fo=t,!0)}function hr(t,e){return void 0!==ho[t]&&(void 0===e?ho[t]:(ho[t]=e,!0))}function dr(t){var e=this.localeData(),n=lr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function pr(){var t,e,n,r=po(this._milliseconds)/1e3,i=po(this._days),o=po(this._months);t=b(r/60),e=b(t/60),r%=60,t%=60,n=b(o/12),o%=12;var a=n,s=o,u=i,c=e,l=t,f=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(c||l||f?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(f?f+"S":""):"P0D"}var vr,mr;mr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var gr=n.momentProperties=[],_r=!1,yr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var br;br=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var wr,xr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},kr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Sr="Invalid date",Er="%d",Or=/\d{1,2}/,jr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ar={},Tr={},Dr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Cr={},Ir={},Lr=/\d/,qr=/\d\d/,Rr=/\d{3}/,Pr=/\d{4}/,Nr=/[+-]?\d{6}/,Fr=/\d\d?/,Ur=/\d\d\d\d?/,Hr=/\d\d\d\d\d\d?/,Yr=/\d{1,3}/,Br=/\d{1,4}/,Wr=/[+-]?\d{1,6}/,zr=/\d+/,$r=/[+-]?\d+/,Vr=/Z|[+-]\d\d:?\d\d/gi,Gr=/Z|[+-]\d\d(?::?\d\d)?/gi,Jr=/[+-]?\d+(\.\d{1,3})?/,Kr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zr={},Xr={},Qr=0,ti=1,ei=2,ni=3,ri=4,ii=5,oi=6,ai=7,si=8;wr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),V("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),F("month",8),X("M",Fr),X("MM",Fr,qr),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),nt(["M","MM"],function(t,e){e[ti]=w(t)-1}),nt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[ti]=i:d(n).invalidMonth=t});var ui=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ci="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),li="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fi=Kr,hi=Kr;V("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),R("year","y"),F("year",1),X("Y",$r),X("YY",Fr,qr),X("YYYY",Br,Pr),X("YYYYY",Wr,Nr),X("YYYYYY",Wr,Nr),nt(["YYYYY","YYYYYY"],Qr),nt("YYYY",function(t,e){e[Qr]=2===t.length?n.parseTwoDigitYear(t):w(t)}),nt("YY",function(t,e){e[Qr]=n.parseTwoDigitYear(t)}),nt("Y",function(t,e){e[Qr]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var di=H("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),F("week",5),F("isoWeek",5),X("w",Fr),X("ww",Fr,qr),X("W",Fr),X("WW",Fr,qr),rt(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=w(t)});var pi={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),V("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),V("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),X("d",Fr),X("e",Fr),X("E",Fr),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),rt(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:d(n).invalidWeekday=t}),rt(["d","e","E"],function(t,e,n,r){e[r]=w(t)});var vi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),_i=Kr,yi=Kr,bi=Kr;
V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Wt),V("k",["kk",2],0,zt),V("hmm",0,0,function(){return""+Wt.apply(this)+$(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Wt.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)}),$t("a",!0),$t("A",!1),R("hour","h"),F("hour",13),X("a",Vt),X("A",Vt),X("H",Fr),X("h",Fr),X("HH",Fr,qr),X("hh",Fr,qr),X("hmm",Ur),X("hmmss",Hr),X("Hmm",Ur),X("Hmmss",Hr),nt(["H","HH"],ni),nt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),nt(["h","hh"],function(t,e,n){e[ni]=w(t),d(n).bigHour=!0}),nt("hmm",function(t,e,n){var r=t.length-2;e[ni]=w(t.substr(0,r)),e[ri]=w(t.substr(r)),d(n).bigHour=!0}),nt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[ni]=w(t.substr(0,r)),e[ri]=w(t.substr(r,2)),e[ii]=w(t.substr(i)),d(n).bigHour=!0}),nt("Hmm",function(t,e,n){var r=t.length-2;e[ni]=w(t.substr(0,r)),e[ri]=w(t.substr(r))}),nt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[ni]=w(t.substr(0,r)),e[ri]=w(t.substr(r,2)),e[ii]=w(t.substr(i))});var wi,xi=/[ap]\.?m?\.?/i,ki=H("Hours",!0),Si={calendar:xr,longDateFormat:kr,invalidDate:Sr,ordinal:Er,ordinalParse:Or,relativeTime:jr,months:ci,monthsShort:li,week:pi,weekdays:vi,weekdaysMin:gi,weekdaysShort:mi,meridiemParse:xi},Ei={},Oi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ji=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ai=/Z|[+-]\d\d(?::?\d\d)?/,Ti=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Di=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mi=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=S("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){};var Ci=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),Ii=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ye.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}),Li=function(){return Date.now?Date.now():+new Date};Ee("Z",":"),Ee("ZZ",""),X("Z",Gr),X("ZZ",Gr),nt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Oe(Gr,t)});var qi=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Ri=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Pi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ue.fn=ke.prototype;var Ni=ze(1,"add"),Fi=ze(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ui=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),On("gggg","weekYear"),On("ggggg","weekYear"),On("GGGG","isoWeekYear"),On("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),X("G",$r),X("g",$r),X("GG",Fr,qr),X("gg",Fr,qr),X("GGGG",Br,Pr),X("gggg",Br,Pr),X("GGGGG",Wr,Nr),X("ggggg",Wr,Nr),rt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=w(t)}),rt(["gg","GG"],function(t,e,r,i){e[i]=n.parseTwoDigitYear(t)}),V("Q",0,"Qo","quarter"),R("quarter","Q"),F("quarter",7),X("Q",Lr),nt("Q",function(t,e){e[ti]=3*(w(t)-1)}),V("D",["DD",2],"Do","date"),R("date","D"),F("date",9),X("D",Fr),X("DD",Fr,qr),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),nt(["D","DD"],ei),nt("Do",function(t,e){e[ei]=w(t.match(Fr)[0],10)});var Hi=H("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),F("dayOfYear",4),X("DDD",Yr),X("DDDD",Rr),nt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),V("m",["mm",2],0,"minute"),R("minute","m"),F("minute",14),X("m",Fr),X("mm",Fr,qr),nt(["m","mm"],ri);var Yi=H("Minutes",!1);V("s",["ss",2],0,"second"),R("second","s"),F("second",15),X("s",Fr),X("ss",Fr,qr),nt(["s","ss"],ii);var Bi=H("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),F("millisecond",16),X("S",Yr,Lr),X("SS",Yr,qr),X("SSS",Yr,Rr);var Wi;for(Wi="SSSS";Wi.length<=9;Wi+="S")X(Wi,zr);for(Wi="S";Wi.length<=9;Wi+="S")nt(Wi,qn);var zi=H("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var $i=_.prototype;$i.add=Ni,$i.calendar=Ge,$i.clone=Je,$i.diff=nn,$i.endOf=vn,$i.format=sn,$i.from=un,$i.fromNow=cn,$i.to=ln,$i.toNow=fn,$i.get=W,$i.invalidAt=Sn,$i.isAfter=Ke,$i.isBefore=Ze,$i.isBetween=Xe,$i.isSame=Qe,$i.isSameOrAfter=tn,$i.isSameOrBefore=en,$i.isValid=xn,$i.lang=Ui,$i.locale=hn,$i.localeData=dn,$i.max=Ii,$i.min=Ci,$i.parsingFlags=kn,$i.set=z,$i.startOf=pn,$i.subtract=Fi,$i.toArray=yn,$i.toObject=bn,$i.toDate=_n,$i.toISOString=an,$i.toJSON=wn,$i.toString=on,$i.unix=gn,$i.valueOf=mn,$i.creationData=En,$i.year=di,$i.isLeapYear=_t,$i.weekYear=jn,$i.isoWeekYear=An,$i.quarter=$i.quarters=In,$i.month=ft,$i.daysInMonth=ht,$i.week=$i.weeks=At,$i.isoWeek=$i.isoWeeks=Tt,$i.weeksInYear=Dn,$i.isoWeeksInYear=Tn,$i.date=Hi,$i.day=$i.days=Pt,$i.weekday=Nt,$i.isoWeekday=Ft,$i.dayOfYear=Ln,$i.hour=$i.hours=ki,$i.minute=$i.minutes=Yi,$i.second=$i.seconds=Bi,$i.millisecond=$i.milliseconds=zi,$i.utcOffset=Te,$i.utc=Me,$i.local=Ce,$i.parseZone=Ie,$i.hasAlignedHourOffset=Le,$i.isDST=qe,$i.isLocal=Pe,$i.isUtcOffset=Ne,$i.isUtc=Fe,$i.isUTC=Fe,$i.zoneAbbr=Rn,$i.zoneName=Pn,$i.dates=S("dates accessor is deprecated. Use date instead.",Hi),$i.months=S("months accessor is deprecated. Use month instead",ft),$i.years=S("years accessor is deprecated. Use year instead",di),$i.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",De),$i.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Re);var Vi=$i,Gi=T.prototype;Gi.calendar=D,Gi.longDateFormat=M,Gi.invalidDate=C,Gi.ordinal=I,Gi.preparse=Un,Gi.postformat=Un,Gi.relativeTime=L,Gi.pastFuture=q,Gi.set=j,Gi.months=at,Gi.monthsShort=st,Gi.monthsParse=ct,Gi.monthsRegex=pt,Gi.monthsShortRegex=dt,Gi.week=Et,Gi.firstDayOfYear=jt,Gi.firstDayOfWeek=Ot,Gi.weekdays=Ct,Gi.weekdaysMin=Lt,Gi.weekdaysShort=It,Gi.weekdaysParse=Rt,Gi.weekdaysRegex=Ut,Gi.weekdaysShortRegex=Ht,Gi.weekdaysMinRegex=Yt,Gi.isPM=Gt,Gi.meridiem=Jt,Qt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",Qt),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var Ji=Math.abs,Ki=or("ms"),Zi=or("s"),Xi=or("m"),Qi=or("h"),to=or("d"),eo=or("w"),no=or("M"),ro=or("y"),io=sr("milliseconds"),oo=sr("seconds"),ao=sr("minutes"),so=sr("hours"),uo=sr("days"),co=sr("months"),lo=sr("years"),fo=Math.round,ho={s:45,m:45,h:22,d:26,M:11},po=Math.abs,vo=ke.prototype;vo.abs=Jn,vo.add=Zn,vo.subtract=Xn,vo.as=rr,vo.asMilliseconds=Ki,vo.asSeconds=Zi,vo.asMinutes=Xi,vo.asHours=Qi,vo.asDays=to,vo.asWeeks=eo,vo.asMonths=no,vo.asYears=ro,vo.valueOf=ir,vo._bubble=tr,vo.get=ar,vo.milliseconds=io,vo.seconds=oo,vo.minutes=ao,vo.hours=so,vo.days=uo,vo.weeks=ur,vo.months=co,vo.years=lo,vo.humanize=dr,vo.toISOString=pr,vo.toString=pr,vo.toJSON=pr,vo.locale=hn,vo.localeData=dn,vo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr),vo.lang=Ui,V("X",0,0,"unix"),V("x",0,0,"valueOf"),X("x",$r),X("X",Jr),nt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),nt("x",function(t,e,n){n._d=new Date(w(t))}),n.version="2.14.1",r(ye),n.fn=Vi,n.min=we,n.max=xe,n.now=Li,n.utc=f,n.unix=Nn,n.months=Wn,n.isDate=s,n.locale=Qt,n.invalid=v,n.duration=Ue,n.isMoment=y,n.weekdays=$n,n.parseZone=Fn,n.localeData=ne,n.isDuration=Se,n.monthsShort=zn,n.weekdaysMin=Gn,n.defineLocale=te,n.updateLocale=ee,n.locales=re,n.weekdaysShort=Vn,n.normalizeUnits=P,n.relativeTimeRounding=fr,n.relativeTimeThreshold=hr,n.calendarFormat=Ve,n.prototype=Vi;var mo=n;return mo})},{}],138:[function(t,e,n){(function(r){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,i.PouchDB=t()}}(function(){var e;return function e(n,r,i){function o(s,u){if(!r[s]){if(!n[s]){var c="function"==typeof t&&t;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[s]={exports:{}};n[s][0].call(f.exports,function(t){var e=n[s][1][t];return o(e?e:t)},f,f.exports,e,n,r,i)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){function r(){h&&l&&(h=!1,l.length?f=l.concat(f):d=-1,f.length&&i())}function i(){if(!h){var t=s(r);h=!0;for(var e=f.length;e;){for(l=f,f=[];++d<e;)l&&l[d].run();d=-1,e=f.length}l=null,h=!1,u(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,u,c=e.exports={};!function(){try{s=setTimeout}catch(t){s=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(t){u=function(){throw new Error("clearTimeout is not defined")}}}();var l,f=[],h=!1,d=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new o(t,e)),1!==f.length||h||s(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],3:[function(t,e,n){(function(n,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function a(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}function s(t){if(t instanceof ArrayBuffer)return a(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}function u(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&Ir.call(n)==Lr}function c(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=c(t[n]);return e}if(t instanceof Date)return t.toISOString();if(o(t))return s(t);if(!u(t))return t;e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=c(t[n]);"undefined"!=typeof i&&(e[n]=i)}return e}function l(t){var e=!1;return Er(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function f(t){return Er(function(e){e=c(e);var r,i=this,o="function"==typeof e[e.length-1]&&e.pop();o&&(r=function(t,e){n.nextTick(function(){o(t,e)})});var a=new Cr(function(n,r){var o;try{var a=l(function(t,e){t?r(t):n(e)});e.push(a),o=t.apply(i,e),o&&"function"==typeof o.then&&n(o)}catch(t){r(t)}});return r&&a.then(function(t){r(null,t)},r),a})}function h(t,e){function n(t,e,n){if(qr.enabled){for(var r=[t._db_name,e],i=0;i<n.length-1;i++)r.push(n[i]);qr.apply(null,r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=[t._db_name,e];i=i.concat(n?["error",n]:["success",r]),qr.apply(null,i),o(n,r)}}}return f(Er(function(r){if(this._closed)return Cr.reject(new Error("database is closed"));if(this._destroyed)return Cr.reject(new Error("database is destroyed"));var i=this;return n(i,t,r),this.taskqueue.isReady?e.apply(this,r):new Cr(function(e,n){i.taskqueue.addTask(function(o){o?n(o):e(i[t].apply(i,r))})})}))}function d(t,e){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];o in t&&(n[o]=t[o])}return n}function p(t){return t}function v(t){return[{ok:t}]}function m(t,e,n){function r(){var t=[];h.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t})}function i(){++f===l&&r()}function o(t,e,n){h[t]={id:e,docs:n},i()}function a(){if(!(g>=m.length)){var t=Math.min(g+Rr,m.length),e=m.slice(g,t);s(e,g),g+=e.length}}function s(n,r){n.forEach(function(n,i){var s=r+i,u=c[n],l=d(u[0],["atts_since","attachments"]);l.open_revs=u.map(function(t){return t.rev}),l.open_revs=l.open_revs.filter(p);var f=p;0===l.open_revs.length&&(delete l.open_revs,f=v),["revs","attachments","binary","ajax"].forEach(function(t){t in e&&(l[t]=e[t])}),t.get(n,l,function(t,e){var r;r=t?[{error:t}]:f(e),o(s,n,r),a()})})}var u=e.docs,c={};u.forEach(function(t){t.id in c?c[t.id].push(t):c[t.id]=[t]});var l=Object.keys(c).length,f=0,h=new Array(l),m=Object.keys(c),g=0;a()}function g(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function _(){return yr}function y(t){g()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):_()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function b(){Or.EventEmitter.call(this),this._listeners={},y(this)}function w(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function x(t,e){var n=6e5;t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>n&&(t=n>>1,e=n);var r=Math.random(),i=e-t;return~~(i*r+t)}function k(t){var e=0;return t||(e=2e3),x(t,e)}function S(t,e){w("info","The above "+t+" is totally normal. "+e)}function E(t){Error.call(this,t.reason),this.status=t.status,this.name=t.error,this.message=t.reason,this.error=!0}function O(t,e){function n(e){for(var n in t)"function"!=typeof t[n]&&(this[n]=t[n]);void 0!==e&&(this.reason=e)}return n.prototype=E.prototype,new n(e)}function j(t){if("object"!=typeof t){var e=t;t=Wr,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function A(t,e,n){try{return!t(e,n)}catch(t){var r="Filter function threw: "+t.toString();return O(Gr,r)}}function T(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var i=n&&A(t.filter,r.doc,e);if("object"==typeof i)return i;if(i)return!1;if(t.include_docs){if(!t.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function D(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function M(t){var e;if(t?"string"!=typeof t?e=O(Ur):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=O(Yr)):e=O(Hr),e)throw e}function C(t,e){return"listenerCount"in t?t.listenerCount(e):Or.EventEmitter.listenerCount(t,e)}function I(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function L(t){var e=I(t);return e?e.join("/"):null}function q(t){for(var e=ri.exec(t),n={},r=14;r--;){var i=ti[r],o=e[r]||"",a=["user","password"].indexOf(i)!==-1;n[i]=a?decodeURIComponent(o):o}return n[ei]={},n[ti[12]].replace(ni,function(t,e,r){e&&(n[ei][e]=r)}),n}function R(t,e,n){return new Cr(function(r,i){t.get(e,function(o,a){if(o){if(404!==o.status)return i(o);a={}}var s=a._rev,u=n(a);return u?(u._id=e,u._rev=s,void r(P(t,u,n))):r({updated:!1,rev:s})})})}function P(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(r){if(409!==r.status)throw r;return R(t,e._id,n)})}function N(t){return 0|Math.random()*t}function F(t,e){e=e||ii.length;var n="",r=-1;if(t){for(;++r<t;)n+=ii[N(e)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=ii[3&N(16)|8];break;default:n+=ii[N(16)]}return n}function U(t){for(var e,n,r,i,o=t.rev_tree.slice();i=o.pop();){var a=i.ids,s=a[2],u=i.pos;if(s.length)for(var c=0,l=s.length;c<l;c++)o.push({pos:u+1,ids:s[c]});else{var f=!!a[1].deleted,h=a[0];e&&!(r!==f?r:n!==u?n<u:e<h)||(e=h,n=u,r=f)}}return n+"-"+e}function H(t,e){for(var n,r=t.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=e(0===a.length,i,o[0],n.ctx,o[1]),u=0,c=a.length;u<c;u++)r.push({pos:i+1,ids:a[u],ctx:s})}function Y(t,e){return t.pos-e.pos}function B(t){var e=[];H(t,function(t,n,r,i,o){t&&e.push({rev:n+"-"+r,pos:n,opts:o})}),e.sort(Y).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function W(t){for(var e=U(t),n=B(t.rev_tree),r=[],i=0,o=n.length;i<o;i++){var a=n[i];a.rev===e||a.opts.deleted||r.push(a.rev)}return r}function z(t){var e=[];return H(t.rev_tree,function(t,n,r,i,o){"available"!==o.status||t||(e.push(n+"-"+r),o.status="missing")}),e}function $(t){for(var e,n=[],r=t.slice();e=r.pop();){var i=e.pos,o=e.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=e.history?e.history.slice():[];l.push({id:a,opts:s}),c&&n.push({pos:i+1-l.length,ids:l});for(var f=0,h=u.length;f<h;f++)r.push({pos:i+1,ids:u[f],history:l})}return n.reverse()}function V(t,e){return t.pos-e.pos}function G(t,e,n){for(var r,i=0,o=t.length;i<o;)r=i+o>>>1,n(t[r],e)<0?i=r+1:o=r;return i}function J(t,e,n){var r=G(t,e,n);t.splice(r,0,e)}function K(t,e){for(var n,r,i=e,o=t.length;i<o;i++){var a=t[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function Z(t,e){return t[0]<e[0]?-1:1}function X(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===a[2][s][0]&&(n.push({tree1:o[2][c],tree2:a[2][s]}),u=!0);u||(r="new_branch",J(o[2],a[2][s],Z))}else r="new_leaf",o[2][0]=a[2][s]}return{conflicts:r,tree:t}}function Q(t,e,n){var r,i=[],o=!1,a=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var s=0,u=t.length;s<u;s++){var c=t[s];if(c.pos===e.pos&&c.ids[0]===e.ids[0])r=X(c.ids,e.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(n!==!0){var l=c.pos<e.pos?c:e,f=c.pos<e.pos?e:c,h=f.pos-l.pos,d=[],p=[];for(p.push({ids:l.ids,diff:h,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var m=v.ids[2],g=0,_=m.length;g<_;g++)p.push({ids:m[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===f.ids[0]&&d.push(v)}var y=d[0];y?(r=X(y.ids,f.ids),y.parent[2][y.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(e),i.sort(V),{tree:i,conflicts:o||"internal_node"}}function tt(t,e){for(var n,r=$(t),i={},o=0,a=r.length;o<a;o++){for(var s=r[o],u=s.ids,c=Math.max(0,u.length-e),l={pos:s.pos+c,ids:K(u,c)},f=0;f<c;f++){var h=s.pos+f+"-"+u[f].id;i[h]=!0}n=n?Q(n,l,!0).tree:[l]}return H(n,function(t,e,n){delete i[e+"-"+n]}),{tree:n,revs:Object.keys(i)}}function et(t,e,n){var r=Q(t,e),i=tt(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function nt(t,e){for(var n,r=t.slice(),i=e.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;u<c;u++)r.push({pos:n.pos+1,ids:s[u]})}return!1}function rt(t){return t.ids}function it(t,e){e||(e=U(t));for(var n,r=e.substring(e.indexOf("-")+1),i=t.rev_tree.map(rt);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function ot(t){return/^_local/.test(t)}function at(t){return jr("return "+t+";",{})}function st(t){return new Function("doc",["var emitted = false;","var emit = function (a, b) {","  emitted = true;","};","var view = "+t+";","view(doc);","if (emitted) {","  return true;","}"].join("\n"))}function ut(t,e){try{t.emit("change",e)}catch(t){w("error",'Error in .on("change", function):',t)}}function ct(t,e,n){function r(){i.cancel()}Or.EventEmitter.call(this);var i=this;this.db=t,e=e?c(e):{};var o=e.complete=l(function(e,n){e?C(i,"error")>0&&i.emit("error",e):i.emit("complete",n),i.removeAllListeners(),t.removeListener("destroyed",r)});n&&(i.on("complete",function(t){n(null,t)}),i.on("error",n)),t.once("destroyed",r),e.onChange=function(t){e.isCancelled||(ut(i,t),i.startSeq&&i.startSeq<=t.seq&&(i.startSeq=!1))};var a=new Cr(function(t,n){e.complete=function(e,r){e?n(e):t(r)}});i.once("cancel",function(){t.removeListener("destroyed",r),e.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then(function(t){o(null,t)},o),t.taskqueue.isReady?i.doChanges(e):t.taskqueue.addTask(function(){i.isCancelled?i.emit("cancel"):i.doChanges(e)})}function lt(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=B(e.rev_tree).map(function(t){return{rev:t.rev}}));var i={id:e.id,changes:r,doc:t};return it(e,t._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=W(e),i.doc._conflicts.length||delete i.doc._conflicts),i}function ft(t,e){return t<e?-1:t>e?1:0}function ht(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n)===!0)return t[n]}function dt(t){return function(e,n){e||n[0]&&n[0].error?t(e||n[0]):t(null,n.length?n[0]:n)}}function pt(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=d(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function vt(t,e){var n=ft(t._id,e._id);if(0!==n)return n;var r=t._revisions?t._revisions.start:0,i=e._revisions?e._revisions.start:0;return ft(r,i)}function mt(t){var e={},n=[];return H(t,function(t,r,i,o){var a=r+"-"+i;return t&&(e[a]=0),void 0!==o&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function gt(t,e,n){var r="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&r.reverse(),!r.length)return t._allDocs({limit:0},n);var i={offset:e.skip};return Cr.all(r.map(function(n){var r=br.extend({key:n,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete r[t]}),new Cr(function(e,o){t._allDocs(r,function(t,r){return t?o(t):(i.total_rows=r.total_rows,void e(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(t){return i.rows=t,i})}function _t(t){var e=t._compactionQueue[0],r=e.opts,i=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(r.last_seq=e.last_seq),t._compact(r,function(e,r){e?i(e):i(null,r),n.nextTick(function(){t._compactionQueue.shift(),t._compactionQueue.length&&_t(t)})})})}function yt(t){return"_"===t.charAt(0)&&t+"is not a valid attachment name, attachment names cannot start with '_'"}function bt(){Or.EventEmitter.call(this)}function wt(){this.isReady=!1,this.failed=!1,this.queue=[]}function xt(t){t&&r.debug&&w("error",t)}function kt(t,e){function n(){o.emit("destroyed",i)}function r(){t.removeListener("destroyed",n),t.emit("destroyed",t)}var i=e.originalName,o=t.constructor,a=o._destructionListeners;t.once("destroyed",n),a.has(i)||a.set(i,[]),a.get(i).push(r)}function St(t,e,n){if(!(this instanceof St))return new St(t,e,n);var r=this;if("function"!=typeof e&&"undefined"!=typeof e||(n=e,e={}),t&&"object"==typeof t&&(e=t,t=void 0),"undefined"==typeof n)n=xt;else{var i=n;n=function(){return w("warn","Using a callback for new PouchDB()is deprecated."),i.apply(null,arguments)}}t=t||e.name,e=c(e),delete e.name,this.__opts=e;var o=n;r.auto_compaction=e.auto_compaction,r.prefix=St.prefix,bt.call(r),r.taskqueue=new wt;var a=new Cr(function(i,o){n=function(t,e){return t?o(t):(delete e.then,void i(e))},e=c(e);var a,s;return function(){try{if("string"!=typeof t)throw s=new Error("Missing/invalid DB name"),s.code=400,s;var n=(e.prefix||"")+t;if(a=St.parseAdapter(n,e),e.originalName=t,e.name=a.name,e.adapter=e.adapter||a.adapter,r._adapter=e.adapter,wr("pouchdb:adapter")("Picked adapter: "+e.adapter),r._db_name=t,!St.adapters[e.adapter])throw s=new Error("Adapter is missing"),s.code=404,s;if(!St.adapters[e.adapter].valid())throw s=new Error("Invalid Adapter"),s.code=404,s}catch(t){r.taskqueue.fail(t)}}(),s?o(s):(r.adapter=e.adapter,r.replicate={},r.replicate.from=function(t,e,n){return r.constructor.replicate(t,r,e,n)},r.replicate.to=function(t,e,n){return r.constructor.replicate(r,t,e,n)},r.sync=function(t,e,n){return r.constructor.sync(r,t,e,n)},r.replicate.sync=r.sync,void St.adapters[e.adapter].call(r,e,function(t){return t?(r.taskqueue.fail(t),void n(t)):(kt(r,e),r.emit("created",r),St.emit("created",e.originalName),r.taskqueue.ready(r),void n(null,r))}))});a.then(function(t){o(null,t)},o),r.then=a.then.bind(a),r.catch=a.catch.bind(a)}function Et(t){Object.keys(Or.EventEmitter.prototype).forEach(function(e){"function"==typeof Or.EventEmitter.prototype[e]&&(t[e]=oi[e].bind(oi))});var e=t._destructionListeners=new Sr.Map;t.on("destroyed",function(t){e.get(t).forEach(function(t){t()}),e.delete(t)})}function Ot(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function jt(t){if(!/^\d+\-./.test(t))return O(Xr);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function At(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,i=[r[0],e,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function Tt(t,e){var n,r,i,o={status:"available"};if(t._deleted&&(o.deleted=!0),e)if(t._id||(t._id=F()),r=F(32,16).toLowerCase(),t._rev){if(i=jt(t._rev),i.error)return i;t._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[r,o,[]]]]}],n=i.prefix+1}else t._rev_tree=[{pos:1,ids:[r,o,[]]}],n=1;else if(t._revisions&&(t._rev_tree=At(t._revisions,o),n=t._revisions.start,r=t._revisions.ids[0]),!t._rev_tree){if(i=jt(t._rev),i.error)return i;n=i.prefix,r=i.id,t._rev_tree=[{pos:n,ids:[r,o,[]]}]}M(t._id),t._rev=n+"-"+r;var a={metadata:{},data:{}};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var u="_"===s[0];if(u&&!ui[s]){var c=O(Vr,s);throw c.message=Vr.message+": "+s,c}u&&!ci[s]?a.metadata[s.slice(1)]=t[s]:a.data[s]=t[s]}return a}function Dt(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(e.type)}}function Mt(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function Ct(t,e){return Dt([Mt(t)],{type:e})}function It(t,e){return Ct(li(t),e)}function Lt(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e}function qt(t,e){if("undefined"==typeof FileReader)return e(Lt((new FileReaderSync).readAsArrayBuffer(t)));
var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";return r?e(n):void e(Lt(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function Rt(t,e){qt(t,function(t){e(t)})}function Pt(t,e){Rt(t,function(t){e(fi(t))})}function Nt(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}function Ft(t){return fi(t)}function Ut(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function Ht(t,e,n,r,i){(n>0||r<e.size)&&(e=Ut(e,n,r)),Nt(e,function(e){t.append(e),i()})}function Yt(t,e,n,r,i){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),i()}function Bt(t,e){function n(){hi(i)}function r(){var t=l.end(!0),n=Ft(t);e(n),l.destroy()}function i(){var e=c*s,i=e+s;c++,c<u?f(l,t,e,i,n):f(l,t,e,i,r)}var o="string"==typeof t,a=o?t.length:t.size,s=Math.min(di,a),u=Math.ceil(a/s),c=0,l=o?new Ar:new Ar.ArrayBuffer,f=o?Yt:Ht;i()}function Wt(t){return Ar.hash(t)}function zt(t){try{return li(t)}catch(t){var e=O(zr,"Attachment is not a valid base64 string");return{error:e}}}function $t(t,e,n){var r=zt(t.data);return r.error?n(r.error):(t.length=r.length,"blob"===e?t.data=Ct(r,t.content_type):"base64"===e?t.data=fi(r):t.data=r,void Bt(r,function(e){t.digest="md5-"+e,n()}))}function Vt(t,e,n){Bt(t.data,function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,"binary"===e?Rt(t.data,function(e){t.data=e,n()}):"base64"===e?Pt(t.data,function(e){t.data=e,n()}):n()})}function Gt(t,e,n){return t.stub?n():void("string"==typeof t.data?$t(t,e,n):Vt(t,e,n))}function Jt(t,e,n){function r(){o++,t.length===o&&(i?n(i):n())}if(!t.length)return n();var i,o=0;t.forEach(function(t){function n(t){i=t,a++,a===o.length&&r()}var o=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],a=0;if(!o.length)return r();for(var s in t.data._attachments)t.data._attachments.hasOwnProperty(s)&&Gt(t.data._attachments[s],e,n)})}function Kt(t,e,n,r,i,o,a,s){if(nt(e.rev_tree,n.metadata.rev))return r[i]=n,o();var u=e.winningRev||U(e),c="deleted"in e?e.deleted:it(e,u),l="deleted"in n.metadata?n.metadata.deleted:it(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&s&&f){var h=n.data;h._rev=u,h._id=n.metadata.id,n=Tt(h,s)}var d=et(e.rev_tree,n.metadata.rev_tree[0],t),p=s&&(c&&l||!c&&"new_leaf"!==d.conflicts||c&&!l&&"new_branch"===d.conflicts);if(p){var v=O(Fr);return r[i]=v,o()}var m=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var g,_=U(n.metadata),y=it(n.metadata,_),b=c===y?0:c<y?-1:1;g=m===_?y:it(n.metadata,m),a(n,_,y,g,!0,b,i,o)}function Zt(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function Xt(t,e,n,r,i,o,a,s,u){function c(t,e,n){var r=U(t.metadata),i=it(t.metadata,r);if("was_delete"in s&&i)return o[e]=O(Nr,"deleted"),n();var u=f&&Zt(t);if(u){var c=O(Fr);return o[e]=c,n()}var l=i?0:1;a(t,r,i,i,!1,l,e,n)}function l(){++d===p&&u&&u()}t=t||1e3;var f=s.new_edits,h=new Sr.Map,d=0,p=e.length;e.forEach(function(t,e){if(t._id&&ot(t._id)){var r=t._deleted?"_removeLocal":"_putLocal";return void n[r](t,{ctx:i},function(t,n){o[e]=t||n,l()})}var a=t.metadata.id;h.has(a)?(p--,h.get(a).push([t,e])):h.set(a,[[t,e]])}),h.forEach(function(e,n){function i(){++u<e.length?s():l()}function s(){var s=e[u],l=s[0],h=s[1];if(r.has(n))Kt(t,r.get(n),l,o,h,i,a,f);else{var d=et([],l.metadata.rev_tree[0],t);l.metadata.rev_tree=d.tree,l.stemmedRevs=d.stemmedRevs||[],c(l,h,i)}}var u=0;s()})}function Qt(t){try{return JSON.parse(t)}catch(e){return Tr.parse(t)}}function te(t){return t.length<5e4?JSON.parse(t):Qt(t)}function ee(t){try{return JSON.stringify(t)}catch(e){return Tr.stringify(t)}}function ne(t,e,n,r){try{t.apply(e,n)}catch(t){r.emit("error",t)}}function re(t){if(!xi.running&&xi.queue.length){xi.running=!0;var e=xi.queue.shift();e.action(function(r,i){ne(e.callback,this,[r,i],t),xi.running=!1,n.nextTick(function(){re(t)})})}}function ie(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(O(Kr,n,e.type))}}function oe(t,e,n){return{data:ee(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function ae(t){if(!t)return null;var e=te(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function se(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function ue(t,e,n,r){n?r(t?"string"!=typeof t?t:It(t,e):Dt([""],{type:e})):t?"string"!=typeof t?qt(t,function(t){r(fi(t))}):r(t):r("")}function ce(t,e,n,r){function i(){++s===a.length&&r&&r()}function o(t,e){var r=t._attachments[e],o=r.digest,a=n.objectStore(gi).get(o);a.onsuccess=function(t){r.body=t.target.result.body,i()}}var a=Object.keys(t._attachments||{});if(!a.length)return r&&r();var s=0;a.forEach(function(n){e.attachments&&e.include_docs?o(t,n):(t._attachments[n].stub=!0,i())})}function le(t,e){return Cr.all(t.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return Cr.all(n.map(function(n){var r=t.doc._attachments[n];if("body"in r){var i=r.body,o=r.content_type;return new Cr(function(a){ue(i,o,e,function(e){t.doc._attachments[n]=br.extend(d(r,["digest","content_type"]),{data:e}),a()})})}}))}}))}function fe(t,e,n){function r(){c--,c||i()}function i(){o.length&&o.forEach(function(t){var e=u.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::",!1,!1));e.onsuccess=function(e){var n=e.target.result;n||s.delete(t)}})}var o=[],a=n.objectStore(mi),s=n.objectStore(gi),u=n.objectStore(_i),c=t.length;t.forEach(function(t){var n=a.index("_doc_id_rev"),i=e+"::"+t;n.getKey(i).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return r();a.delete(e);var n=u.index("seq").openCursor(IDBKeyRange.only(e));n.onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];o.push(n),u.delete(e.primaryKey),e.continue()}else r()}}})}function he(t,e,n){try{return{txn:t.transaction(e,n)}}catch(t){return{error:t}}}function de(t,e,n,r,i,o,a){function s(){var t=[vi,mi,gi,bi,_i],e=he(i,t,"readwrite");return e.error?a(e.error):(_=e.txn,_.onabort=ie(a),_.ontimeout=ie(a),_.oncomplete=l,y=_.objectStore(vi),b=_.objectStore(mi),w=_.objectStore(gi),x=_.objectStore(_i),void h(function(t){return t?(C=!0,a(t)):void c()}))}function u(){Xt(t.revs_limit,S,r,M,_,D,d,n)}function c(){function t(){++n===S.length&&u()}function e(e){var n=ae(e.target.result);n&&M.set(n.id,n),t()}if(S.length)for(var n=0,r=0,i=S.length;r<i;r++){var o=S[r];if(o._id&&ot(o._id))t();else{var a=y.get(o.metadata.id);a.onsuccess=e}}}function l(){C||(o.notify(r._meta.name),r._meta.docCount+=E,a(null,D))}function f(t,e){var n=w.get(t);n.onsuccess=function(n){if(n.target.result)e();else{var r=O(Qr,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}function h(t){function e(){++i===n.length&&t(r)}var n=[];if(S.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,i=0;n.forEach(function(t){f(t,function(t){t&&!r&&(r=t),e()})})}function d(t,e,n,r,i,o,a,s){E+=o,t.metadata.winningRev=e,t.metadata.deleted=n;var u=t.data;u._id=t.metadata.id,u._rev=t.metadata.rev,r&&(u._deleted=!0);var c=u._attachments&&Object.keys(u._attachments).length;return c?v(t,e,n,i,a,s):void p(t,e,n,i,a,s)}function p(t,e,n,i,o,a){function s(o){var a=t.stemmedRevs||[];i&&r.auto_compaction&&(a=a.concat(z(t.metadata))),a&&a.length&&fe(a,t.metadata.id,_),f.seq=o.target.result,delete f.rev;var s=oe(f,e,n),u=y.put(s);u.onsuccess=c}function u(t){t.preventDefault(),t.stopPropagation();var e=b.index("_doc_id_rev"),n=e.getKey(l._doc_id_rev);n.onsuccess=function(t){var e=b.put(l,t.target.result);e.onsuccess=s}}function c(){D[o]={ok:!0,id:f.id,rev:e},M.set(t.metadata.id,t.metadata),m(t,f.seq,a)}var l=t.data,f=t.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var h=b.put(l);h.onsuccess=s,h.onerror=u}function v(t,e,n,r,i,o){function a(){c===l.length&&p(t,e,n,r,i,o)}function s(){c++,a()}var u=t.data,c=0,l=Object.keys(u._attachments);l.forEach(function(n){var r=t.data._attachments[n];if(r.stub)c++,a();else{var i=r.data;delete r.data,r.revpos=parseInt(e,10);var o=r.digest;g(o,i,s)}})}function m(t,e,n){function r(){++o===a.length&&n()}function i(n){var i=t.data._attachments[n].digest,o=x.put({seq:e,digestSeq:i+"::"+e});o.onsuccess=r,o.onerror=function(t){t.preventDefault(),t.stopPropagation(),r()}}var o=0,a=Object.keys(t.data._attachments||{});if(!a.length)return n();for(var s=0;s<a.length;s++)i(a[s])}function g(t,e,n){var r=w.count(t);r.onsuccess=function(r){var i=r.target.result;if(i)return n();var o={digest:t,body:e},a=w.put(o);a.onsuccess=n}}for(var _,y,b,w,x,k,S=e.docs,E=0,j=0,A=S.length;j<A;j++){var T=S[j];T._id&&ot(T._id)||(T=S[j]=Tt(T,n.new_edits),T.error&&!k&&(k=T))}if(k)return a(k);var D=new Array(S.length),M=new Sr.Map,C=!1,I=r._meta.blobSupport?"blob":"base64";Jt(S,I,function(t){return t?a(t):void s()})}function pe(t,e,n,r,i){try{if(t&&e)return i?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return i?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return i?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(t){return{error:t}}return null}function ve(t,e,n,r){return"DataError"===n.name&&0===n.code?r(null,{total_rows:t._meta.docCount,offset:e.skip,rows:[]}):void r(O(Kr,n.name,n.message))}function me(t,e,n,r){function i(t,r){function i(e,n,r){var i=e.id+"::"+r;k.get(i).onsuccess=function(r){n.doc=se(r.target.result),t.conflicts&&(n.doc._conflicts=W(e)),ce(n.doc,t,y)}}function o(e,n,r){var o={id:r.id,key:r.id,value:{rev:n}},a=r.deleted;if("ok"===t.deleted)S.push(o),a?(o.value.deleted=!0,o.doc=null):t.include_docs&&i(r,o,n);else if(!a&&h--<=0&&(S.push(o),t.include_docs&&i(r,o,n),0===--d))return;e.continue()}function a(t){E=e._meta.docCount;var n=t.target.result;if(n){var r=ae(n.value),i=r.winningRev;o(n,i,r)}}function s(){r(null,{total_rows:E,offset:t.skip,rows:S})}function u(){t.attachments?le(S,t.binary).then(s):s()}var c="startkey"in t&&t.startkey,l="endkey"in t&&t.endkey,f="key"in t&&t.key,h=t.skip||0,d="number"==typeof t.limit?t.limit:-1,p=t.inclusive_end!==!1,v="descending"in t&&t.descending?"prev":null,m=pe(c,l,p,f,v);if(m&&m.error)return ve(e,t,m.error,r);var g=[vi,mi];t.attachments&&g.push(gi);var _=he(n,g,"readonly");if(_.error)return r(_.error);var y=_.txn,b=y.objectStore(vi),w=y.objectStore(mi),x=v?b.openCursor(m,v):b.openCursor(m),k=w.index("_doc_id_rev"),S=[],E=0;y.oncomplete=u,x.onsuccess=a}function o(t,n){return 0===t.limit?n(null,{total_rows:e._meta.docCount,offset:t.skip,rows:[]}):void i(t,n)}o(t,r)}function ge(t){return new Cr(function(e){var n=Dt([""]);t.objectStore(wi).put(n,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}function _e(t,e){var n=this;xi.queue.push({action:function(e){ye(n,t,e)},callback:e}),re(n.constructor)}function ye(t,e,r){function i(t){var e=t.createObjectStore(vi,{keyPath:"id"});t.createObjectStore(mi,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(gi,{keyPath:"digest"}),t.createObjectStore(yi,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(wi),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(bi,{keyPath:"_id"});var n=t.createObjectStore(_i,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(t,e){var n=t.objectStore(vi);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i=r.value,o=it(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else e()}}function a(t){t.createObjectStore(bi,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function s(t,e){var n=t.objectStore(bi),r=t.objectStore(vi),i=t.objectStore(mi),o=r.openCursor();o.onsuccess=function(t){var o=t.target.result;if(o){var a=o.value,s=a.id,u=ot(s),c=U(a);if(u){var l=s+"::"+c,f=s+"::",h=s+"::~",d=i.index("_doc_id_rev"),p=IDBKeyRange.bound(f,h,!1,!1),v=d.openCursor(p);v.onsuccess=function(t){if(v=t.target.result){var e=v.value;e._doc_id_rev===l&&n.put(e),i.delete(v.primaryKey),v.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else e&&e()}}function u(t){var e=t.createObjectStore(_i,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function l(t,e){var n=t.objectStore(mi),r=t.objectStore(gi),i=t.objectStore(_i),o=r.count();o.onsuccess=function(t){var r=t.target.result;return r?void(n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,o=n.primaryKey,a=Object.keys(r._attachments||{}),s={},u=0;u<a.length;u++){var c=r._attachments[a[u]];s[c.digest]=!0}var l=Object.keys(s);for(u=0;u<l.length;u++){var f=l[u];i.put({seq:o,digestSeq:f+"::"+o})}n.continue()}):e()}}function h(t){function e(t){return t.data?ae(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(mi),r=t.objectStore(vi),i=r.openCursor();i.onsuccess=function(t){function i(){var t=s.id+"::",e=s.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),i=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return s.seq=i,o();var n=e.primaryKey;n>i&&(i=n),e.continue()}}function o(){var t=oe(s,s.winningRev,s.deleted),e=r.put(t);e.onsuccess=function(){a.continue()}}var a=t.target.result;if(a){var s=e(a.value);return s.winningRev=s.winningRev||U(s),s.seq?o():void i()}}}var d=e.name,p=null;t._meta=null,t.type=function(){return"idb"},t._id=f(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(n,r,i){de(e,n,r,t,p,Si,i)},t._get=function(t,e,n){function r(){n(a,{doc:i,metadata:o,ctx:s})}var i,o,a,s=e.ctx;if(!s){var u=he(p,[vi,mi,gi],"readonly");if(u.error)return n(u.error);s=u.txn}s.objectStore(vi).get(t).onsuccess=function(t){if(o=ae(t.target.result),!o)return a=O(Nr,"missing"),r();if(it(o)&&!e.rev)return a=O(Nr,"deleted"),r();var n=s.objectStore(mi),u=e.rev||o.winningRev,c=o.id+"::"+u;n.index("_doc_id_rev").get(c).onsuccess=function(t){return i=t.target.result,i&&(i=se(i)),i?void r():(a=O(Nr,"missing"),r())}}},t._getAttachment=function(t,e,n,r,i){var o;if(r.ctx)o=r.ctx;else{var a=he(p,[vi,mi,gi],"readonly");if(a.error)return i(a.error);o=a.txn}var s=n.digest,u=n.content_type;o.objectStore(gi).get(s).onsuccess=function(t){var e=t.target.result.body;ue(e,u,r.binary,function(t){i(null,t)})}},t._info=function(e){if(null===p||!ki.has(d)){var n=new Error("db isn't open");return n.id="idbNull",e(n)}var r,i,o=he(p,[mi],"readonly");if(o.error)return e(o.error);var a=o.txn,s=a.objectStore(mi).openCursor(null,"prev");s.onsuccess=function(e){var n=e.target.result;r=n?n.key:0,i=t._meta.docCount},a.oncomplete=function(){e(null,{doc_count:i,update_seq:r,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(e,n){me(e,t,p,n)},t._changes=function(e){function n(t){function n(){return c.seq!==a?t.continue():(u=a,c.winningRev===o._rev?i(o):void r())}function r(){var t=o._id+"::"+c.winningRev,e=g.get(t);e.onsuccess=function(t){i(se(t.target.result))}}function i(n){var r=e.processChange(n,c,e);r.seq=c.seq;var i=b(r);return"object"==typeof i?e.complete(i):(i&&(y++,f&&_.push(r),e.attachments&&e.include_docs?ce(n,e,h,function(){le([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r)),void(y!==l&&t.continue()))}var o=se(t.value),a=t.key;if(s&&!s.has(o._id))return t.continue();var c;return(c=w.get(o._id))?n():void(m.get(o._id).onsuccess=function(t){c=ae(t.target.result),w.set(o._id,c),n()})}function r(t){var e=t.target.result;e&&n(e)}function i(){var t=[vi,mi];e.attachments&&t.push(gi);var n=he(p,t,"readonly");if(n.error)return e.complete(n.error);h=n.txn,h.onabort=ie(e.complete),h.oncomplete=o,v=h.objectStore(mi),m=h.objectStore(vi),g=v.index("_doc_id_rev");var i;i=e.descending?v.openCursor(null,"prev"):v.openCursor(IDBKeyRange.lowerBound(e.since,!0)),i.onsuccess=r}function o(){function t(){e.complete(null,{results:_,last_seq:u})}!e.continuous&&e.attachments?le(_).then(t):t()}if(e=c(e),e.continuous){var a=d+":"+F();return Si.addListener(d,a,t,e),Si.notify(d),{cancel:function(){Si.removeListener(d,a)}}}var s=e.doc_ids&&new Sr.Set(e.doc_ids);e.since=e.since||0;var u=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var f;f="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var h,v,m,g,_=[],y=0,b=T(e),w=new Sr.Map;i()},t._close=function(t){return null===p?t(O(Br)):(p.close(),ki.delete(d),p=null,void t())},t._getRevisionTree=function(t,e){var n=he(p,[vi],"readonly");if(n.error)return e(n.error);var r=n.txn,i=r.objectStore(vi).get(t);i.onsuccess=function(t){var n=ae(t.target.result);n?e(null,n.rev_tree):e(O(Nr))}},t._doCompaction=function(t,e,n){var r=[vi,mi,gi,_i],i=he(p,r,"readwrite");if(i.error)return n(i.error);var o=i.txn,a=o.objectStore(vi);a.get(t).onsuccess=function(n){var r=ae(n.target.result);H(r.rev_tree,function(t,n,r,i,o){var a=n+"-"+r;e.indexOf(a)!==-1&&(o.status="missing")}),fe(e,t,o);var i=r.winningRev,a=r.deleted;o.objectStore(vi).put(oe(r,i,a))},o.onabort=ie(n),o.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=he(p,[bi],"readonly");if(n.error)return e(n.error);var r=n.txn,i=r.objectStore(bi).get(t);i.onerror=ie(e),i.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(O(Nr))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var r=t._rev,i=t._id;r?t._rev="0-"+(parseInt(r.split("-")[1],10)+1):t._rev="0-1";var o,a=e.ctx;if(!a){var s=he(p,[bi],"readwrite");if(s.error)return n(s.error);a=s.txn,a.onerror=ie(n),a.oncomplete=function(){o&&n(null,o)}}var u,c=a.objectStore(bi);r?(u=c.get(i),u.onsuccess=function(i){var a=i.target.result;if(a&&a._rev===r){var s=c.put(t);s.onsuccess=function(){o={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,o)}}else n(O(Fr))}):(u=c.add(t),u.onerror=function(t){n(O(Fr)),t.preventDefault(),t.stopPropagation()},u.onsuccess=function(){o={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,o)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var r=e.ctx;if(!r){var i=he(p,[bi],"readwrite");if(i.error)return n(i.error);r=i.txn,r.oncomplete=function(){o&&n(null,o)}}var o,a=t._id,s=r.objectStore(bi),u=s.get(a);u.onerror=ie(n),u.onsuccess=function(r){var i=r.target.result;i&&i._rev===t._rev?(s.delete(a),o={ok:!0,id:a,rev:"0-0"},e.ctx&&n(null,o)):n(O(Nr))}},t._destroy=function(t,e){Si.removeAllListeners(d);var n=Ei.get(d);n&&n.result&&(n.result.close(),ki.delete(d));var r=indexedDB.deleteDatabase(d);r.onsuccess=function(){Ei.delete(d),_()&&d in localStorage&&delete localStorage[d],e(null,{ok:!0})},r.onerror=ie(e)};var v=ki.get(d);if(v)return p=v.idb,t._meta=v.global,void n.nextTick(function(){r(null,t)});var m;m=e.storage?be(d,e.storage):indexedDB.open(d,pi),Ei.set(d,m),m.onupgradeneeded=function(t){function e(){var t=c[f-1];f++,t&&t(r,e)}var n=t.target.result;if(t.oldVersion<1)return i(n);var r=t.currentTarget.transaction;t.oldVersion<3&&a(n),t.oldVersion<4&&u(n);var c=[o,s,l,h],f=t.oldVersion;e()},m.onsuccess=function(e){p=e.target.result,p.onversionchange=function(){p.close(),ki.delete(d)},p.onabort=function(t){w("error","Database has a global failure",t.target.error),p.close(),ki.delete(d)};var n=p.transaction([yi,wi,vi],"readwrite"),i=n.objectStore(yi).get(yi),o=null,a=null,s=null;i.onsuccess=function(e){var i=function(){null!==o&&null!==a&&null!==s&&(t._meta={name:d,instanceId:s,blobSupport:o,docCount:a},ki.set(d,{idb:p,global:t._meta}),r(null,t))},u=e.target.result||{id:yi};d+"_id"in u?(s=u[d+"_id"],i()):(s=F(),u[d+"_id"]=s,n.objectStore(yi).put(u).onsuccess=function(){i()}),si||(si=ge(n)),si.then(function(t){o=t,i()});var c=n.objectStore(vi).index("deletedOrLocal");c.count(IDBKeyRange.only("0")).onsuccess=function(t){a=t.target.result,i()}}},m.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";w("error",t),r(O(Kr,t))}}function be(t,e){try{return indexedDB.open(t,{version:pi,storage:e})}catch(e){return indexedDB.open(t,pi)}}function we(t){t.adapter("idb",_e,!0)}function xe(t){return decodeURIComponent(escape(t))}function ke(t){return t<65?t-48:t-55}function Se(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(ke(t.charCodeAt(e++))<<4|ke(t.charCodeAt(e++)));return r}function Ee(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(ke(t.charCodeAt(e+2))<<12|ke(t.charCodeAt(e+3))<<8|ke(t.charCodeAt(e))<<4|ke(t.charCodeAt(e+1))),e+=4;return r}function Oe(t,e){return"UTF-8"===e?xe(Se(t,0,t.length)):Ee(t,0,t.length)}function je(t){return"'"+t+"'"}function Ae(t){return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Te(t){return t.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function De(t){return delete t._id,delete t._rev,JSON.stringify(t)}function Me(t,e,n){return t=JSON.parse(t),t._id=e,t._rev=n,t}function Ce(t){for(var e="(";t--;)e+="?",t&&(e+=",");return e+")"}function Ie(t,e,n,r,i){return"SELECT "+t+" FROM "+("string"==typeof e?e:e.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function Le(t,e,n){function r(){++o===t.length&&i()}function i(){if(a.length){var t="SELECT DISTINCT digest AS digest FROM "+Ci+" WHERE seq IN "+Ce(a.length);n.executeSql(t,a,function(t,e){for(var n=[],r=0;r<e.rows.length;r++)n.push(e.rows.item(r).digest);if(n.length){var i="DELETE FROM "+Ci+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";t.executeSql(i,a,function(t){var e="SELECT digest FROM "+Ci+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";t.executeSql(e,n,function(t,e){for(var r=new Sr.Set,i=0;i<e.rows.length;i++)r.add(e.rows.item(i).digest);n.forEach(function(e){r.has(e)||(t.executeSql("DELETE FROM "+Ci+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+Ti+" WHERE digest=?",[e]))})})})}})}}if(t.length){var o=0,a=[];t.forEach(function(t){var i="SELECT seq FROM "+Ai+" WHERE doc_id=? AND rev=?";n.executeSql(i,[e,t],function(t,e){if(!e.rows.length)return r();var n=e.rows.item(0).seq;a.push(n),t.executeSql("DELETE FROM "+Ai+" WHERE seq=?",[n],r)})})}}function qe(t){return function(e){w("error","WebSQL threw an error",e);var n=e&&e.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||e.type,i=e.target||e.message;t(O(Zr,i,r))}}function Re(t){if("size"in t)return 1e6*t.size;var e="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return e?5e6:1}function Pe(t,e,n,r,i,o,a){function s(){return y?a(y):(o.notify(r._name),r._docCount=-1,void a(null,b))}function u(t,e){var n="SELECT count(*) as cnt FROM "+Ti+" WHERE digest=?";_.executeSql(n,[t],function(n,r){if(0===r.rows.item(0).cnt){var i=O(Qr,"unknown stub attachment with digest "+t);e(i)}else e()})}function c(t){function e(){++i===n.length&&t(r)}var n=[];if(m.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,i=0;n.forEach(function(t){u(t,function(t){t&&!r&&(r=t),e()})})}function l(t,e,n,i,o,a,s,u){function c(){function e(t,e){function r(){return++o===a.length&&e(),!1}function i(e){var i="INSERT INTO "+Ci+" (digest, seq) VALUES (?,?)",o=[n._attachments[e].digest,t];_.executeSql(i,o,r,r)}var o=0,a=Object.keys(n._attachments||{});if(!a.length)return e();for(var s=0;s<a.length;s++)i(a[s])}var n=t.data,r=i?1:0,o=n._id,a=n._rev,s=De(n),u="INSERT INTO "+Ai+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[o,a,s,r];_.executeSql(u,c,function(t,n){var r=n.insertId;e(r,function(){h(t,r)})},function(){var t=Ie("seq",Ai,null,"doc_id=? AND rev=?");return _.executeSql(t,[o,a],function(t,n){var i=n.rows.item(0).seq,u="UPDATE "+Ai+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[s,r,o,a];t.executeSql(u,c,function(t){e(i,function(){h(t,i)})})}),!1})}function l(t){p||(t?(p=t,u(p)):v===m.length&&c())}function f(t){v++,l(t)}function h(n,i){var a=t.metadata.id,c=t.stemmedRevs||[];o&&r.auto_compaction&&(c=z(t.metadata).concat(c)),c.length&&Le(c,a,n),t.metadata.seq=i,delete t.metadata.rev;var l=o?"UPDATE "+ji+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+Ai+" WHERE doc_id="+ji+".id AND rev=?) WHERE id=?":"INSERT INTO "+ji+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",f=ee(t.metadata),h=o?[f,i,e,a]:[a,i,i,f];n.executeSql(l,h,function(){b[s]={ok:!0,id:t.metadata.id,rev:e},w.set(a,t.metadata),u()})}var p=null,v=0;t.data._id=t.metadata.id,t.data._rev=t.metadata.rev;var m=Object.keys(t.data._attachments||{});i&&(t.data._deleted=!0),m.forEach(function(n){var r=t.data._attachments[n];if(r.stub)v++,l();else{var i=r.data;delete r.data,r.revpos=parseInt(e,10);var o=r.digest;d(o,i,f)}}),m.length||c()}function f(){Xt(t.revs_limit,m,r,w,_,b,l,n)}function h(t){function e(){++n===m.length&&t()}if(!m.length)return t();var n=0;m.forEach(function(t){if(t._id&&ot(t._id))return e();var n=t.metadata.id;_.executeSql("SELECT json FROM "+ji+" WHERE id = ?",[n],function(t,r){if(r.rows.length){var i=te(r.rows.item(0).json);w.set(n,i)}e()})})}function d(t,e,n){var r="SELECT digest FROM "+Ti+" WHERE digest=?";_.executeSql(r,[t],function(i,o){return o.rows.length?n():(r="INSERT INTO "+Ti+" (digest, body, escaped) VALUES (?,?,1)",void i.executeSql(r,[t,Ae(e)],function(){n()},function(){return n(),!1}))})}var p=n.new_edits,v=e.docs,m=v.map(function(t){if(t._id&&ot(t._id))return t;var e=Tt(t,p);return e}),g=m.filter(function(t){return t.error});if(g.length)return a(g[0]);var _,y,b=new Array(m.length),w=new Sr.Map;Jt(m,"binary",function(t){return t?a(t):void i.transaction(function(t){_=t,c(function(t){t?y=t:h(f)})},qe(a),s)})}function Ne(t){return t.websql(t.name,t.version,t.description,t.size)}function Fe(t){try{return{db:Ne(t)}}catch(t){return{error:t}}}function Ue(t){var e=Ii.get(t.name);return e||(e=Fe(t),Ii.set(t.name,e),e.db&&(e.db._sqlitePlugin="undefined"!=typeof sqlitePlugin)),e}function He(t,e,n,r,i){function o(){++u===s.length&&i&&i()}function a(t,i){var a=t._attachments[i],s={binary:e.binary,ctx:r};n._getAttachment(t._id,i,a,s,function(e,n){t._attachments[i]=br.extend(d(a,["digest","content_type"]),{data:n}),o()})}var s=Object.keys(t._attachments||{});if(!s.length)return i&&i();var u=0;s.forEach(function(n){e.attachments&&e.include_docs?a(t,n):(t._attachments[n].stub=!0,o())})}function Ye(t,e){function n(){_()&&(window.localStorage["_pouch__websqldb_"+y._name]=!0),e(null,y)}function r(t,e){t.executeSql(Ni),t.executeSql("ALTER TABLE "+Ai+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(Ri),t.executeSql("ALTER TABLE "+ji+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+ji+" (local, id)");var n="SELECT "+ji+".winningseq AS seq, "+ji+".json AS metadata FROM "+Ai+" JOIN "+ji+" ON "+Ai+".seq = "+ji+".winningseq";t.executeSql(n,[],function(t,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var a=n.rows.item(o),s=a.seq,u=JSON.parse(a.metadata);it(u)&&r.push(s),ot(u.id)&&i.push(u.id)}t.executeSql("UPDATE "+ji+"SET local = 1 WHERE id IN "+Ce(i.length),i,function(){t.executeSql("UPDATE "+Ai+" SET deleted = 1 WHERE seq IN "+Ce(r.length),r,e)})})})})}function i(t,e){var n="CREATE TABLE IF NOT EXISTS "+Di+" (id UNIQUE, rev, json)";t.executeSql(n,[],function(){var n="SELECT "+ji+".id AS id, "+Ai+".json AS data FROM "+Ai+" JOIN "+ji+" ON "+Ai+".seq = "+ji+".winningseq WHERE local = 1";t.executeSql(n,[],function(t,n){function r(){if(!i.length)return e(t);var n=i.shift(),o=JSON.parse(n.data)._rev;t.executeSql("INSERT INTO "+Di+" (id, rev, json) VALUES (?,?,?)",[n.id,o,n.data],function(t){t.executeSql("DELETE FROM "+ji+" WHERE id=?",[n.id],function(t){t.executeSql("DELETE FROM "+Ai+" WHERE seq=?",[n.seq],function(){r()})})})}for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o));r()})})}function o(t,e){function n(n){function r(){if(!n.length)return e(t);var i=n.shift(),o=Oe(i.hex,g),a=o.lastIndexOf("::"),s=o.substring(0,a),u=o.substring(a+2),c="UPDATE "+Ai+" SET doc_id=?, rev=? WHERE doc_id_rev=?";t.executeSql(c,[s,u,o],function(){r()})}r()}var r="ALTER TABLE "+Ai+" ADD COLUMN doc_id";t.executeSql(r,[],function(t){var e="ALTER TABLE "+Ai+" ADD COLUMN rev";t.executeSql(e,[],function(t){t.executeSql(Pi,[],function(t){var e="SELECT hex(doc_id_rev) as hex FROM "+Ai;t.executeSql(e,[],function(t,e){for(var r=[],i=0;i<e.rows.length;i++)r.push(e.rows.item(i));n(r)})})})})}function a(t,e){function n(t){var n="SELECT COUNT(*) AS cnt FROM "+Ti;t.executeSql(n,[],function(t,n){function r(){var n=Ie(Yi+", "+ji+".id AS id",[ji,Ai],Hi,null,ji+".id ");n+=" LIMIT "+a+" OFFSET "+o,o+=a,t.executeSql(n,[],function(t,n){function i(t,e){var n=o[t]=o[t]||[];n.indexOf(e)===-1&&n.push(e)}if(!n.rows.length)return e(t);for(var o={},a=0;a<n.rows.length;a++)for(var s=n.rows.item(a),u=Me(s.data,s.id,s.rev),c=Object.keys(u._attachments||{}),l=0;l<c.length;l++){var f=u._attachments[c[l]];i(f.digest,s.seq)}var h=[];if(Object.keys(o).forEach(function(t){var e=o[t];e.forEach(function(e){h.push([t,e])})}),!h.length)return r();var d=0;h.forEach(function(e){var n="INSERT INTO "+Ci+" (digest, seq) VALUES (?,?)";t.executeSql(n,e,function(){++d===h.length&&r()})})})}var i=n.rows.item(0).cnt;if(!i)return e(t);var o=0,a=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+Ci+" (digest, seq INTEGER)";t.executeSql(r,[],function(t){t.executeSql(Ui,[],function(t){t.executeSql(Fi,[],n)})})}function s(t,e){var n="ALTER TABLE "+Ti+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";t.executeSql(n,[],e)}function u(t,e){var n="ALTER TABLE "+ji+" ADD COLUMN max_seq INTEGER";t.executeSql(n,[],function(t){var n="UPDATE "+ji+" SET max_seq=(SELECT MAX(seq) FROM "+Ai+" WHERE doc_id=id)";t.executeSql(n,[],function(t){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+ji+" (max_seq)";t.executeSql(n,[],e)})})}function l(t,e){t.executeSql('SELECT HEX("a") AS hex',[],function(t,n){var r=n.rows.item(0).hex;g=2===r.length?"UTF-8":"UTF-16",e()})}function h(){for(;x.length>0;){var t=x.pop();t(null,b)}}function d(t,e){if(0===e){var n="CREATE TABLE IF NOT EXISTS "+Mi+" (dbid, db_version INTEGER)",c="CREATE TABLE IF NOT EXISTS "+Ti+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+Ci+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+ji+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",d="CREATE TABLE IF NOT EXISTS "+Ai+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+Di+" (id UNIQUE, rev, json)";t.executeSql(c),t.executeSql(p),t.executeSql(l,[],function(){t.executeSql(Fi),t.executeSql(Ui)}),t.executeSql(f,[],function(){t.executeSql(Ni),t.executeSql(d,[],function(){t.executeSql(Ri),t.executeSql(Pi),t.executeSql(n,[],function(){var e="INSERT INTO "+Mi+" (db_version, dbid) VALUES (?,?)";b=F();var n=[Oi,b];t.executeSql(e,n,function(){h()})})})})}else{var v=function(){var n=e<Oi;n&&t.executeSql("UPDATE "+Mi+" SET db_version = "+Oi);var r="SELECT dbid FROM "+Mi;t.executeSql(r,[],function(t,e){b=e.rows.item(0).dbid,h()})},m=[r,i,o,a,s,u,v],g=e,_=function(t){m[g-1](t,_),g++};_(t)}}function p(){E.transaction(function(t){l(t,function(){v(t)})},qe(e),n)}function v(t){var e="SELECT sql FROM sqlite_master WHERE tbl_name = "+Mi;t.executeSql(e,[],function(t,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?t.executeSql("SELECT db_version FROM "+Mi,[],function(t,e){var n=e.rows.item(0).db_version;d(t,n)}):t.executeSql("ALTER TABLE "+Mi+" ADD COLUMN db_version INTEGER",[],function(){d(t,1)}):d(t,0);
})}function m(t,e){if(y._docCount!==-1)return e(y._docCount);var n=Ie("COUNT("+ji+".id) AS 'num'",[ji,Ai],Hi,Ai+".deleted=0");t.executeSql(n,[],function(t,n){y._docCount=n.rows.item(0).num,e(y._docCount)})}var g,y=this,b=null,w=Re(t),x=[];y._docCount=-1,y._name=t.name;var k=br.extend({},t,{version:qi,description:t.name,size:w}),S=Ue(k);if(S.error)return qe(e)(S.error);var E=S.db;"function"!=typeof E.readTransaction&&(E.readTransaction=E.transaction),p(),y.type=function(){return"websql"},y._id=f(function(t){t(null,b)}),y._info=function(t){E.readTransaction(function(e){m(e,function(n){var r="SELECT MAX(seq) AS seq FROM "+Ai;e.executeSql(r,[],function(e,r){var i=r.rows.item(0).seq||0;t(null,{doc_count:n,update_seq:i,sqlite_plugin:E._sqlitePlugin,websql_encoding:g})})})},qe(t))},y._bulkDocs=function(e,n,r){Pe(t,e,n,y,E,Li,r)},y._get=function(t,e,n){function r(){n(a,{doc:i,metadata:o,ctx:s})}var i,o,a,s=e.ctx;if(!s)return E.readTransaction(function(r){y._get(t,br.extend({ctx:r},e),n)});var u,c;e.rev?(u=Ie(Yi,[ji,Ai],ji+".id="+Ai+".doc_id",[Ai+".doc_id=?",Ai+".rev=?"]),c=[t,e.rev]):(u=Ie(Yi,[ji,Ai],Hi,ji+".id=?"),c=[t]),s.executeSql(u,c,function(t,n){if(!n.rows.length)return a=O(Nr,"missing"),r();var s=n.rows.item(0);return o=te(s.metadata),s.deleted&&!e.rev?(a=O(Nr,"deleted"),r()):(i=Me(s.data,o.id,s.rev),void r())})},y._allDocs=function(t,e){var n,r=[],i="startkey"in t&&t.startkey,o="endkey"in t&&t.endkey,a="key"in t&&t.key,s="descending"in t&&t.descending,u="limit"in t?t.limit:-1,c="skip"in t?t.skip:0,l=t.inclusive_end!==!1,f=[],h=[];if(a!==!1)h.push(ji+".id = ?"),f.push(a);else if(i!==!1||o!==!1){if(i!==!1&&(h.push(ji+".id "+(s?"<=":">=")+" ?"),f.push(i)),o!==!1){var d=s?">":"<";l&&(d+="="),h.push(ji+".id "+d+" ?"),f.push(o)}a!==!1&&(h.push(ji+".id = ?"),f.push(a))}"ok"!==t.deleted&&h.push(Ai+".deleted = 0"),E.readTransaction(function(e){m(e,function(i){if(n=i,0!==u){var o=Ie(Yi,[ji,Ai],Hi,h,ji+".id "+(s?"DESC":"ASC"));o+=" LIMIT "+u+" OFFSET "+c,e.executeSql(o,f,function(e,n){for(var i=0,o=n.rows.length;i<o;i++){var a=n.rows.item(i),s=te(a.metadata),u=s.id,c=Me(a.data,u,a.rev),l=c._rev,f={id:u,key:u,value:{rev:l}};if(t.include_docs&&(f.doc=c,f.doc._rev=l,t.conflicts&&(f.doc._conflicts=W(s)),He(f.doc,t,y,e)),a.deleted){if("ok"!==t.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}})},qe(e),function(){e(null,{total_rows:n,offset:t.skip,rows:r})})},y._changes=function(t){function e(){var e=ji+".json AS metadata, "+ji+".max_seq AS maxSeq, "+Ai+".json AS winningDoc, "+Ai+".rev AS winningRev ",n=ji+" JOIN "+Ai,u=ji+".id="+Ai+".doc_id AND "+ji+".winningseq="+Ai+".seq",c=["maxSeq > ?"],l=[t.since];t.doc_ids&&(c.push(ji+".id IN "+Ce(t.doc_ids.length)),l=l.concat(t.doc_ids));var f="maxSeq "+(r?"DESC":"ASC"),h=Ie(e,n,u,c,f),d=T(t);t.view||t.filter||(h+=" LIMIT "+i);var p=t.since||0;E.readTransaction(function(e){e.executeSql(h,l,function(e,n){function r(e){return function(){t.onChange(e)}}for(var u=0,c=n.rows.length;u<c;u++){var l=n.rows.item(u),f=te(l.metadata);p=l.maxSeq;var h=Me(l.winningDoc,f.id,l.winningRev),v=t.processChange(h,f,t);v.seq=l.maxSeq;var m=d(v);if("object"==typeof m)return t.complete(m);if(m&&(s++,o&&a.push(v),t.attachments&&t.include_docs?He(h,t,y,e,r(v)):r(v)()),s===i)break}})},qe(t.complete),function(){t.continuous||t.complete(null,{results:a,last_seq:p})})}if(t=c(t),t.continuous){var n=y._name+":"+F();return Li.addListener(y._name,n,y,t),Li.notify(y._name),{cancel:function(){Li.removeListener(y._name,n)}}}var r=t.descending;t.since=t.since&&!r?t.since:0;var i="limit"in t?t.limit:-1;0===i&&(i=1);var o;o="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var a=[],s=0;e()},y._close=function(t){t()},y._getAttachment=function(t,e,n,r,i){var o,a=r.ctx,s=n.digest,u=n.content_type,c="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+Ti+" WHERE digest=?";a.executeSql(c,[s],function(t,e){var n=e.rows.item(0),a=n.escaped?Te(n.body):Oe(n.body,g);o=r.binary?Ct(a,u):fi(a),i(null,o)})},y._getRevisionTree=function(t,e){E.readTransaction(function(n){var r="SELECT json AS metadata FROM "+ji+" WHERE id = ?";n.executeSql(r,[t],function(t,n){if(n.rows.length){var r=te(n.rows.item(0).metadata);e(null,r.rev_tree)}else e(O(Nr))})})},y._doCompaction=function(t,e,n){return e.length?void E.transaction(function(n){var r="SELECT json AS metadata FROM "+ji+" WHERE id = ?";n.executeSql(r,[t],function(n,r){var i=te(r.rows.item(0).metadata);H(i.rev_tree,function(t,n,r,i,o){var a=n+"-"+r;e.indexOf(a)!==-1&&(o.status="missing")});var o="UPDATE "+ji+" SET json = ? WHERE id = ?";n.executeSql(o,[ee(i),t])}),Le(e,t,n)},qe(n),function(){n()}):n()},y._getLocal=function(t,e){E.readTransaction(function(n){var r="SELECT json, rev FROM "+Di+" WHERE id=?";n.executeSql(r,[t],function(n,r){if(r.rows.length){var i=r.rows.item(0),o=Me(i.json,t,i.rev);e(null,o)}else e(O(Nr))})})},y._putLocal=function(t,e,n){function r(t){var r,c;o?(r="UPDATE "+Di+" SET rev=?, json=? WHERE id=? AND rev=?",c=[i,u,a,o]):(r="INSERT INTO "+Di+" (id, rev, json) VALUES (?,?,?)",c=[a,i,u]),t.executeSql(r,c,function(t,r){r.rowsAffected?(s={ok:!0,id:a,rev:i},e.ctx&&n(null,s)):n(O(Fr))},function(){return n(O(Fr)),!1})}"function"==typeof e&&(n=e,e={}),delete t._revisions;var i,o=t._rev,a=t._id;i=o?t._rev="0-"+(parseInt(o.split("-")[1],10)+1):t._rev="0-1";var s,u=De(t);e.ctx?r(e.ctx):E.transaction(r,qe(n),function(){s&&n(null,s)})},y._removeLocal=function(t,e,n){function r(r){var o="DELETE FROM "+Di+" WHERE id=? AND rev=?",a=[t._id,t._rev];r.executeSql(o,a,function(r,o){return o.rowsAffected?(i={ok:!0,id:t._id,rev:"0-0"},void(e.ctx&&n(null,i))):n(O(Nr))})}"function"==typeof e&&(n=e,e={});var i;e.ctx?r(e.ctx):E.transaction(r,qe(n),function(){i&&n(null,i)})},y._destroy=function(t,e){Li.removeAllListeners(y._name),E.transaction(function(t){var e=[ji,Ai,Ti,Mi,Di,Ci];e.forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},qe(e),function(){_()&&(delete window.localStorage["_pouch__websqldb_"+y._name],delete window.localStorage[y._name]),e(null,{ok:!0})})}}function Be(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(t){return!1}}function We(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var t=_(),e="_pouch__websqldb_valid_"+navigator.userAgent;if(t&&localStorage[e])return"1"===localStorage[e];var n=Be();return t&&(localStorage[e]=n?"1":"0"),n}function ze(){return"undefined"!=typeof openDatabase&&("undefined"!=typeof sqlitePlugin||We())}function $e(){return"undefined"!=typeof cordova||ze()}function Ve(t){return function(e,n,r,i){if("undefined"!=typeof sqlitePlugin){var o=br.extend({},t,{name:e,version:n,description:r,size:i});return sqlitePlugin.openDatabase(o)}return openDatabase(e,n,r,i)}}function Ge(t,e){var n=Ve(t),r=br.extend({websql:n},t);"undefined"==typeof cordova||ze()||w("error","PouchDB error: you must install a SQLite plugin in order for PouchDB to work on this platform. Options:\n - https://github.com/nolanlawson/cordova-plugin-sqlite-2\n - https://github.com/litehelpers/Cordova-sqlite-storage\n - https://github.com/Microsoft/cordova-plugin-websql"),Ye.call(this,r,e)}function Je(t){t.adapter("websql",Ge,!0)}function Ke(){for(var t={},e=new Cr(function(e,n){t.resolve=e,t.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.promise=e,Cr.resolve().then(function(){return fetch.apply(null,n)}).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}function Ze(t,e){var n,r,i,o=new Headers,a={method:t.method,credentials:"include",headers:o};return t.json&&(o.set("Accept","application/json"),o.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.body instanceof Blob?Nt(t.body,function(t){a.body=t}):t.body&&t.processData&&"string"!=typeof t.body?a.body=JSON.stringify(t.body):"body"in t?a.body=t.body:a.body=null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&o.set(e,t.headers[e])}),n=Ke(t.url,a),t.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),n.promise.then(function(e){return i={statusCode:e.status},t.timeout>0&&clearTimeout(r),i.statusCode>=200&&i.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(t){i.statusCode>=200&&i.statusCode<300?e(null,i,t):e(t,i)}).catch(function(t){e(t,i)}),{abort:n.reject}}function Xe(t,e){var n,r,i=!1,o=function(){n.abort()},a=function(){i=!0,n.abort()};n=t.xhr?new t.xhr:new XMLHttpRequest;try{n.open(t.method,t.url)}catch(t){return e(new Error(t.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in t)||t.withCredentials,"GET"===t.method?delete t.headers["Content-Type"]:t.json&&(t.headers.Accept="application/json",t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.body&&t.processData&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body))),t.binary&&(n.responseType="arraybuffer"),"body"in t||(t.body=null);for(var s in t.headers)t.headers.hasOwnProperty(s)&&n.setRequestHeader(s,t.headers[s]);return t.timeout>0&&(r=setTimeout(a,t.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(a,t.timeout))},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var o;o=t.binary?Dt([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,e(null,r,o)}else{var a={};if(i)a=new Error("ETIMEDOUT"),a.code="ETIMEDOUT";else try{a=JSON.parse(n.response)}catch(t){}a.status=n.status,e(a)}}},t.body&&t.body instanceof Blob?Nt(t.body,function(t){n.send(t)}):n.send(t.body),{abort:o}}function Qe(){try{return new XMLHttpRequest,!0}catch(t){return!1}}function tn(t,e){return Bi||t.xhr?Xe(t,e):Ze(t,e)}function en(){return""}function nn(t,e){function n(e,n,r){if(!t.binary&&t.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){return r(t)}Array.isArray(e)&&(e=e.map(function(t){return t.error||t.missing?j(t):t})),t.binary&&Wi(e,n),r(null,e,n)}t=c(t);var r={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return t=br.extend(r,t),t.json&&(t.binary||(t.headers.Accept="application/json"),t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json"),t.binary&&(t.encoding=null,t.json=!1),t.processData||(t.json=!1),tn(t,function(r,i,o){if(r)return e(j(r));var a,s=i.headers&&i.headers["content-type"],u=o||en();if(!t.binary&&(t.json||!t.processData)&&"object"!=typeof u&&(/json/.test(s)||/^[\s]*\{/.test(u)&&/\}[\s]*$/.test(u)))try{u=JSON.parse(u.toString())}catch(t){}i.statusCode>=200&&i.statusCode<300?n(u,i,e):(a=j(u),a.status=i.statusCode,e(a))})}function rn(t,e){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,i=n.indexOf("msie")!==-1,o=n.indexOf("edge")!==-1,a=r||(i||o)&&"GET"===t.method,s=!("cache"in t)||t.cache,u=/^blob:/.test(t.url);if(!u&&(a||!s)){var c=t.url.indexOf("?")!==-1;t.url+=(c?"&":"?")+"_nonce="+Date.now()}return nn(t,e)}function on(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];n.data=It(n.data,n.content_type)})}function an(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function sn(t){return t._attachments&&Object.keys(t._attachments)?Cr.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return new Cr(function(t){Pt(n.data,t)}).then(function(t){n.data=t})})):Cr.resolve()}function un(t){var e=q(t);(e.user||e.password)&&(e.auth={username:e.user,password:e.password});var n=e.path.replace(/(^\/|\/$)/g,"").split("/");return e.db=n.pop(),e.db.indexOf("%")===-1&&(e.db=encodeURIComponent(e.db)),e.path=n.join("/"),e}function cn(t,e){return ln(t,t.db+"/"+e)}function ln(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function fn(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function hn(t,e){function n(t,e,n){var r=t.ajax||{},i=br.extend(c(p),r,e);return Ji(i.method+" "+i.url),s._ajax(i,n)}function r(t,e){return new Cr(function(r,i){n(t,e,function(t,e){return t?i(t):void r(e)})})}function i(t,e){return h(t,Er(function(t){o().then(function(){return e.apply(this,t)}).catch(function(e){var n=t.pop();n(e)})}))}function o(){if(t.skipSetup||t.skip_setup)return Cr.resolve();if(y)return y;var e={method:"GET",url:f};return y=r({},e).catch(function(t){return t&&t.status&&404===t.status?(S(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:f})):Cr.reject(t)}).catch(function(t){return!(!t||!t.status||412!==t.status)||Cr.reject(t)}),y.catch(function(){y=null}),y}function a(t){return t.split("/").map(encodeURIComponent).join("/")}var s=this,u=un;t.getHost&&(u=t.getHost);var l=u(t.name,t),f=cn(l,"");t=c(t);var p=t.ajax||{};if(s.getUrl=function(){return f},s.getHeaders=function(){return p.headers||{}},t.auth||l.auth){var v=t.auth||l.auth,g=v.username+":"+v.password,_=fi(unescape(encodeURIComponent(g)));p.headers=p.headers||{},p.headers.Authorization="Basic "+_}s._ajax=rn;var y;setTimeout(function(){e(null,s)}),s.type=function(){return"http"},s.id=i("id",function(t){n({},{method:"GET",url:ln(l,"")},function(e,n){var r=n&&n.uuid?n.uuid+l.db:cn(l,"");t(null,r)})}),s.request=i("request",function(t,e){t.url=cn(l,t.url),n({},t,e)}),s.compact=i("compact",function(t,e){"function"==typeof t&&(e=t,t={}),t=c(t),n(t,{url:cn(l,"_compact"),method:"POST"},function(){function n(){s.info(function(r,i){i&&!i.compact_running?e(null,{ok:!0}):setTimeout(n,t.interval||200)})}n()})}),s.bulkGet=h("bulkGet",function(t,e){function r(e){var r={};t.revs&&(r.revs=!0),t.attachments&&(r.attachments=!0),n({},{url:cn(l,"_bulk_get"+fn(r)),method:"POST",body:{docs:t.docs}},e)}function i(){function n(t){return function(n,r){s[t]=r.results,++a===i&&e(null,{results:D(s)})}}for(var r=$i,i=Math.ceil(t.docs.length/r),a=0,s=new Array(i),u=0;u<i;u++){var c=d(t,["revs","attachments"]);c.ajax=p,c.docs=t.docs.slice(u*r,Math.min(t.docs.length,(u+1)*r)),m(o,c,n(u))}}var o=this,a=ln(l,""),s=Vi[a];"boolean"!=typeof s?r(function(t,n){if(t){var r=Math.floor(t.status/100);4===r||5===r?(Vi[a]=!1,S(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):e(t)}else Vi[a]=!0,e(null,n)}):s?r(e):i()}),s._info=function(t){o().then(function(){n({},{method:"GET",url:cn(l,"")},function(e,n){return e?t(e):(n.host=cn(l,""),void t(null,n))})}).catch(t)},s.get=i("get",function(t,e,n){function i(t){function n(){if(!o.length)return null;var n=o.pop(),s=i[n],u=an(t._id)+"/"+a(n)+"?rev="+t._rev;return r(e,{method:"GET",url:cn(l,u),binary:!0}).then(function(t){return e.binary?t:new Cr(function(e){Pt(t,e)})}).then(function(t){delete s.stub,delete s.length,s.data=t})}var i=t._attachments,o=i&&Object.keys(i);if(i&&o.length)return new Dr(n,5,{promise:Cr}).start()}function o(t){return Array.isArray(t)?Cr.all(t.map(function(t){if(t.ok)return i(t.ok)})):i(t)}"function"==typeof e&&(n=e,e={}),e=c(e);var s={};e.revs&&(s.revs=!0),e.revs_info&&(s.revs_info=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),s.open_revs=e.open_revs),e.rev&&(s.rev=e.rev),e.conflicts&&(s.conflicts=e.conflicts),t=an(t);var u={method:"GET",url:cn(l,t+fn(s))};r(e,u).then(function(t){return Cr.resolve().then(function(){if(e.attachments)return o(t)}).then(function(){n(null,t)})}).catch(n)}),s.remove=i("remove",function(t,e,r,i){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof r&&(i=r,r={})):(o=t,"function"==typeof e?(i=e,r={}):(i=r,r=e));var a=o._rev||r.rev;n(r,{method:"DELETE",url:cn(l,an(o._id))+"?rev="+a},i)}),s.getAttachment=i("getAttachment",function(t,e,r,i){"function"==typeof r&&(i=r,r={});var o=r.rev?"?rev="+r.rev:"",s=cn(l,an(t))+"/"+a(e)+o;n(r,{method:"GET",url:s,binary:!0},i)}),s.removeAttachment=i("removeAttachment",function(t,e,r,i){var o=cn(l,an(t)+"/"+a(e))+"?rev="+r;n({},{method:"DELETE",url:o},i)}),s.putAttachment=i("putAttachment",function(t,e,r,i,o,s){"function"==typeof o&&(s=o,o=i,i=r,r=null);var u=an(t)+"/"+a(e),c=cn(l,u);if(r&&(c+="?rev="+r),"string"==typeof i){var f;try{f=li(i)}catch(t){return s(O(zr,"Attachment is not a valid base64 string"))}i=f?Ct(f,o):""}var h={headers:{"Content-Type":o},method:"PUT",url:c,processData:!1,body:i,timeout:p.timeout||6e4};n({},h,s)}),s._bulkDocs=function(t,e,r){t.new_edits=e.new_edits,o().then(function(){return Cr.all(t.docs.map(sn))}).then(function(){n(e,{method:"POST",url:cn(l,"_bulk_docs"),body:t},function(t,e){return t?r(t):(e.forEach(function(t){t.ok=!0}),void r(null,e))})}).catch(r)},s.allDocs=i("allDocs",function(t,e){"function"==typeof t&&(e=t,t={}),t=c(t);var n,i={},o="GET";t.conflicts&&(i.conflicts=!0),t.descending&&(i.descending=!0),t.include_docs&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.key&&(i.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(i.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(i.endkey=JSON.stringify(t.endkey)),"undefined"!=typeof t.inclusive_end&&(i.inclusive_end=!!t.inclusive_end),"undefined"!=typeof t.limit&&(i.limit=t.limit),"undefined"!=typeof t.skip&&(i.skip=t.skip);var a=fn(i);if("undefined"!=typeof t.keys){var s="keys="+encodeURIComponent(JSON.stringify(t.keys));s.length+a.length+1<=Gi?a+="&"+s:(o="POST",n={keys:t.keys})}r(t,{method:o,url:cn(l,"_all_docs"+a),body:n}).then(function(n){t.include_docs&&t.attachments&&t.binary&&n.rows.forEach(on),e(null,n)}).catch(e)}),s._changes=function(t){var e="batch_size"in t?t.batch_size:zi;t=c(t),t.timeout="timeout"in t?t.timeout:"timeout"in p?p.timeout:3e4;var r,i=t.timeout?{timeout:t.timeout-5e3}:{},a="undefined"!=typeof t.limit&&t.limit;r="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var s=a;if(t.style&&(i.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.continuous&&(i.feed="longpoll"),t.conflicts&&(i.conflicts=!0),t.descending&&(i.descending=!0),"heartbeat"in t?t.heartbeat&&(i.heartbeat=t.heartbeat):i.heartbeat=1e4,t.filter&&"string"==typeof t.filter&&(i.filter=t.filter),t.view&&"string"==typeof t.view&&(i.filter="_view",i.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var u in t.query_params)t.query_params.hasOwnProperty(u)&&(i[u]=t.query_params[u]);var f,h="GET";if(t.doc_ids){i.filter="_doc_ids";var d=JSON.stringify(t.doc_ids);d.length<Gi?i.doc_ids=d:(h="POST",f={doc_ids:t.doc_ids})}var v,m,g=function(r,u){if(!t.aborted){i.since=r,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),t.descending?a&&(i.limit=s):i.limit=!a||s>e?e:s;var c={method:h,url:cn(l,"_changes"+fn(i)),timeout:t.timeout,body:f};m=r,t.aborted||o().then(function(){v=n(t,c,u)}).catch(u)}},_={results:[]},y=function(n,i){if(!t.aborted){var o=0;if(i&&i.results){o=i.results.length,_.last_seq=i.last_seq;var u={};u.query=t.query_params,i.results=i.results.filter(function(e){s--;var n=T(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&on(e),r&&_.results.push(e),t.onChange(e)),n})}else if(n)return t.aborted=!0,void t.complete(n);i&&i.last_seq&&(m=i.last_seq);var c=a&&s<=0||i&&o<e||t.descending;(!t.continuous||a&&s<=0)&&c?t.complete(null,_):setTimeout(function(){g(m,y)},0)}};return g(t.since||0,y),{cancel:function(){t.aborted=!0,v&&v.abort()}}},s.revsDiff=i("revsDiff",function(t,e,r){"function"==typeof e&&(r=e,e={}),n(e,{method:"POST",url:cn(l,"_revs_diff"),body:t},r)}),s._close=function(t){t()},s._destroy=function(t,e){n(t,{url:cn(l,""),method:"DELETE"},function(t,n){return t&&t.status&&404!==t.status?e(t):void e(null,n)})}}function dn(t){t.adapter("http",hn,!1),t.adapter("https",hn,!1)}function pn(){this.promise=new Cr(function(t){t()})}function vn(t){var e,n=t.db,r=t.viewName,i=t.map,o=t.reduce,a=t.temporary,s=i.toString()+(o&&o.toString())+"undefined";if(!a&&(e=n._cachedViews=n._cachedViews||{},e[s]))return e[s];var u=n.info().then(function(t){function u(t){t.views=t.views||{};var e=r;e.indexOf("/")===-1&&(e=r+"/"+r);var n=t.views[e]=t.views[e]||{};if(!n[c])return n[c]=!0,t}var c=t.db_name+"-mrview-"+(a?"temp":Wt(s));return R(n,"_local/mrviews",u).then(function(){return n.registerDependentDatabase(c).then(function(t){var r=t.db;r.auto_compaction=!0;var a={name:c,db:r,sourceDB:n,adapter:n.adapter,mapFun:i,reduceFun:o};return a.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return a.seq=t?t.seq:0,e&&a.db.once("destroyed",function(){delete e[s]}),a})})})});return e&&(e[s]=u),u}function mn(t,e,n,r,i,o){return jr("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:n,log:r,isArray:i,toJSON:o})}function gn(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function _n(t){return 1===t.length&&/^1-/.test(t[0].rev)}function yn(t,e){try{t.emit("error",e)}catch(t){w("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),w("error",e)}}function bn(t,e,n){try{return{output:e.apply(null,n)}}catch(e){return yn(t,e),{error:e}}}function wn(t,e){var n=Mr.collate(t.key,e.key);return 0!==n?n:Mr.collate(t.value,e.value)}function xn(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function kn(t){var e=t.value,n=e&&"object"==typeof e&&e._id||t.id;return n}function Sn(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=It(n.data,n.content_type)})})}function En(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&Sn(e),e}}function On(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new Kn(e)}function jn(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];if("number"!=typeof i){if(!Array.isArray(i))throw On("_sum");e="number"==typeof e?[e]:e;for(var o=0,a=i.length;o<a;o++){var s=i[o];if("number"!=typeof s)throw On("_sum");"undefined"==typeof e[o]?e.push(s):e[o]+=s}}else"number"==typeof e?e+=i:e[0]+=i}return e}function An(t,e,n,r){var i=e[t];"undefined"!=typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(t+"="+i))}function Tn(t){if("undefined"!=typeof t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function Dn(t){return t.group_level=Tn(t.group_level),t.limit=Tn(t.limit),t.skip=Tn(t.skip),t}function Mn(t){if(t){if("number"!=typeof t)return new Gn('Invalid value for integer: "'+t+'"');if(t<0)return new Gn('Invalid value for positive integer: "'+t+'"')}}function Cn(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if("undefined"!=typeof t[n]&&"undefined"!=typeof t[r]&&Mr.collate(t[n],t[r])>0)throw new Gn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&t.reduce!==!1){if(t.include_docs)throw new Gn("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new Gn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=Mn(t[e]);if(n)throw n})}function In(t,e,n){var r,i=[],o="GET";if(An("reduce",n,i),An("include_docs",n,i),An("attachments",n,i),An("limit",n,i),An("descending",n,i),An("group",n,i),An("group_level",n,i),An("skip",n,i),An("stale",n,i),An("conflicts",n,i),An("startkey",n,i,!0),An("start_key",n,i,!0),An("endkey",n,i,!0),An("end_key",n,i,!0),An("inclusive_end",n,i),An("key",n,i,!0),i=i.join("&"),i=""===i?"":"?"+i,"undefined"!=typeof n.keys){var a=2e3,s="keys="+encodeURIComponent(JSON.stringify(n.keys));s.length+i.length+1<=a?i+=("?"===i[0]?"&":"?")+s:(o="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var u=gn(e);return t.request({method:o,url:"_design/"+u[0]+"/_view/"+u[1]+i,body:r}).then(En(n))}return r=r||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+i,body:r}).then(En(n))}function Ln(t,e,n){return new Cr(function(r,i){t._query(e,n,function(t,e){return t?i(t):void r(e)})})}function qn(t){return new Cr(function(e,n){t._viewCleanup(function(t,r){return t?n(t):void e(r)})})}function Rn(t){return function(e){if(404===e.status)return t;throw e}}function Pn(t,e,n){function r(){return _n(l)?Cr.resolve(s):e.db.get(a).catch(Rn(s))}function i(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):Cr.resolve({rows:[]})}function o(t,e){for(var n=[],r={},i=0,o=e.rows.length;i<o;i++){var a=e.rows[i],s=a.doc;if(s&&(n.push(s),r[s._id]=!0,s._deleted=!c[s._id],!s._deleted)){var u=c[s._id];"value"in u&&(s.value=u.value)}}var l=Object.keys(c);return l.forEach(function(t){if(!r[t]){var e={_id:t},i=c[t];"value"in i&&(e.value=i.value),n.push(e)}}),t.keys=to(l.concat(t.keys)),n.push(t),n}var a="_local/doc_"+t,s={_id:a,keys:[]},u=n[t],c=u.indexableKeysToKeyValues,l=u.changes;return r().then(function(t){return i(t).then(function(e){return o(t,e)})})}function Nn(t,e,n){var r="_local/lastSeq";return t.db.get(r).catch(Rn({_id:r,seq:0})).then(function(r){var i=Object.keys(e);return Cr.all(i.map(function(n){return Pn(n,t,e)})).then(function(e){var i=D(e);return r.seq=n,i.push(r),t.db.bulkDocs({docs:i})})})}function Fn(t){var e="string"==typeof t?t:t.name,n=eo[e];return n||(n=eo[e]=new pn),n}function Un(t){return Qi(Fn(t),function(){return Hn(t)})()}function Hn(t){function e(t,e){var n={id:i._id,key:Mr.normalizeKey(t)};"undefined"!=typeof e&&null!==e&&(n.value=Mr.normalizeKey(e)),r.push(n)}function n(e,n){return function(){return Nn(t,e,n)}}var r,i,o;if("function"==typeof t.mapFun&&2===t.mapFun.length){var a=t.mapFun;o=function(t){return a(t,e)}}else o=mn(t.mapFun.toString(),e,jn,io,Array.isArray,JSON.parse);var s=t.seq||0,u=new pn;return new Cr(function(e,a){function c(){u.finish().then(function(){t.seq=s,e()})}function l(){function e(t){a(t)}t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:ro}).on("complete",function(e){var a=e.results;if(!a.length)return c();for(var f={},h=0,d=a.length;h<d;h++){var p=a[h];if("_"!==p.doc._id[0]){r=[],i=p.doc,i._deleted||bn(t.sourceDB,o,[i]),r.sort(wn);for(var v,m={},g=0,_=r.length;g<_;g++){var y=r[g],b=[y.key,y.id];0===Mr.collate(y.key,v)&&b.push(g);var w=Mr.toIndexableString(b);m[w]=y,v=y.key}f[p.doc._id]={indexableKeysToKeyValues:m,changes:p.changes}}s=p.seq}return u.add(n(f,s)),a.length<ro?c():l()}).on("error",e)}l()})}function Yn(t,e,n){0===n.group_level&&delete n.group_level;var r,i=n.group||n.group_level;r=oo[t.reduceFun]?oo[t.reduceFun]:mn(t.reduceFun.toString(),null,jn,io,Array.isArray,JSON.parse);var o=[],a=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=o[o.length-1],n=i?t.key:null;return i&&Array.isArray(n)&&(n=n.slice(0,a)),e&&0===Mr.collate(e.groupKey,n)?(e.keys.push([t.key,t.id]),void e.values.push(t.value)):void o.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var s=0,u=o.length;s<u;s++){var c=o[s],l=bn(t.sourceDB,r,[c.keys,c.values,!1]);if(l.error&&l.error instanceof Kn)throw l.error;e.push({value:l.error?null:l.output,key:c.groupKey})}return{rows:xn(e,n.limit,n.skip)}}function Bn(t,e){return Qi(Fn(t),function(){return Wn(t,e)})()}function Wn(t,e){function n(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return i=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=Mr.parseIndexableString(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function r(n){var r;if(r=o?Yn(t,n,e):{total_rows:i,offset:a,rows:n},e.include_docs){var s=to(n.map(kn));return t.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e={};return t.rows.forEach(function(t){t.doc&&(e["$"+t.id]=t.doc)}),n.forEach(function(t){var n=kn(t),r=e["$"+n];r&&(t.doc=r)}),r})}return r}var i,o=t.reduceFun&&e.reduce!==!1,a=e.skip||0;if("undefined"==typeof e.keys||e.keys.length||(e.limit=0,delete e.keys),"undefined"!=typeof e.keys){var s=e.keys,u=s.map(function(t){var e={startkey:Mr.toIndexableString([t]),endkey:Mr.toIndexableString([t,{}])};return n(e)});return Cr.all(u).then(D).then(r)}var c={descending:e.descending};if(e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"undefined"!=typeof e.startkey&&(c.startkey=e.descending?Mr.toIndexableString([e.startkey,{}]):Mr.toIndexableString([e.startkey])),"undefined"!=typeof e.endkey){var l=e.inclusive_end!==!1;e.descending&&(l=!l),c.endkey=Mr.toIndexableString(l?[e.endkey,{}]:[e.endkey])}if("undefined"!=typeof e.key){var f=Mr.toIndexableString([e.key]),h=Mr.toIndexableString([e.key,{}]);c.descending?(c.endkey=f,c.startkey=h):(c.startkey=f,c.endkey=h)}return o||("number"==typeof e.limit&&(c.limit=e.limit),c.skip=a),n(c).then(r)}function zn(t){return t.request({method:"POST",url:"_view_cleanup"})}function $n(t){return t.get("_local/mrviews").then(function(e){var n={};Object.keys(e.views).forEach(function(t){var e=gn(t),r="_design/"+e[0],i=e[1];n[r]=n[r]||{},n[r][i]=!0});var r={keys:Object.keys(n),include_docs:!0};return t.allDocs(r).then(function(r){var i={};r.rows.forEach(function(t){var r=t.key.substring(8);Object.keys(n[t.key]).forEach(function(n){var o=r+"/"+n;e.views[o]||(o=n);var a=Object.keys(e.views[o]),s=t.doc&&t.doc.views&&t.doc.views[n];a.forEach(function(t){i[t]=i[t]||s})})});var o=Object.keys(i).filter(function(t){return!i[t]}),a=o.map(function(e){return Qi(Fn(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Cr.all(a).then(function(){return{ok:!0}})})},Rn({ok:!0}))}function Vn(t,e,r){if("http"===t.type())return In(t,e,r);if("function"==typeof t._query)return Ln(t,e,r);if("string"!=typeof e){Cn(r,e);var i={db:t,viewName:"temp_view/temp_view",map:e.map,reduce:e.reduce,temporary:!0};return no.add(function(){return vn(i).then(function(t){function e(){return t.db.destroy()}return Xi(Un(t).then(function(){return Bn(t,r)}),e)})}),no.finish()}var o=e,a=gn(o),s=a[0],u=a[1];return t.get("_design/"+s).then(function(e){var i=e.views&&e.views[u];if(!i||"string"!=typeof i.map)throw new Jn("ddoc "+s+" has no view named "+u);Cn(r,i);var a={db:t,viewName:o,map:i.map,reduce:i.reduce};return vn(a).then(function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&n.nextTick(function(){Un(t)}),Bn(t,r)):Un(t).then(function(){return Bn(t,r)})})})}function Gn(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Gn)}catch(t){}}function Jn(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Jn)}catch(t){}}function Kn(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Kn)}catch(t){}}function Zn(t){return/^1-/.test(t)}function Xn(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}function Qn(t,e){var n=Object.keys(e._attachments);return Cr.all(n.map(function(n){return t.getAttachment(e._id,n,{rev:e._rev})}))}function tr(t,e,n){var r="http"===e.type()&&"http"!==t.type(),i=Object.keys(n._attachments);return r?t.get(n._id).then(function(r){return Cr.all(i.map(function(i){return Xn(r,n,i)?e.getAttachment(n._id,i):t.getAttachment(r._id,i)}))}).catch(function(t){if(404!==t.status)throw t;return Qn(e,n)}):Qn(e,n)}function er(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n].missing;r.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0}}function nr(t,e,n,r){function i(){var i=er(n);if(i.docs.length)return t.bulkGet(i).then(function(n){if(r.cancelled)throw new Error("cancelled");
return Cr.all(n.results.map(function(n){return Cr.all(n.docs.map(function(n){var r=n.ok;return n.error&&(f=!1),r&&r._attachments?tr(e,t,r).then(function(t){var e=Object.keys(r._attachments);return t.forEach(function(t,n){var i=r._attachments[e[n]];delete i.stub,delete i.length,i.data=t}),r}):r}))})).then(function(t){l=l.concat(D(t).filter(Boolean))})})}function o(t){return t._attachments&&Object.keys(t._attachments).length>0}function a(e){return t.allDocs({keys:e,include_docs:!0}).then(function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){!t.deleted&&t.doc&&Zn(t.value.rev)&&!o(t.doc)&&(l.push(t.doc),delete n[t.id])})})}function s(){var t=Object.keys(n).filter(function(t){var e=n[t].missing;return 1===e.length&&Zn(e[0])});if(t.length>0)return a(t)}function u(){return{ok:f,docs:l}}n=c(n);var l=[],f=!0;return Cr.resolve().then(s).then(i).then(u)}function rr(t,e,n,r,i){return t.get(e).catch(function(n){if(404===n.status)return"http"===t.type()&&S(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:lo,version:co};throw n}).then(function(o){if(!i.cancelled)return o.history=(o.history||[]).filter(function(t){return t.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,fo),o.version=co,o.replicator=lo,o.session_id=r,o.last_seq=n,t.put(o).catch(function(o){if(409===o.status)return rr(t,e,n,r,i);throw o})})}function ir(t,e,n,r){this.src=t,this.target=e,this.id=n,this.returnValue=r}function or(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:ar(t.history,e.history)}function ar(t,e){var n=t[0],r=t.slice(1),i=e[0],o=e.slice(1);if(!n||0===e.length)return{last_seq:ho,history:[]};var a=n.session_id;if(sr(a,e))return{last_seq:n.last_seq,history:t};var s=i.session_id;return sr(s,r)?{last_seq:i.last_seq,history:o}:ar(r,o)}function sr(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||sr(t,r))}function ur(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function cr(t,e,n,r){if(t.retry===!1)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=k),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var i=function(){t.current_back_off=vo},o=function(){e.removeListener("active",i)};e.once("paused",o),e.once("active",i)}t.current_back_off=t.current_back_off||vo,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}function lr(t){return Object.keys(t).sort(Mr.collate).reduce(function(e,n){return e[n]=t[n],e},{})}function fr(t,e,n){var r=n.doc_ids?n.doc_ids.sort(Mr.collate):"",i=n.filter?n.filter.toString():"",o="",a="";return n.filter&&n.query_params&&(o=JSON.stringify(lr(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Cr.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+i+a+o+r;return new Cr(function(t){Bt(e,t)})}).then(function(t){return t=t.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+t})}function hr(t,e,n,r,i){function o(){return k?Cr.resolve():fr(t,e,n).then(function(n){x=n,k=new ir(t,e,x,r)})}function a(){if(P=[],0!==w.docs.length){var t=w.docs;return e.bulkDocs({docs:t,new_edits:!1}).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");var n=[],o={};e.forEach(function(t){t.error&&(i.doc_write_failures++,n.push(t),o[t.id]=t)}),R=R.concat(n),i.docs_written+=w.docs.length-n.length;var a=n.filter(function(t){return"unauthorized"!==t.name&&"forbidden"!==t.name});if(t.forEach(function(t){var e=o[t._id];e?r.emit("denied",c(e)):P.push(t)}),a.length>0){var s=new Error("bulkDocs error");throw s.other_errors=n,d("target.bulkDocs failed to write docs",s),new Error("bulkWrite partial failure")}},function(e){throw i.doc_write_failures+=t.length,e})}}function s(){if(w.error)throw new Error("There was a problem getting docs.");i.last_seq=D=w.seq;var t=c(i);return P.length&&(t.docs=P,r.emit("change",t)),O=!0,k.writeCheckpoint(w.seq,N).then(function(){if(O=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,_()}).catch(b)}function u(){var t={};return w.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=t})}function l(){return nr(t,e,w.diffs,r).then(function(t){w.error=!t.ok,t.docs.forEach(function(t){delete w.diffs[t._id],i.docs_read++,w.docs.push(t)})})}function f(){if(!r.cancelled&&!w){if(0===S.length)return void h(!0);w=S.shift(),u().then(l).then(a).then(s).then(f).catch(function(t){d("batch processing terminated with error",t)})}}function h(t){return 0===E.changes.length?void(0!==S.length||w||((M&&U.live||j)&&(r.state="pending",r.emit("paused")),j&&p())):void((t||j||E.changes.length>=C)&&(S.push(E),E={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f()))}function d(t,e){A||(e.message||(e.message=t),i.ok=!1,i.status="aborting",i.errors.push(e),R=R.concat(e),S=[],E={seq:0,changes:[],docs:[]},p())}function p(){if(!(A||r.cancelled&&(i.status="cancelled",O))){i.status=i.status||"complete",i.end_time=new Date,i.last_seq=D,A=!0;var o=R.filter(function(t){return"unauthorized"!==t.name&&"forbidden"!==t.name});if(o.length>0){var a=R.pop();R.length>0&&(a.other_errors=R),a.result=i,cr(n,r,a,function(){hr(t,e,n,r)})}else i.errors=R,r.emit("complete",i),r.removeAllListeners()}}function v(t){if(r.cancelled)return p();var e=T(n)(t);e&&(E.seq=t.seq,E.changes.push(t),h(0===S.length&&U.live))}function m(t){if(L=!1,r.cancelled)return p();if(t.results.length>0)U.since=t.last_seq,_(),h(!0);else{var e=function(){M?(U.live=!0,_()):j=!0,h(!0)};w||0!==t.results.length?e():(O=!0,k.writeCheckpoint(t.last_seq,N).then(function(){O=!1,i.last_seq=D=t.last_seq,e()}).catch(b))}}function g(t){return L=!1,r.cancelled?p():void d("changes rejected",t)}function _(){function e(){o.cancel()}function i(){r.removeListener("cancel",e)}if(!L&&!j&&S.length<I){L=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",e);var o=t.changes(U).on("change",v);o.then(i,i),o.then(m).catch(g),n.retry&&(r._changes=o,r._abortChanges=e)}}function y(){o().then(function(){return r.cancelled?void p():k.getCheckpoint().then(function(t){D=t,U={since:D,limit:C,batch_size:C,style:"all_docs",doc_ids:q,return_docs:!0},n.filter&&("string"!=typeof n.filter?U.include_docs=!0:U.filter=n.filter),"heartbeat"in n&&(U.heartbeat=n.heartbeat),"timeout"in n&&(U.timeout=n.timeout),n.query_params&&(U.query_params=n.query_params),n.view&&(U.view=n.view),_()})}).catch(function(t){d("getCheckpoint rejected with ",t)})}function b(t){throw O=!1,d("writeCheckpoint completed with error",t),t}var w,x,k,S=[],E={seq:0,changes:[],docs:[]},O=!1,j=!1,A=!1,D=0,M=n.continuous||n.live||!1,C=n.batch_size||100,I=n.batches_limit||10,L=!1,q=n.doc_ids,R=[],P=[],N=F();i=i||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var U={};return r.ready(t,e),r.cancelled?void p():(r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(t){n.complete(null,t)})),r._addedListeners=!0),void("undefined"==typeof n.since?y():o().then(function(){return O=!0,k.writeCheckpoint(n.since,N)}).then(function(){return O=!1,r.cancelled?void p():(D=n.since,void y())}).catch(b)))}function dr(){Or.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Cr(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function pr(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function vr(t,e,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw O(Gr,"`doc_ids` filter parameter is not a list.");n.complete=r,n=c(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new dr(n),o=pr(t,n),a=pr(e,n);return hr(o,a,n,i),i}function mr(t,e,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=c(n),n.PouchConstructor=n.PouchConstructor||this,t=pr(t,n),e=pr(e,n),new gr(t,e,n,r)}function gr(t,e,n,r){function i(t){d.emit("change",{direction:"pull",change:t})}function o(t){d.emit("change",{direction:"push",change:t})}function a(t){d.emit("denied",{direction:"push",doc:t})}function s(t){d.emit("denied",{direction:"pull",doc:t})}function u(){d.pushPaused=!0,d.pullPaused&&d.emit("paused")}function c(){d.pullPaused=!0,d.pushPaused&&d.emit("paused")}function l(){d.pushPaused=!1,d.pullPaused&&d.emit("active",{direction:"push"})}function f(){d.pullPaused=!1,d.pushPaused&&d.emit("active",{direction:"pull"})}function h(t){return function(e,n){var r="change"===e&&(n===i||n===o),h="denied"===e&&(n===s||n===a),p="paused"===e&&(n===c||n===u),v="active"===e&&(n===f||n===l);(r||h||p||v)&&(e in m||(m[e]={}),m[e][t]=!0,2===Object.keys(m[e]).length&&d.removeAllListeners(e))}}var d=this;this.canceled=!1;var p=n.push?br.extend({},n,n.push):n,v=n.pull?br.extend({},n,n.pull):n;this.push=vr(t,e,p),this.pull=vr(e,t,v),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",d.pull.cancel.bind(d.pull)),this.pull.on("complete",d.push.cancel.bind(d.push))),this.on("newListener",function(t){"change"===t?(d.pull.on("change",i),d.push.on("change",o)):"denied"===t?(d.pull.on("denied",s),d.push.on("denied",a)):"active"===t?(d.pull.on("active",f),d.push.on("active",l)):"paused"===t&&(d.pull.on("paused",c),d.push.on("paused",u))}),this.on("removeListener",function(t){"change"===t?(d.pull.removeListener("change",i),d.push.removeListener("change",o)):"denied"===t?(d.pull.removeListener("denied",s),d.push.removeListener("denied",a)):"active"===t?(d.pull.removeListener("active",f),d.push.removeListener("active",l)):"paused"===t&&(d.pull.removeListener("paused",c),d.push.removeListener("paused",u))}),this.pull.on("removeListener",h("pull")),this.push.on("removeListener",h("push"));var g=Cr.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return d.emit("complete",e),r&&r(null,e),d.removeAllListeners(),e},function(t){if(d.cancel(),r?r(t):d.emit("error",t),d.removeAllListeners(),r)throw t});this.then=function(t,e){return g.then(t,e)},this.catch=function(t){return g.catch(t)}}function _r(t){t.replicate=vr,t.sync=mr}var yr,br=t(10),wr=i(t(5)),xr=i(t(9)),kr=i(t(11)),Sr=t(15),Er=i(t(4)),Or=t(1),jr=i(t(16)),Ar=i(t(17)),Tr=i(t(18)),Dr=i(t(7)),Mr=t(13),Cr="function"==typeof Promise?Promise:kr,Ir=Function.prototype.toString,Lr=Ir.call(Object),qr=wr("pouchdb:api"),Rr=6;if(g())yr=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),yr=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){yr=!1}xr(b,Or.EventEmitter),b.prototype.addListener=function(t,e,n,r){function i(){function t(){a=!1}if(o._listeners[e]){if(a)return void(a="waiting");a=!0;var s=d(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(s).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===a&&setTimeout(function(){i()},0),a=!1}).on("error",t)}}if(!this._listeners[e]){var o=this,a=!1;this._listeners[e]=i,this.on(t,i)}},b.prototype.removeListener=function(t,e){e in this._listeners&&Or.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e])},b.prototype.notifyLocalWindows=function(t){g()?chrome.storage.local.set({dbName:t}):_()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},b.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)},xr(E,Error),E.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var Pr=(new E({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),new E({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"})),Nr=new E({status:404,error:"not_found",reason:"missing"}),Fr=new E({status:409,error:"conflict",reason:"Document update conflict"}),Ur=new E({status:400,error:"bad_request",reason:"_id field must contain a string"}),Hr=new E({status:412,error:"missing_id",reason:"_id is required for puts"}),Yr=new E({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),Br=new E({status:412,error:"precondition_failed",reason:"Database not open"}),Wr=new E({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),zr=new E({status:500,error:"badarg",reason:"Some query argument is invalid"}),$r=(new E({status:400,error:"invalid_request",reason:"Request was invalid"}),new E({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"})),Vr=new E({status:500,error:"doc_validation",reason:"Bad special document member"}),Gr=new E({status:400,error:"bad_request",reason:"Something wrong with the request"}),Jr=new E({status:400,error:"bad_request",reason:"Document must be a JSON object"}),Kr=(new E({status:404,error:"not_found",reason:"Database not found"}),new E({status:500,error:"indexed_db_went_bad",reason:"unknown"})),Zr=new E({status:500,error:"web_sql_went_bad",reason:"unknown"}),Xr=(new E({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),new E({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),new E({status:400,error:"bad_request",reason:"Invalid rev format"})),Qr=(new E({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),new E({status:412,error:"missing_stub"})),ti=(new E({status:413,error:"invalid_url",reason:"Provided URL is invalid"}),["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]),ei="queryKey",ni=/(?:^|&)([^&=]*)=?([^&]*)/g,ri=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ii="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");xr(ct,Or.EventEmitter),ct.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ct.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=c(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=lt,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(r){return e.isCancelled?void n(null,{status:"cancelled"}):(t.since=r.update_seq,void e.doChanges(t))},n);if(t.continuous&&"now"!==t.since&&this.db.info().then(function(t){e.startSeq=t.update_seq},function(t){if("idbNull"!==t.id)throw t}),t.view&&!t.filter&&(t.filter="_view"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=L(t.view):t.filter=L(t.filter),"http"!==this.db.type()&&!t.doc_ids))return this.filterChanges(t);"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var i=e.cancel;e.cancel=Er(function(t){r.cancel(),i.apply(this,t)})}},ct.prototype.filterChanges=function(t){var e=this,n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=O(Gr,"`view` filter parameter not found or invalid.");return n(r)}var i=I(t.view);this.db.get("_design/"+i[0],function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(j(r));var a=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;return a?(t.filter=st(a),void e.doChanges(t)):n(O(Nr,o.views?"missing json key: "+i[1]:"missing json key: views"))})}else{var o=I(t.filter);if(!o)return e.doChanges(t);this.db.get("_design/"+o[0],function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(j(r));var a=i&&i.filters&&i.filters[o[1]];return a?(t.filter=at(a),void e.doChanges(t)):n(O(Nr,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"))})}},xr(bt,Or.EventEmitter),bt.prototype.post=h("post",function(t,e,n){return"function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t)?n(O(Jr)):void this.bulkDocs({docs:[t]},e,dt(n))}),bt.prototype.put=h("put",Er(function(t){function e(){a||(w("warn","db.put(doc, id, rev) has been deprecated and will be removed in a future release, please use db.put({_id: id, _rev: rev}) instead"),a=!0)}var n,r,i,o,a=!1,s=t.shift(),u="_id"in s;if("object"!=typeof s||Array.isArray(s))return(o=t.pop())(O(Jr));for(;;)if(n=t.shift(),r=typeof n,"string"!==r||u?"string"!==r||!u||"_rev"in s?"object"===r?i=n:"function"===r&&(o=n):(e(),s._rev=n):(e(),s._id=n,u=!0),!t.length)break;return i=i||{},M(s._id),ot(s._id)&&"function"==typeof this._putLocal?s._deleted?this._removeLocal(s,o):this._putLocal(s,o):void this.bulkDocs({docs:[s]},i,dt(o))})),bt.prototype.putAttachment=h("putAttachment",function(t,e,n,r,i){function o(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:i,data:r,revpos:++n},a.put(t)}var a=this;return"function"==typeof i&&(i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),a.get(t).then(function(t){if(t._rev!==n)throw O(Fr);return o(t)},function(e){if(e.reason===Nr.message)return o({_id:t});throw e})}),bt.prototype.removeAttachment=h("removeAttachment",function(t,e,n,r){var i=this;i.get(t,function(t,o){return t?void r(t):o._rev!==n?void r(O(Fr)):o._attachments?(delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,r)):r()})}),bt.prototype.remove=h("remove",function(t,e,n,r){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(i=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),n=n||{},n.was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev};return o._deleted=!0,ot(o._id)&&"function"==typeof this._removeLocal?this._removeLocal(i,r):void this.bulkDocs({docs:[o]},n,dt(r))}),bt.prototype.revsDiff=h("revsDiff",function(t,e,n){function r(t,e){s.has(t)||s.set(t,{missing:[]}),s.get(t).missing.push(e)}function i(e,n){var i=t[e].slice(0);H(n,function(t,n,o,a,s){var u=n+"-"+o,c=i.indexOf(u);c!==-1&&(i.splice(c,1),"available"!==s.status&&r(e,u))}),i.forEach(function(t){r(e,t)})}"function"==typeof e&&(n=e,e={});var o=Object.keys(t);if(!o.length)return n(null,{});var a=0,s=new Sr.Map;o.map(function(e){this._getRevisionTree(e,function(r,u){if(r&&404===r.status&&"missing"===r.message)s.set(e,{missing:t[e]});else{if(r)return n(r);i(e,u)}if(++a===o.length){var c={};return s.forEach(function(t,e){c[e]=t}),n(null,c)}})},this)}),bt.prototype.bulkGet=h("bulkGet",function(t,e){m(this,t,e)}),bt.prototype.compactDocument=h("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(i,o){if(i)return n(i);var a=mt(o),s=[],u=[];Object.keys(a).forEach(function(t){a[t]>e&&s.push(t)}),H(o,function(t,e,n,r,i){var o=e+"-"+n;"available"===i.status&&s.indexOf(o)!==-1&&u.push(o)}),r._doCompaction(t,u,n)})}),bt.prototype.compact=h("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&_t(n)}),bt.prototype._compact=function(t,e){function n(t){a.push(i.compactDocument(t.id,0))}function r(t){var n=t.last_seq;Cr.all(a).then(function(){return R(i,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<n)&&(t.last_seq=n,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}var i=this,o={return_docs:!1,last_seq:t.last_seq||0},a=[];i.changes(o).on("change",n).on("complete",r).on("error",e)},bt.prototype.get=h("get",function(t,e,n){function r(){var r=[],a=i.length;return a?void i.forEach(function(i){o.get(t,{rev:i,revs:e.revs,attachments:e.attachments},function(t,e){t?r.push({missing:i}):r.push({ok:e}),a--,a||n(null,r)})}):n(null,r)}if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(O(Ur));if(ot(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var i=[],o=this;if(!e.open_revs)return this._get(t,e,function(t,r){if(t)return n(t);var i=r.doc,a=r.metadata,s=r.ctx;if(e.conflicts){var u=W(a);u.length&&(i._conflicts=u)}if(it(a,i._rev)&&(i._deleted=!0),e.revs||e.revs_info){var c=$(a.rev_tree),l=ht(c,function(t){return t.ids.map(function(t){return t.id}).indexOf(i._rev.split("-")[1])!==-1}),f=l.ids.map(function(t){return t.id}).indexOf(i._rev.split("-")[1])+1,h=l.ids.length-f;if(l.ids.splice(f,h),l.ids.reverse(),e.revs&&(i._revisions={start:l.pos+l.ids.length-1,ids:l.ids.map(function(t){return t.id})}),e.revs_info){var d=l.pos+l.ids.length;i._revs_info=l.ids.map(function(t){return d--,{rev:d+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&i._attachments){var p=i._attachments,v=Object.keys(p).length;if(0===v)return n(null,i);Object.keys(p).forEach(function(t){this._getAttachment(i._id,t,p[t],{rev:i._rev,binary:e.binary,ctx:s},function(e,r){var o=i._attachments[t];o.data=r,delete o.stub,delete o.length,--v||n(null,i)})},o)}else{if(i._attachments)for(var m in i._attachments)i._attachments.hasOwnProperty(m)&&(i._attachments[m].stub=!0);n(null,i)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){return t?n(t):(i=B(e).map(function(t){return t.rev}),void r())});else{if(!Array.isArray(e.open_revs))return n(O(Wr,"function_clause"));i=e.open_revs;for(var a=0;a<i.length;a++){var s=i[a];if("string"!=typeof s||!/^\d+-/.test(s))return n(O(Xr))}r()}}),bt.prototype.getAttachment=h("getAttachment",function(t,e,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(o,a){return o?r(o):a.doc._attachments&&a.doc._attachments[e]?(n.ctx=a.ctx,n.binary=!0,i._getAttachment(t,e,a.doc._attachments[e],n,r),void 0):r(O(Nr))})}),bt.prototype.allDocs=h("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip="undefined"!=typeof t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(O($r,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return gt(this,t,e)}return this._allDocs(t,e)}),bt.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new ct(this,t,e)},bt.prototype.close=h("close",function(t){return this._closed=!0,this._close(t)}),bt.prototype.info=h("info",function(t){var e=this;this._info(function(n,r){return n?t(n):(r.db_name=r.db_name||e._db_name,r.auto_compaction=!(!e.auto_compaction||"http"===e.type()),r.adapter=e.type(),void t(null,r))})}),bt.prototype.id=h("id",function(t){return this._id(t)}),bt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},bt.prototype.bulkDocs=h("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(O(Pr));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(O(Jr));var i;return t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(t){i=i||yt(t)})}),i?n(O(Gr,i)):("new_edits"in e||("new_edits"in t?e.new_edits=t.new_edits:e.new_edits=!0),e.new_edits||"http"===this.type()||t.docs.sort(vt),pt(t.docs),this._bulkDocs(t,e,function(t,r){return t?n(t):(e.new_edits||(r=r.filter(function(t){return t.error})),void n(null,r))}))}),bt.prototype.registerDependentDatabase=h("registerDependentDatabase",function(t,e){function n(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var r=new this.constructor(t,this.__opts);R(this,"_local/_pouch_dependentDbs",n).then(function(){e(null,{db:r})}).catch(e)}),bt.prototype.destroy=h("destroy",function(t,e){function n(){r._destroy(t,function(t,n){return t?e(t):(r._destroyed=!0,r.emit("destroyed"),void e(null,n||{ok:!0}))})}"function"==typeof t&&(e=t,t={});var r=this,i=!("use_prefix"in r)||r.use_prefix;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(t,o){if(t)return 404!==t.status?e(t):n();var a=o.dependentDbs,s=r.constructor,u=Object.keys(a).map(function(t){var e=i?t.replace(new RegExp("^"+s.prefix),""):t;return new s(e,r.__opts).destroy()});Cr.all(u).then(n,e)})}),wt.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},wt.prototype.fail=function(t){this.failed=t,this.execute()},wt.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},wt.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},xr(St,bt),St.debug=wr,St.adapters={},St.preferredAdapters=[],St.prefix="_pouch_";var oi=new Or.EventEmitter;Et(St),St.parseAdapter=function(t,e){var n,r,i=t.match(/([a-z\-]*):\/\/(.*)/);if(i){if(t=/http(s?)/.test(i[1])?i[1]+"://"+i[2]:i[2],n=i[1],!St.adapters[n].valid())throw"Invalid adapter";return{name:t,adapter:i[1]}}var o="idb"in St.adapters&&"websql"in St.adapters&&_()&&localStorage["_pouch__websqldb_"+St.prefix+t];if(e.adapter)r=e.adapter;else if("undefined"!=typeof e&&e.db)r="leveldb";else for(var a=0;a<St.preferredAdapters.length;++a)if(r=St.preferredAdapters[a],r in St.adapters){if(o&&"idb"===r){w("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}n=St.adapters[r];var s=!(n&&"use_prefix"in n)||n.use_prefix;return{name:s?St.prefix+t:t,adapter:r}},St.adapter=function(t,e,n){e.valid()&&(St.adapters[t]=e,n&&St.preferredAdapters.push(t))},St.plugin=function(t){return"function"==typeof t?t(St):Object.keys(t).forEach(function(e){St.prototype[e]=t[e]}),St},St.defaults=function(t){function e(n,r,i){return this instanceof e?("function"!=typeof r&&"undefined"!=typeof r||(i=r,r={}),n&&"object"==typeof n&&(r=n,n=void 0),r=br.extend({},t,r),void St.call(this,n,r,i)):new e(n,r,i)}return xr(e,St),e.preferredAdapters=St.preferredAdapters.slice(),Object.keys(St).forEach(function(t){t in e||(e[t]=St[t])}),e};var ai="5.4.5";St.version=ai;var si,ui=Ot(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ci=Ot(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),li=function(t){return atob(t)},fi=function(t){return btoa(t)},hi=r.setImmediate||r.setTimeout,di=32768,pi=5,vi="document-store",mi="by-sequence",gi="attach-store",_i="attach-seq-store",yi="meta-store",bi="local-store",wi="detect-blob-support",xi={running:!1,queue:[]},ki=new Sr.Map,Si=new b,Ei=new Sr.Map;_e.valid=function(){var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!t&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Oi=7,ji=je("document-store"),Ai=je("by-sequence"),Ti=je("attach-store"),Di=je("local-store"),Mi=je("metadata-store"),Ci=je("attach-seq-store"),Ii=new Sr.Map,Li=new b,qi=1,Ri="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+Ai+" (seq, deleted)",Pi="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+Ai+" (doc_id, rev)",Ni="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+ji+" (winningseq)",Fi="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+Ci+" (seq)",Ui="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+Ci+" (digest, seq)",Hi=Ai+".seq = "+ji+".winningseq",Yi=Ai+".seq AS seq, "+Ai+".deleted AS deleted, "+Ai+".json AS data, "+Ai+".rev AS rev, "+ji+".json AS metadata";Ge.valid=$e,Ge.use_prefix=!0;var Bi=Qe(),Wi=function(){},zi=25,$i=50,Vi={},Gi=1800,Ji=wr("pouchdb:http");hn.valid=function(){return!0},pn.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},pn.prototype.finish=function(){return this.promise};var Ki=function(t,e){return e&&t.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),t},Zi=function(t){return Er(function(e){var n=e.pop(),r=t.apply(this,e);return"function"==typeof n&&Ki(r,n),r})},Xi=function(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})},Qi=function(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}},to=function(t){for(var e={},n=0,r=t.length;n<r;n++)e["$"+t[n]]=!0;var i=Object.keys(e),o=new Array(i.length);for(n=0,r=i.length;n<r;n++)o[n]=i[n].substring(1);return o},eo={},no=new pn,ro=50,io=w.bind(null,"log"),oo={_sum:function(t,e){return jn(e)},_count:function(t,e){return e.length},_stats:function(t,e){function n(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];e+=i*i}return e}return{sum:jn(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:n(e)}}},ao=Zi(function(){var t=this;return"http"===t.type()?zn(t):"function"==typeof t._viewCleanup?qn(t):$n(t)}),so=function(t,e,n){"function"==typeof e&&(n=e,e={}),e=e?Dn(e):{},"function"==typeof t&&(t={map:t});var r=this,i=Cr.resolve().then(function(){return Vn(r,t,e)});return Ki(i,n),i};xr(Gn,Error),xr(Jn,Error),xr(Kn,Error);var uo={query:so,viewCleanup:ao},co=1,lo="pouchdb",fo=5,ho=0;ir.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},ir.prototype.updateTarget=function(t,e){return rr(this.target,this.id,t,e,this.returnValue)},ir.prototype.updateSource=function(t,e){var n=this;return this.readOnlySource?Cr.resolve(!0):rr(this.src,this.id,t,e,this.returnValue).catch(function(t){if(ur(t))return n.readOnlySource=!0,!0;throw t})};var po={undefined:function(t,e){return 0===Mr.collate(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return or(e,t).last_seq}};ir.prototype.getCheckpoint=function(){var t=this;return t.target.get(t.id).then(function(e){return t.readOnlySource?Cr.resolve(e.last_seq):t.src.get(t.id).then(function(t){if(e.version!==t.version)return ho;var n;return n=e.version?e.version.toString():"undefined",n in po?po[n](e,t):ho},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:ho}).then(function(){return ho},function(n){return ur(n)?(t.readOnlySource=!0,e.last_seq):ho});throw n})}).catch(function(t){if(404!==t.status)throw t;return ho})};var vo=0;xr(dr,Or.EventEmitter),dr.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},dr.prototype.ready=function(t,e){function n(){i.cancel()}function r(){t.removeListener("destroyed",n),e.removeListener("destroyed",n)}var i=this;i._readyCalled||(i._readyCalled=!0,t.once("destroyed",n),e.once("destroyed",n),i.once("complete",r))},xr(gr,Or.EventEmitter),gr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},St.plugin(we).plugin(Je).plugin(dn).plugin(uo).plugin(_r),e.exports=St}).call(this,t(2),"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,10:10,11:11,13:13,15:15,16:16,17:17,18:18,2:2,4:4,5:5,7:7,9:9}],4:[function(t,e,n){"use strict";function r(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}e.exports=r},{}],5:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;
t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function s(){var t;try{t=n.storage.debug}catch(t){}return t}function u(){try{return window.localStorage}catch(t){}}n=e.exports=t(6),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{6:6}],6:[function(t,e,n){function r(){return n.colors[l++%n.colors.length]}function i(t){function e(){}function i(){var t=i,e=+new Date,o=e-(c||e);t.diff=o,t.prev=c,t.curr=e,c=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];e=i.call(t,o),a.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a));var u=i.log||n.log||console.log.bind(console);u.apply(t,a)}e.enabled=!1,i.enabled=!0;var o=n.enabled(t)?i:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)e[i]&&(t=e[i].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function a(){n.enable("")}function s(t){var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=i,n.coerce=u,n.disable=a,n.enable=o,n.enabled=s,n.humanize=t(12),n.names=[],n.skips=[],n.formatters={};var c,l=0},{12:12}],7:[function(t,n,r){!function(t,i){"function"==typeof e&&e.amd?e([],i):"object"==typeof r?n.exports=i():(t.PromisePool=i(),t.promisePool=t.PromisePool)}(this,function(){"use strict";var t=function(){this._listeners={}};t.prototype.addEventListener=function(t,e){this._listeners[t]=this._listeners[t]||[],this._listeners[t].indexOf(e)<0&&this._listeners[t].push(e)},t.prototype.removeEventListener=function(t,e){if(this._listeners[t]){var n=this._listeners[t].indexOf(e);n>=0&&this._listeners[t].splice(n,1)}},t.prototype.dispatchEvent=function(t){if(this._listeners[t.type]&&this._listeners[t.type].length)for(var e=this._listeners[t.type].slice(),n=0,r=e.length;n<r;++n)e[n].call(this,t)};var e=function(t){return"function"==typeof t.constructor&&"GeneratorFunction"===t.constructor.name},n=function(t){return{next:function(){var e=t();return e?{value:e}:{done:!0}}}},r=function(t){var e=!1;return{next:function(){return e?{done:!0}:(e=!0,{value:t})}}},i=function(t,i){var o=typeof t;if("object"===o){if("function"==typeof t.next)return t;if("function"==typeof t.then)return r(t)}return"function"===o?e(t)?t():n(t):r(i.resolve(t))},o=function(t,e,n){this.target=t,this.type=e,this.data=n},a=function(e,n,r){if(t.call(this),"number"!=typeof n||Math.floor(n)!==n||n<1)throw new Error("Invalid concurrency");this._concurrency=n,this._options=r||{},this._options.promise=this._options.promise||Promise,this._iterator=i(e,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return a.prototype=new t,a.prototype.constructor=a,a.prototype.concurrency=function(t){return"undefined"!=typeof t&&(this._concurrency=t,this.active()&&this._proceed()),this._concurrency},a.prototype.size=function(){return this._size},a.prototype.active=function(){return!!this._promise},a.prototype.promise=function(){return this._promise},a.prototype.start=function(){var t=this,e=this._options.promise;return this._promise=new e(function(e,n){t._callbacks={reject:n,resolve:e},t._proceed()}),this._promise},a.prototype._fireEvent=function(t,e){this.dispatchEvent(new o(this,t,e))},a.prototype._settle=function(t){t?this._callbacks.reject(t):this._callbacks.resolve(),this._promise=null,this._callbacks=null},a.prototype._onPooledPromiseFulfilled=function(t,e){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:t,result:e}),this._proceed())},a.prototype._onPooledPromiseRejected=function(t,e){this._size--,this.active()&&(this._fireEvent("rejected",{promise:t,error:e}),this._settle(e||new Error("Unknown error")))},a.prototype._trackPromise=function(t){var e=this;t.then(function(n){e._onPooledPromiseFulfilled(t,n)},function(n){e._onPooledPromiseRejected(t,n)}).catch(function(t){e._settle(new Error("Promise processing failed: "+t))})},a.prototype._proceed=function(){if(!this._done){for(var t=null;this._size<this._concurrency&&!(t=this._iterator.next()).done;)this._size++,this._trackPromise(t.value);this._done=null===t||!!t.done}this._done&&0===this._size&&this._settle()},a.PromisePoolEvent=o,a.PromisePool=a,a})},{}],8:[function(t,e,n){(function(t){"use strict";function n(){l=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}l=!1}function r(t){1!==f.push(t)||l||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=t.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],10:[function(t,e,n){(function(){var t=Array.prototype.slice,e=Array.prototype.forEach,n=function(r){if("object"!=typeof r)throw r+" is not an object";var i=t.call(arguments,1);return e.call(i,function(t){if(t)for(var e in t)"object"==typeof t[e]&&r[e]?n.call(r,r[e],t[e]):r[e]=t[e]}),r};this.extend=n}).call(this)},{}],11:[function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){p(function(){var r;try{r=e(n)}catch(e){return v.reject(t,e)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)})}function s(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,v.reject(t,e))}function r(e){o||(o=!0,v.resolve(t,e))}function i(){e(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function l(t){return t instanceof this?t:v.resolve(new this(r),t)}function f(t){var e=new this(r);return v.reject(e,t)}function h(t){function e(t,e){function r(t){a[e]=t,++s!==i||o||(o=!0,v.resolve(c,a))}n.resolve(t).then(r,function(t){o||(o=!0,v.reject(c,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,u=-1,c=new this(r);++u<i;)e(t[u],u);return c}function d(t){function e(t){n.resolve(t).then(function(t){o||(o=!0,v.resolve(s,t))},function(t){o||(o=!0,v.reject(s,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)e(t[a]);return s}var p=t(8),v={},m=["REJECTED"],g=["FULFILLED"],_=["PENDING"];e.exports=i,i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==_){var i=this.state===g?t:e;a(n,i,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){v.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},v.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return v.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=g,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},v.reject=function(t,e){t.state=m,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},i.resolve=l,i.reject=f,i.all=h,i.race=d},{8:8}],12:[function(t,e,n){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return a(t,l,"day")||a(t,c,"hour")||a(t,u,"minute")||a(t,s,"second")||t+" ms"}function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,f=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e.long?o(t):i(t)}},{}],13:[function(t,e,n){"use strict";function r(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return l(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),r=e?t:Object.keys(t),i=-1,o=r.length,a="";if(e)for(;++i<o;)a+=n.toIndexableString(r[i]);else for(;++i<o;){var s=r[i];a+=n.toIndexableString(s)+n.toIndexableString(t[s])}return a}return""}function i(t,e){var n,r=e,i="1"===t[e];if(i)n=0,e++;else{var o="0"===t[e];e++;var a="",s=t.substring(e,e+h),u=parseInt(s,10)+f;for(o&&(u=-u),e+=h;;){var c=t[e];if("\0"===c)break;a+=c,e++}a=a.split("."),n=1===a.length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:e-r}}function o(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===t.length-2){var a=t.pop();i[a]=n}else t.push(n)}}function a(t,e){for(var r=Math.min(t.length,e.length),i=0;i<r;i++){var o=n.collate(t[i],e[i]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function s(t,e){return t===e?0:t>e?1:-1}function u(t,e){for(var r=Object.keys(t),i=Object.keys(e),o=Math.min(r.length,i.length),a=0;a<o;a++){var s=n.collate(r[a],i[a]);if(0!==s)return s;if(s=n.collate(t[r[a]],e[i[a]]),0!==s)return s}return r.length===i.length?0:r.length>i.length?1:-1}function c(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function l(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,i=r?"0":"2",o=(r?-n:n)-f,a=p.padLeft(o.toString(),"0",h);i+=d+a;var s=Math.abs(parseFloat(e[0]));r&&(s=10-s);var u=s.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=d+u}var f=-324,h=3,d="",p=t(14);n.collate=function(t,e){if(t===e)return 0;t=n.normalizeKey(t),e=n.normalizeKey(e);var r=c(t),i=c(e);if(r-i!==0)return r-i;if(null===t)return 0;switch(typeof t){case"number":return t-e;case"boolean":return t===e?0:t<e?-1:1;case"string":return s(t,e)}return Array.isArray(t)?a(t,e):u(t,e)},n.normalizeKey=function(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-(1/0)||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var r=t.length;t=new Array(r);for(var i=0;i<r;i++)t[i]=n.normalizeKey(e[i])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];"undefined"!=typeof a&&(t[o]=n.normalizeKey(a))}}}}return t},n.toIndexableString=function(t){var e="\0";return t=n.normalizeKey(t),c(t)+d+r(t)+e},n.parseIndexableString=function(t){for(var e=[],n=[],r=0;;){var a=t[r++];if("\0"!==a)switch(a){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var s=i(t,r);e.push(s.num),r+=s.length;break;case"4":for(var u="";;){var c=t[r];if("\0"===c)break;u+=c,r++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(u);break;case"5":var l={element:[],index:e.length};e.push(l.element),n.push(l);break;case"6":var f={element:{},index:e.length};e.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===e.length)return e.pop();o(e,n)}}}},{14:14}],14:[function(t,e,n){"use strict";function r(t,e,n){for(var r="",i=n-t.length;r.length<i;)r+=e;return r}n.padLeft=function(t,e,n){var i=r(t,e,n);return i+t},n.padRight=function(t,e,n){var i=r(t,e,n);return t+i},n.stringLexCompare=function(t,e){var n,r=t.length,i=e.length;for(n=0;n<r;n++){if(n===i)return 1;var o=t.charAt(n),a=e.charAt(n);if(o!==a)return o<a?-1:1}return r<i?-1:0},n.intToDecimalForm=function(t){var e=t<0,n="";do{var r=e?-Math.ceil(t%10):Math.floor(t%10);n=r+n,t=e?Math.ceil(t/10):Math.floor(t/10)}while(t);return e&&"0"!==n&&(n="-"+n),n}},{}],15:[function(t,e,n){"use strict";function r(){this.store={}}function i(t){if(this.store=new r,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}n.Map=r,n.Set=i,r.prototype.mangle=function(t){if("string"!=typeof t)throw new TypeError("key must be a string but Got "+t);return"$"+t},r.prototype.unmangle=function(t){return t.substring(1)},r.prototype.get=function(t){var e=this.mangle(t);if(e in this.store)return this.store[e]},r.prototype.set=function(t,e){var n=this.mangle(t);return this.store[n]=e,!0},r.prototype.has=function(t){var e=this.mangle(t);return e in this.store},r.prototype.delete=function(t){var e=this.mangle(t);return e in this.store&&(delete this.store[e],!0)},r.prototype.forEach=function(t){for(var e=Object.keys(this.store),n=0,r=e.length;n<r;n++){var i=e[n],o=this.store[i];i=this.unmangle(i),t(o,i)}},i.prototype.add=function(t){return this.store.set(t,!0)},i.prototype.has=function(t){return this.store.has(t)},i.prototype.delete=function(t){return this.store.delete(t)}},{}],16:[function(t,e,n){(function(){var t={}.hasOwnProperty,n=[].slice;e.exports=function(e,r){var i,o,a,s;o=[],s=[];for(i in r)t.call(r,i)&&(a=r[i],"this"!==i&&(o.push(i),s.push(a)));return Function.apply(null,n.call(o).concat([e])).apply(r.this,s)}}).call(this)},{}],17:[function(t,n,r){!function(t){if("object"==typeof r)n.exports=t();else if("function"==typeof e&&e.amd)e(t);else{var i;try{i=window}catch(t){i=self}i.SparkMD5=t()}}(function(t){"use strict";function e(t,e,n,r,i,o){return e=y(y(e,t),y(r,o)),y(e<<i|e>>>32-i,n)}function n(t,n,r,i,o,a,s){return e(n&r|~n&i,t,n,o,a,s)}function r(t,n,r,i,o,a,s){return e(n&i|r&~i,t,n,o,a,s)}function i(t,n,r,i,o,a,s){return e(n^r^i,t,n,o,a,s)}function o(t,n,r,i,o,a,s){return e(r^(n|~i),t,n,o,a,s)}function a(t,e){var a=t[0],s=t[1],u=t[2],c=t[3];a=n(a,s,u,c,e[0],7,-680876936),c=n(c,a,s,u,e[1],12,-389564586),u=n(u,c,a,s,e[2],17,606105819),s=n(s,u,c,a,e[3],22,-1044525330),a=n(a,s,u,c,e[4],7,-176418897),c=n(c,a,s,u,e[5],12,1200080426),u=n(u,c,a,s,e[6],17,-1473231341),s=n(s,u,c,a,e[7],22,-45705983),a=n(a,s,u,c,e[8],7,1770035416),c=n(c,a,s,u,e[9],12,-1958414417),u=n(u,c,a,s,e[10],17,-42063),s=n(s,u,c,a,e[11],22,-1990404162),a=n(a,s,u,c,e[12],7,1804603682),c=n(c,a,s,u,e[13],12,-40341101),u=n(u,c,a,s,e[14],17,-1502002290),s=n(s,u,c,a,e[15],22,1236535329),a=r(a,s,u,c,e[1],5,-165796510),c=r(c,a,s,u,e[6],9,-1069501632),u=r(u,c,a,s,e[11],14,643717713),s=r(s,u,c,a,e[0],20,-373897302),a=r(a,s,u,c,e[5],5,-701558691),c=r(c,a,s,u,e[10],9,38016083),u=r(u,c,a,s,e[15],14,-660478335),s=r(s,u,c,a,e[4],20,-405537848),a=r(a,s,u,c,e[9],5,568446438),c=r(c,a,s,u,e[14],9,-1019803690),u=r(u,c,a,s,e[3],14,-187363961),s=r(s,u,c,a,e[8],20,1163531501),a=r(a,s,u,c,e[13],5,-1444681467),c=r(c,a,s,u,e[2],9,-51403784),u=r(u,c,a,s,e[7],14,1735328473),s=r(s,u,c,a,e[12],20,-1926607734),a=i(a,s,u,c,e[5],4,-378558),c=i(c,a,s,u,e[8],11,-2022574463),u=i(u,c,a,s,e[11],16,1839030562),s=i(s,u,c,a,e[14],23,-35309556),a=i(a,s,u,c,e[1],4,-1530992060),c=i(c,a,s,u,e[4],11,1272893353),u=i(u,c,a,s,e[7],16,-155497632),s=i(s,u,c,a,e[10],23,-1094730640),a=i(a,s,u,c,e[13],4,681279174),c=i(c,a,s,u,e[0],11,-358537222),u=i(u,c,a,s,e[3],16,-722521979),s=i(s,u,c,a,e[6],23,76029189),a=i(a,s,u,c,e[9],4,-640364487),c=i(c,a,s,u,e[12],11,-421815835),u=i(u,c,a,s,e[15],16,530742520),s=i(s,u,c,a,e[2],23,-995338651),a=o(a,s,u,c,e[0],6,-198630844),c=o(c,a,s,u,e[7],10,1126891415),u=o(u,c,a,s,e[14],15,-1416354905),s=o(s,u,c,a,e[5],21,-57434055),a=o(a,s,u,c,e[12],6,1700485571),c=o(c,a,s,u,e[3],10,-1894986606),u=o(u,c,a,s,e[10],15,-1051523),s=o(s,u,c,a,e[1],21,-2054922799),a=o(a,s,u,c,e[8],6,1873313359),c=o(c,a,s,u,e[15],10,-30611744),u=o(u,c,a,s,e[6],15,-1560198380),s=o(s,u,c,a,e[13],21,1309151649),a=o(a,s,u,c,e[4],6,-145523070),c=o(c,a,s,u,e[11],10,-1120210379),u=o(u,c,a,s,e[2],15,718787259),s=o(s,u,c,a,e[9],21,-343485551),t[0]=y(a,t[0]),t[1]=y(s,t[1]),t[2]=y(u,t[2]),t[3]=y(c,t[3])}function s(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function u(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function c(t){var e,n,r,i,o,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)a(l,s(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(a(l,r),e=0;e<16;e+=1)r[e]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,r[14]=o,r[15]=u,a(l,r),l}function l(t){var e,n,r,i,o,s,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)a(l,u(t.subarray(e-64,e)));for(t=e-64<c?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(a(l,r),e=0;e<16;e+=1)r[e]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,a(l,r),l}function f(t){var e,n="";for(e=0;e<4;e+=1)n+=b[t>>8*e+4&15]+b[t>>8*e&15];return n}function h(t){var e;for(e=0;e<t.length;e+=1)t[e]=f(t[e]);return t.join("")}function d(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function p(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=t.charCodeAt(n);return e?o:i}function v(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function m(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function g(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function _(){this.reset()}var y=function(t,e){return t+e&4294967295},b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==h(c("hello"))&&(y=function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var i,o,a,s,u=this.byteLength,c=e(n,u),l=u;return r!==t&&(l=e(r,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),a=new Uint8Array(o),s=new Uint8Array(this,c,i),a.set(s),o)}}(),_.prototype.append=function(t){return this.appendBinary(d(t)),this},_.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)a(this._hash,s(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},_.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=h(this._hash),t&&(n=g(n)),this.reset(),n},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},_.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(t,e){var n,r,i,o=e;if(t[o>>2]|=128<<(o%4<<3),o>55)for(a(this._hash,t),o=0;o<16;o+=1)t[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=r,t[15]=i,a(this._hash,t)},_.hash=function(t,e){return _.hashBinary(d(t),e)},_.hashBinary=function(t,e){var n=c(t),r=h(n);return e?g(r):r},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(t){var e,n=m(this._buff.buffer,t,!0),r=n.length;for(this._length+=t.byteLength,e=64;e<=r;e+=64)a(this._hash,u(n.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=h(this._hash),t&&(n=g(n)),this.reset(),n},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var t=_.prototype.getState.call(this);return t.buff=v(t.buff),t},_.ArrayBuffer.prototype.setState=function(t){return t.buff=p(t.buff,!0),_.prototype.setState.call(this,t)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(t,e){var n=l(new Uint8Array(t)),r=h(n);return e?g(r):r},_})},{}],18:[function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(t);else if(o===e.length-2){var a=e.pop();i[a]=t}else e.push(t)}n.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,i,o,a,s,u,c,l,f,h,d="";n=e.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",d+=i,o)d+=o;else if("object"!=typeof r)d+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),a=r.length-1;a>=0;a--)s=0===a?"":",",e.push({obj:r[a],prefix:s});e.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(e.push({val:"}"}),a=u.length-1;a>=0;a--)l=u[a],f=r[l],h=a>0?",":"",h+=JSON.stringify(l)+":",e.push({obj:f,prefix:h});e.push({val:"{"})}return d},n.parse=function(t){for(var e,n,i,o,a,s,u,c,l,f=[],h=[],d=0;;)if(e=t[d++],"}"!==e&&"]"!==e&&"undefined"!=typeof e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,r(null,f,h);break;case"t":d+=3,r(!0,f,h);break;case"f":d+=4,r(!1,f,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(i=t[d++],!/[\d\.\-e\+]/.test(i)){d--;break}n+=i}r(parseFloat(n),f,h);break;case'"':for(o="",a=void 0,s=0;;){if(u=t[d++],'"'===u&&("\\"!==a||s%2!==1))break;o+=u,a=u,"\\"===a?s++:s=0}r(JSON.parse('"'+o+'"'),f,h);break;case"[":c={element:[],index:f.length},f.push(c.element),h.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===f.length)return f.pop();r(f.pop(),f,h)}}},{}]},{},[3])(3)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],139:[function(t,e,n){function r(t){if(c===setTimeout)return setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function o(){p&&h&&(p=!1,h.length?d=h.concat(d):v=-1,d.length&&a())}function a(){if(!p){var t=r(o);p=!0;for(var e=d.length;e;){for(h=d,d=[];++v<e;)h&&h[v].run();v=-1,e=d.length}h=null,p=!1,i(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var c,l,f=e.exports={};!function(){try{c=setTimeout}catch(t){c=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(t){l=function(){throw new Error("clearTimeout is not defined")}}}();var h,d=[],p=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new s(t,e)),1!==d.length||p||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],140:[function(t,e,n){"use strict";e.exports=t("./lib")},{"./lib":145}],141:[function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return g=t,_}}function o(t,e){try{return t(e)}catch(t){return g=t,_}}function a(t,e,n){try{t(e,n)}catch(t){return g=t,_}}function s(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,t!==r&&v(t,this)}function u(t,e,n){return new t.constructor(function(i,o){var a=new s(r);a.then(i,o),c(t,new p(e,n,a))})}function c(t,e){for(;3===t._81;)t=t._65;return s._10&&s._10(t),0===t._81?0===t._45?(t._45=1,void(t._54=e)):1===t._45?(t._45=2,void(t._54=[t._54,e])):void t._54.push(e):void l(t,e)}function l(t,e){m(function(){var n=1===t._81?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._81?f(e.promise,t._65):h(e.promise,t._65));var r=o(n,t._65);r===_?h(e.promise,g):f(e.promise,r)})}function f(t,e){if(e===t)return h(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=i(e);if(n===_)return h(t,g);if(n===t.then&&e instanceof s)return t._81=3,t._65=e,void d(t);if("function"==typeof n)return void v(n.bind(e),t)}t._81=1,t._65=e,d(t)}function h(t,e){t._81=2,t._65=e,s._97&&s._97(t,e),d(t)}function d(t){if(1===t._45&&(c(t,t._54),t._54=null),2===t._45){for(var e=0;e<t._54.length;e++)c(t,t._54[e]);t._54=null}}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function v(t,e){var n=!1,r=a(t,function(t){n||(n=!0,f(e,t))},function(t){n||(n=!0,h(e,t))});n||r!==_||(n=!0,h(e,g))}var m=t("asap/raw"),g=null,_={};e.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return c(this,new p(t,e,n)),n}},{"asap/raw":29}],142:[function(t,e,n){"use strict";var r=t("./core.js");e.exports=r,r.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){setTimeout(function(){throw t},0)})}},{"./core.js":141}],143:[function(t,e,n){"use strict";function r(t){var e=new i(i._61);return e._81=1,e._65=t,e}var i=t("./core.js");e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return u;if(t===!0)return o;if(t===!1)return a;if(0===t)return c;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(t){r(a,t)},n))}var u=s.then;if("function"==typeof u){var c=new i(u.bind(s));return void c.then(function(t){r(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},{"./core.js":141}],144:[function(t,e,n){"use strict";var r=t("./core.js");e.exports=r,r.prototype.finally=function(t){return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})}},{"./core.js":141}],145:[function(t,e,n){"use strict";e.exports=t("./core.js"),t("./done.js"),t("./finally.js"),t("./es6-extensions.js"),t("./node-extensions.js"),t("./synchronous.js")},{"./core.js":141,"./done.js":142,"./es6-extensions.js":143,"./finally.js":144,"./node-extensions.js":146,"./synchronous.js":147}],146:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<e;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([s]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(o,t)}function i(t){for(var e=Math.max(t.length-1,3),n=[],r=0;r<e;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+s+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(t,e){return"case "+e+":res = fn.call("+["self"].concat(n.slice(0,e)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(o,t)}var o=t("./core.js"),a=t("asap");e.exports=o,o.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?r(t,e):i(t)};var s="function (err, res) {if (err) { rj(err); } else { rs(res); }}";
o.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(n,r)}catch(t){if(null===n||"undefined"==typeof n)return new o(function(e,n){n(t)});a(function(){n.call(r,t)})}}},o.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){a(function(){t.call(e,null,n)})},function(n){a(function(){t.call(e,n)})})}},{"./core.js":141,asap:28}],147:[function(t,e,n){"use strict";var r=t("./core.js");e.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._81)return this._65.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._65},r.prototype.getReason=function(){if(3===this._81)return this._65.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._65},r.prototype.getState=function(){return 3===this._81?this._65.getState():this._81===-1||this._81===-2?0:this._81}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},{"./core.js":141}],148:[function(t,e,n){(function(){function t(t){function e(e,n,r,i,o,a){for(;o>=0&&o<a;o+=t){var s=i?i[o]:o;r=n(r,e[s],s,e)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!A(n)&&b.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=t),e(n,r,i,a,u,s)}}function r(t){return function(e,n,r){n=x(n,r);for(var i=j(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function i(t,e,n){return function(r,i,o){var a=0,s=j(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(h.call(r,a,s),b.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}function o(t,e){var n=I.length,r=t.constructor,i=b.isFunction(r)&&r.prototype||c,o="constructor";for(b.has(t,o)&&!b.contains(e,o)&&e.push(o);n--;)o=I[n],o in t&&t[o]!==i[o]&&!b.contains(e,o)&&e.push(o)}var a=this,s=a._,u=Array.prototype,c=Object.prototype,l=Function.prototype,f=u.push,h=u.slice,d=c.toString,p=c.hasOwnProperty,v=Array.isArray,m=Object.keys,g=l.bind,_=Object.create,y=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=b),n._=b):a._=b,b.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},x=function(t,e,n){return null==t?b.identity:b.isFunction(t)?w(t,e,n):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return x(t,e,1/0)};var k=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var c=a[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}},S=function(t){if(!b.isObject(t))return{};if(_)return _(t);y.prototype=t;var e=new y;return y.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},O=Math.pow(2,53)-1,j=E("length"),A=function(t){var e=j(t);return"number"==typeof e&&e>=0&&e<=O};b.each=b.forEach=function(t,e,n){e=w(e,n);var r,i;if(A(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=b.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},b.map=b.collect=function(t,e,n){e=x(e,n);for(var r=!A(t)&&b.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,e,n){var r;if(r=A(t)?b.findIndex(t,e,n):b.findKey(t,e,n),void 0!==r&&r!==-1)return t[r]},b.filter=b.select=function(t,e,n){var r=[];return e=x(e,n),b.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},b.reject=function(t,e,n){return b.filter(t,b.negate(x(e)),n)},b.every=b.all=function(t,e,n){e=x(e,n);for(var r=!A(t)&&b.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},b.some=b.any=function(t,e,n){e=x(e,n);for(var r=!A(t)&&b.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,n,r){return A(t)||(t=b.values(t)),("number"!=typeof n||r)&&(n=0),b.indexOf(t,e,n)>=0},b.invoke=function(t,e){var n=h.call(arguments,2),r=b.isFunction(e);return b.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,n){var r,i,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=A(t)?t:b.values(t);for(var s=0,u=t.length;s<u;s++)r=t[s],r>o&&(o=r)}else e=x(e,n),b.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=t,a=i)});return o},b.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=A(t)?t:b.values(t);for(var s=0,u=t.length;s<u;s++)r=t[s],r<o&&(o=r)}else e=x(e,n),b.each(t,function(t,n,r){i=e(t,n,r),(i<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},b.shuffle=function(t){for(var e,n=A(t)?t:b.values(t),r=n.length,i=Array(r),o=0;o<r;o++)e=b.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},b.sample=function(t,e,n){return null==e||n?(A(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,n){return e=x(e,n),b.pluck(b.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,r){var i={};return n=x(n,r),b.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};b.groupBy=T(function(t,e,n){b.has(t,n)?t[n].push(e):t[n]=[e]}),b.indexBy=T(function(t,e,n){t[n]=e}),b.countBy=T(function(t,e,n){b.has(t,n)?t[n]++:t[n]=1}),b.toArray=function(t){return t?b.isArray(t)?h.call(t):A(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:A(t)?t.length:b.keys(t).length},b.partition=function(t,e,n){e=x(e,n);var r=[],i=[];return b.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},b.first=b.head=b.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,n){return h.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},b.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,n){return h.call(t,null==e||n?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var D=function(t,e,n,r){for(var i=[],o=0,a=r||0,s=j(t);a<s;a++){var u=t[a];if(A(u)&&(b.isArray(u)||b.isArguments(u))){e||(u=D(u,e,n));var c=0,l=u.length;for(i.length+=l;c<l;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};b.flatten=function(t,e){return D(t,e,!1)},b.without=function(t){return b.difference(t,h.call(arguments,1))},b.uniq=b.unique=function(t,e,n,r){b.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=x(n,r));for(var i=[],o=[],a=0,s=j(t);a<s;a++){var u=t[a],c=n?n(u,a,t):u;e?(a&&o===c||i.push(u),o=c):n?b.contains(o,c)||(o.push(c),i.push(u)):b.contains(i,u)||i.push(u)}return i},b.union=function(){return b.uniq(D(arguments,!0,!0))},b.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=j(t);r<i;r++){var o=t[r];if(!b.contains(e,o)){for(var a=1;a<n&&b.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},b.difference=function(t){var e=D(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,j).length||0,n=Array(e),r=0;r<e;r++)n[r]=b.pluck(t,r);return n},b.object=function(t,e){for(var n={},r=0,i=j(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(t,e,n,r){n=x(n,r,1);for(var i=n(e),o=0,a=j(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var M=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=S(t.prototype),a=t.apply(o,i);return b.isObject(a)?a:o};b.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,h.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function(){return M(t,r,e,this,n.concat(h.call(arguments)))};return r},b.partial=function(t){var e=h.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),a=0;a<i;a++)o[a]=e[a]===b?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return M(t,n,this,this,o)};return n},b.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n=arguments[e],t[n]=b.bind(t[n],t);return t},b.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return b.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},b.delay=function(t,e){var n=h.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:b.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var c=b.now();s||n.leading!==!1||(s=c);var l=e-(c-s);return r=this,i=arguments,l<=0||l>e?(a&&(clearTimeout(a),a=null),s=c,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,l)),o}},b.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var c=b.now()-a;c<e&&c>=0?r=setTimeout(u,e-c):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=b.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(s=t.apply(o,i),o=i=null),s}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},b.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},b.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},b.once=b.partial(b.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(m)return m(t);var e=[];for(var n in t)b.has(t,n)&&e.push(n);return C&&o(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var n in t)e.push(n);return C&&o(t,e),e},b.values=function(t){for(var e=b.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},b.mapObject=function(t,e,n){e=x(e,n);for(var r,i=b.keys(t),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=e(t[r],r,t);return a},b.pairs=function(t){for(var e=b.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},b.invert=function(t){for(var e={},n=b.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},b.functions=b.methods=function(t){var e=[];for(var n in t)b.isFunction(t[n])&&e.push(n);return e.sort()},b.extend=k(b.allKeys),b.extendOwn=b.assign=k(b.keys),b.findKey=function(t,e,n){e=x(e,n);for(var r,i=b.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r},b.pick=function(t,e,n){var r,i,o={},a=t;if(null==a)return o;b.isFunction(e)?(i=b.allKeys(a),r=w(e,n)):(i=D(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=i.length;s<u;s++){var c=i[s],l=a[c];r(l,c,a)&&(o[c]=l)}return o},b.omit=function(t,e,n){if(b.isFunction(e))e=b.negate(e);else{var r=b.map(D(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(r,e)}}return b.pick(t,e,n)},b.defaults=k(b.allKeys,!0),b.create=function(t,e){var n=S(t);return e&&b.extendOwn(n,e),n},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var n=b.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var L=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var i=d.call(t);if(i!==d.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!L(t[u],e[u],n,r))return!1}else{var c,l=b.keys(t);if(u=l.length,b.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!b.has(e,c)||!L(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};b.isEqual=function(t,e){return L(t,e)},b.isEmpty=function(t){return null==t||(A(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length)},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=v||function(t){return"[object Array]"===d.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&p.call(t,e)},b.noConflict=function(){return a._=s,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=E,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,n){var r=Array(Math.max(0,t));e=w(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=b.invert(q),P=function(t){var e=function(e){return t[e]},n="(?:"+b.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};b.escape=P(q),b.unescape=P(R),b.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),b.isFunction(r)?r.call(t):r};var N=0;b.uniqueId=function(t){var e=++N+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+U[t]};b.template=function(t,e,n){!e&&n&&(e=n),e=b.defaults({},e,b.templateSettings);var r=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(H,Y),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,b)},u=e.variable||"obj";return s.source="function("+u+"){\n"+o+"}",s},b.chain=function(t){var e=b(t);return e._chain=!0,e};var B=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var n=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),B(this,n.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];b.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],B(this,n)}}),b.each(["concat","join","slice"],function(t){var e=u[t];b.prototype[t]=function(){return B(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],149:[function(t,e,n){e.exports={name:"capot",version:"1.3.7",author:{name:"Lupo Montero",url:"http://lupomontero.com"},license:"MIT",repository:"lupomontero/capot",homepage:"https://github.com/lupomontero/capot",scripts:{pretest:"gulp lint",test:"gulp test:server && gulp test:client"},dependencies:{async:"^2.0.1",backbone:"^1.3.3",boom:"^3.2.2",follow:"^0.12.1",good:"^7.0.1","good-console":"^6.1.2",h2o2:"^5.1.1",handlebars:"^4.0.5",hapi:"^14.2.0","hapi-auth-cookie":"^6.1.1",inert:"^4.0.2",joi:"^9.0.4",lodash:"^4.15.0",minimist:"^1.1.3",moment:"^2.14.1",multicouch:"^0.8.2",nodemailer:"^2.5.0",oauth:"^0.9.14",pouchdb:"5.4.5",promise:"^7.1.1",read:"^1.0.6",request:"^2.74.0",which:"^1.2.1"},devDependencies:{browserify:"^13.1.0",eslint:"^3.3.1","eslint-config-hapi":"^10.0.0","eslint-plugin-hapi":"^4.0.0",gulp:"^3.9.1","gulp-concat":"^2.6.0","gulp-declare":"^0.3.0","gulp-eslint":"^3.0.1","gulp-favicons":"^2.2.6","gulp-handlebars":"^4.0.0","gulp-mocha":"^3.0.1","gulp-rename":"^1.2.0","gulp-uglify":"^2.0.0","gulp-util":"^3.0.7","gulp-wrap":"^0.13.0",karma:"^1.2.0","karma-browserify":"^5.1.0","karma-env-preprocessor":"^0.1.1","karma-mocha":"^1.1.1","karma-mocha-reporter":"^2.1.0","karma-phantomjs-launcher":"^1.0.1",longjohn:"^0.2.11",lout:"^9.1.0","merge-stream":"^1.0.0",mkdirp:"^0.5.1",mocha:"^3.0.2","phantomjs-prebuilt":"^2.1.12",rimraf:"^2.5.4",sinon:"^1.17.5","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.0.0",vision:"^4.1.0",watchify:"^3.7.0"},browser:{handlebars:"handlebars/runtime.js",pouchdb:"pouchdb/dist/pouchdb.js",extend:"lodash/assignIn.js",omit:"lodash/omit.js"}}},{}]},{},[3]);