!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("../../client/ui/collection"),i=e("../models/email");t.exports=r.extend({model:i,comparator:function(e){return-1*e.get("id")}})},{"../../client/ui/collection":21,"../models/email":5}],2:[function(e,t,n){"use strict";var r=e("lodash"),i=e("../../client/ui/collection"),o=e("../models/user");t.exports=i.extend({model:o,comparator:function(e){return-1*e.get("id")},sync:function(e,t,n){var i=n.success||function(){},o=n.error||function(){},a=t.app,s=a.couch.db("_users"),u=function(e){o(null,null,e)};switch(e){case"read":s.allDocs({startkey:"org.couchdb.user:",endkey:"org.couchdb.user;",include_docs:!0}).then(function(e){i(r.pluck(e.rows,"doc"))},u)}}})},{"../../client/ui/collection":21,"../models/user":6,lodash:126}],3:[function(e,t,n){"use strict";var r=e("../client/couch"),i=e("../client/ui"),o=window.app=i({routePrefix:"_admin/",views:{index:e("./views/index"),signin:e("./views/signin"),users:e("./views/users"),config:e("./views/config"),emails:e("./views/emails"),header:e("./views/_header")},models:{user:e("./models/user"),config:e("./models/config"),email:e("./models/email")},collections:{users:e("./collections/users"),emails:e("./collections/emails")},templates:e("./templates").templates});o.couch=r("/_couch"),o.addRegion("header",{view:"header",prepend:!0,tagName:"header",className:"navbar navbar-inverse navbar-fixed-top"}),o.route("",o.requireAdmin(function(){o.showView("index")})),o.route("users",o.requireAdmin(function(){o.showView("users")})),o.route("config",o.requireAdmin(function(){o.showView("config")})),o.route("emails",o.requireAdmin(function(){o.showView("emails")})),o.route("signin",function(){o.account.isSignedIn()&&!o.account.isAdmin()?window.location.href="/":o.account.isSignedIn()?o.navigate("",{trigger:!0}):o.showView("signin")}),o.start()},{"../client/couch":15,"../client/ui":23,"./collections/emails":1,"./collections/users":2,"./models/config":4,"./models/email":5,"./models/user":6,"./templates":7,"./views/_header":8,"./views/config":9,"./views/emails":10,"./views/index":11,"./views/signin":12,"./views/users":13}],4:[function(e,t,n){"use strict";var r=e("../../client/ui/model");t.exports=r.extend({defaults:{id:"config"},sync:function(e,t,n){var r,i=n.success||function(){},o=n.error||function(){},a=t.toJSON(),s=t.app,u=s.couch.db("app"),c=function(e){o(null,null,e)};switch(e){case"read":u.get("config").then(function(e){return r=e,s.request("GET","/_oauth/available_providers")}).then(function(e){return r.oauth=r.oauth||{},r.oauth.providers=r.oauth.providers||{},r.oauth.providers=e.reduce(function(e,t){return e[t]=r.oauth.providers[t]||{enabled:!1},e},{}),r}).then(i,c);break;case"update":u.put(a).then(function(e){a._rev=e.rev,i(a)},c);break;default:o(null,null,new Error("Unsupported sync method"))}}})},{"../../client/ui/model":24}],5:[function(e,t,n){"use strict";var r=e("../../client/ui/model");t.exports=r.extend({defaults:function(){return{type:"email"}},db:"app"})},{"../../client/ui/model":24}],6:[function(e,t,n){"use strict";var r=e("../../client/ui/model");t.exports=r.extend({defaults:function(){return{type:"user"}},database:"_users"})},{"../../client/ui/model":24}],7:[function(e,t,n){this.templates=this.templates||{},this.templates.config=Handlebars.template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:{},u=n.helperMissing,c="function",l=e.escapeExpression;return"      <fieldset>\n        <h2>"+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'</h2>\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-enabled"'+(null!=(o=n["if"].call(s,null!=t?t.enabled:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))?o:"")+'> Enabled\n          </label>\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-key">Client ID</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-key" value="'+l((a=null!=(a=n.key||(null!=t?t.key:t))?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'" placeholder="Enter your '+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+' Client ID">\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-secret">Client Secret</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-secret" value="'+l((a=null!=(a=n.secret||(null!=t?t.secret:t))?a:u,typeof a===c?a.call(s,{name:"secret",hash:{},data:i}):a))+'" placeholder="Enter your '+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+' Client Secret">\n        </div>\n        <div class="form-group">\n          <label for="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-scopes">Scopes</label>\n          <input class="form-control" id="'+l((a=null!=(a=n.key||i&&i.key)?a:u,typeof a===c?a.call(s,{name:"key",hash:{},data:i}):a))+'-scopes" value="'+l((a=null!=(a=n.scopes||(null!=t?t.scopes:t))?a:u,typeof a===c?a.call(s,{name:"scopes",hash:{},data:i}):a))+'" placeholder="user:email, ...">\n        </div>\n      </fieldset>\n'},2:function(e,t,n,r,i){return"checked"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:{},s=n.helperMissing,u=e.escapeExpression,c=e.lambda;return'<h1 class="page-header">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"cog",{name:"glyphicon",hash:{},data:i}))+' Configuration</h1>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"globe",{name:"glyphicon",hash:{},data:i}))+' General</h3>\n  </div>\n  <div class="panel-body">\n    <form role="form" id="app-form">\n      <div class="form-group">\n        <label for="app-name">App name</label>\n        <input type="text" class="form-control" name="app-name"\n          id="app-name" value="'+u(c(null!=(o=null!=t?t.app:t)?o.name:o,t))+'">\n      </div>\n      <div class="form-group">\n        <label for="app-url">App URL</label>\n        <input type="text" class="form-control" name="app-url"\n          id="app-url" value="'+u(c(null!=(o=null!=t?t.app:t)?o.url:o,t))+'">\n      </div>\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"send",{name:"glyphicon",hash:{},data:i}))+' Outgoing Mail</h3>\n  </div>\n  <div class="panel-body">\n    <form role="form" id="mailer-form">\n      <div class="form-group">\n        <label for="mailer-from">From</label>\n        <input type="text" class="form-control" name="mailer-from"\n          id="mailer-from" value="'+u(c(null!=(o=null!=t?t.mailer:t)?o.from:o,t))+'">\n      </div>\n      <div class="form-group">\n        <label for="mailer-service">Service</label>\n        '+u((n.mailerServicePicker||t&&t.mailerServicePicker||s).call(a,null!=(o=null!=t?t.mailer:t)?o.service:o,{name:"mailerServicePicker",hash:{},data:i}))+'\n      </div>\n      <div class="form-group">\n        <label for="mailer-user">Username</label>\n        <input type="text" class="form-control" name="mailer-user"\n          id="mailer-user" value="'+u(c(null!=(o=null!=t?t.mailer:t)?o.user:o,t))+'">\n      </div>\n      <div class="form-group">\n        <label for="mailer-pass">Password</label>\n        <input type="password" class="form-control" name="mailer-pass"\n          id="mailer-pass" value="'+u(c(null!=(o=null!=t?t.mailer:t)?o.pass:o,t))+'">\n      </div>\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+u((n.glyphicon||t&&t.glyphicon||s).call(a,"lock",{name:"glyphicon",hash:{},data:i}))+' OAuth</h3>\n  </div>\n  <div class="panel-body">\n\n    <form role="form" id="oauth-form">\n'+(null!=(o=n.each.call(a,null!=(o=null!=t?t.oauth:t)?o.providers:o,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+'\n      <button type="submit" class="btn btn-primary">Update</button>\n    </form>\n  </div>\n</div>\n\n'},useData:!0}),Handlebars.registerPartial("email",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:{},s=n.helperMissing,u="function",c=e.escapeExpression;return'<div class="panel panel-default" data-id="'+c((o=null!=(o=n.id||(null!=t?t.id:t))?o:s,typeof o===u?o.call(a,{name:"id",hash:{},data:i}):o))+'">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+c((o=null!=(o=n.id||(null!=t?t.id:t))?o:s,typeof o===u?o.call(a,{name:"id",hash:{},data:i}):o))+'</h3>\n  </div>\n  <div class="panel-body">\n    <p>'+c((o=null!=(o=n.description||(null!=t?t.description:t))?o:s,typeof o===u?o.call(a,{name:"description",hash:{},data:i}):o))+'</p>\n    <div class="form-group">\n      <label for="subject">Subject</label>\n      <input type="text" class="form-control" id="subject" value="'+c((o=null!=(o=n.subject||(null!=t?t.subject:t))?o:s,typeof o===u?o.call(a,{name:"subject",hash:{},data:i}):o))+'">\n    </div>\n    <div class="form-group">\n      <label for="text">Text</label>\n      <textarea class="form-control" id="text" rows="8">'+c((o=null!=(o=n.text||(null!=t?t.text:t))?o:s,typeof o===u?o.call(a,{name:"text",hash:{},data:i}):o))+'</textarea>\n    </div>\n  </div>\n  <div class="panel-footer">\n    <button type="button" class="btn btn-primary" data-action="save-email">\n      '+c((n.glyphicon||t&&t.glyphicon||s).call(a,"save",{name:"glyphicon",hash:{},data:i}))+" Save\n    </button>\n  </div>\n</div>\n\n"},useData:!0})),this.templates.emails=Handlebars.template({1:function(e,t,n,r,i){var o;return null!=(o=e.invokePartial(r.email,t,{name:"email",data:i,helpers:n,partials:r,decorators:e.decorators}))?o:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o;return'<h1 class="page-header">Email Templates</h1>\n\n'+(null!=(o=n.each.call(null!=t?t:{},null!=t?t.models:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")},usePartial:!0,useData:!0}),this.templates.header=Handlebars.template({1:function(e,t,n,r,i){return'  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu">\n    <span class="sr-only">Toggle navigation</span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n  </button>\n'},3:function(e,t,n,r,i){var o=null!=t?t:{},a=n.helperMissing,s=e.escapeExpression;return'<div class="collapse navbar-collapse" id="main-menu">\n  <ul class="nav navbar-nav">\n    <li><a href="/users">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"user",{name:"glyphicon",hash:{},data:i}))+' Users</a></li>\n    <li><a href="/config">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"cog",{name:"glyphicon",hash:{},data:i}))+' Configuration</a></li>\n    <li><a href="/emails">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"envelope",{name:"glyphicon",hash:{},data:i}))+' Mail templates</a></li>\n    <li class="divider"></li>\n    <li><a href="#" data-action="signout">'+s((n.glyphicon||t&&t.glyphicon||a).call(o,"log-out",{name:"glyphicon",hash:{},data:i}))+" Sign Out</a></li>\n  </ul>\n</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:{};return'<div class="navbar-header">\n'+(null!=(o=n["if"].call(a,null!=(o=null!=t?t.userCtx:t)?o.name:o,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+'  <a class="navbar-brand" href="/">\n    <img src="favicons/favicon-32x32.png" width="24" />\n    Capot Admin\n  </a>\n</div>\n\n'+(null!=(o=n["if"].call(a,null!=(o=null!=t?t.userCtx:t)?o.name:o,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?o:"")+"\n"},useData:!0}),this.templates.index=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=e.escapeExpression,s=e.lambda;return'<h1 class="page-header">Hi Admin!</h1>\n\n<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">'+a((n.glyphicon||t&&t.glyphicon||n.helperMissing).call(null!=t?t:{},"info-sign",{name:"glyphicon",hash:{},data:i}))+' App Info</h3>\n  </div>\n  <div class="panel-body">\n    <h4>Capot</h4>\n    <p>\n      <strong>Version</strong>: '+a(s(null!=(o=null!=t?t.capot:t)?o.version:o,t))+"<br />\n    </p>\n    <h4>CouchDB</h4>\n    <p>\n      <strong>Version</strong>: "+a(s(null!=(o=null!=t?t.couchdb:t)?o.version:o,t))+"<br />\n      <strong>UUID</strong>: "+a(s(null!=(o=null!=t?t.couchdb:t)?o.uuid:o,t))+"<br />\n      <strong>Vendor</strong>: "+a(s(null!=(o=null!=(o=null!=t?t.couchdb:t)?o.vendor:o)?o.name:o,t))+" "+a(s(null!=(o=null!=(o=null!=t?t.couchdb:t)?o.vendor:o)?o.version:o,t))+"\n    </p>\n  </div>\n</div>\n\n"},useData:!0}),this.templates.signin=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<form id="signin-form">\n  <div class="form-group">\n    <label for="pass">Admin Password</label>\n    <input type="password" class="form-control" id="pass" />\n  </div>\n  <button type="submit" class="btn btn-default">Sign in</button>\n</form>\n'},useData:!0}),this.templates.users=Handlebars.template({1:function(e,t,n,r,i){var o;return"  <tr>\n    <td>"+e.escapeExpression((o=null!=(o=n.name||(null!=t?t.name:t))?o:n.helperMissing,"function"==typeof o?o.call(null!=t?t:{},{name:"name",hash:{},data:i}):o))+"</td>\n  </tr>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:{};return'<h1 class="page-header">'+e.escapeExpression((n.glyphicon||t&&t.glyphicon||n.helperMissing).call(a,"user",{name:"glyphicon",hash:{},data:i}))+' Users</h1>\n\n<table class="table table-striped table-hover">\n'+(null!=(o=n.each.call(a,null!=t?t.models:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?o:"")+"</table>\n\n"},useData:!0})},{}],8:[function(e,t,n){"use strict";var r=e("../../client/ui/view");t.exports=r.extend({className:"container",templateName:"header",initialize:function(e){var t=this,n=e.app,i=n.account;r.prototype.initialize.call(t,e);var o=function(){t.model=i.session,t.render()};i.on("init",o),i.on("signin",o),i.on("signout",o),i.on("online",o),i.on("offline",o),n.on("route",function(e){t.$("#main-menu a").each(function(){var t=$(this),n=t.attr("href");"/"===n.charAt(0)&&(n=n.slice(1)),n===e?t.parents("li").addClass("active"):t.parents("li").removeClass("active")})})},events:{'click [data-action="signout"]':"signout"},signout:function(){var e=this.app;return e.account.signOut().then(function(){window.location.href="/"},function(){console.error("signout:fail",arguments)}),!1}})},{"../../client/ui/view":26}],9:[function(e,t,n){"use strict";var r=e("lodash"),i=e("../../client/ui/view"),o=window.Handlebars;o.registerHelper("mailerServicePicker",function(e){var t='<select name="mailer-service" id="mailer-service" class="form-control">';return["Gmail","Mailgun","Mandrill","Postmark","SendGrid"].forEach(function(n){t+='<option name="'+n+'"',n===e&&(t+=" selected"),t+=">"+n+"</option>"}),t+="</select>",new o.SafeString(t)}),t.exports=i.extend({className:"container",templateName:"config",initialize:function(e){var t=this;i.prototype.initialize.call(t,e);var n=t.app,r=t.model=n.createModel("config");r.once("sync",function(){t.render()}),r.fetch()},events:{"submit #app-form":"save","submit #mailer-form":"save","submit #oauth-form":"save"},save:function(e){e.preventDefault();var t=this,n=t.model,i={name:t.$("#app-name").val(),url:t.$("#app-url").val()},o={from:t.$("#mailer-from").val(),service:t.$("#mailer-service").val(),user:t.$("#mailer-user").val(),pass:t.$("#mailer-pass").val()},a=n.get("oauth");return a.providers=Object.keys(a.providers).reduce(function(e,t){return e[t]={enabled:$("#"+t+"-enabled").is(":checked"),key:$("#"+t+"-key").val(),secret:$("#"+t+"-secret").val(),scopes:$("#"+t+"-scopes").val().split(",").map(function(e){return r.trim(e.toLowerCase())})},e},{}),n.save({app:i,mailer:o,oauth:a},{error:function(e){alert(e.reason||e.message)},success:function(){alert("Config updated!")}}),!1}})},{"../../client/ui/view":26,lodash:126}],10:[function(e,t,n){"use strict";var r=e("../../client/ui/view");t.exports=r.extend({className:"container",templateName:"emails",initialize:function(e){var t=this,n=e.app;r.prototype.initialize.call(t,e);var i=t.model=n.createCollection("emails"),o=Handlebars.partials.email;i.on("change",function(e){var n=o(e.toViewContext());t.$('[data-id="'+e.id+'"]').replaceWith(n)}),i.once("sync",function(){t.render()}),i.fetch()},events:{'click [data-action="save-email"]':"saveEmail"},saveEmail:function(e){var t=$(e.currentTarget),n=t.parents(".panel"),r=n.find("textarea"),i=n.data("id"),o=r.val(),a=this.model.get(i);a.save({text:o})}})},{"../../client/ui/view":26}],11:[function(e,t,n){"use strict";var r=e("../../client/ui/view"),i=e("../../package.json");t.exports=r.extend({className:"container",templateName:"index",initialize:function(e){var t=this,n=e.app;r.prototype.initialize.call(t,e),n.couch.get("/").then(function(e){t.model={capot:i,couchdb:e},t.render()})}})},{"../../client/ui/view":26,"../../package.json":143}],12:[function(e,t,n){"use strict";var r=e("../../client/ui/view"),i=e("../../client/couch");t.exports=r.extend({className:"container",templateName:"signin",initialize:function(e){r.prototype.initialize.call(this,e),this.render()},events:{"submit #signin-form":"submit"},submit:function(e){e.preventDefault();var t={name:"admin",password:$("#pass").val()};return i("/_couch").post("/_session",t).then(function(e){window.location.href="/_admin/"},function(e){alert(e.reason)}),!1}})},{"../../client/couch":15,"../../client/ui/view":26}],13:[function(e,t,n){"use strict";var r=e("../../client/ui/view");t.exports=r.extend({className:"container",templateName:"users",initialize:function(e){var t=this;r.prototype.initialize.call(t,e);var n=t.app,i=t.model=n.createCollection("users");i.once("sync",function(){t.render()}),i.fetch()}})},{"../../client/ui/view":26}],14:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("promise"),o={};o.couch=e("./couch")("/_couch"),o.userDocUrl=function(e){return"/_users/"+encodeURIComponent("org.couchdb.user:"+e)},o.getState=function(){return JSON.parse(window.localStorage.getItem("__capot_session"))},o.setState=function(e){window.localStorage.setItem("__capot_session",JSON.stringify(e))},t.exports=function(e){var t=new r,n=!1;t.id=function(){var e=((t.session||{}).userCtx||{}).roles||[];return e.reduce(function(e,t){var n=/^capot:write:user\/([a-z0-9]+)$/.exec(t);return n&&n[1]?n[1]:e},null)},t.signUp=function(n,r){return new i(function(i,o){var a=function(){e.request("POST","/_session",{email:n,password:r}).then(function(e){return e.roles.length?void t.init().then(i,o):setTimeout(a,1e3)},o)};return r.length<8?o(new Error("Password must be at least 8 chars long")):void e.request("POST","/_users",{email:n,password:r}).then(function(){setTimeout(a,300)},o)})},t.signIn=function(n,r){if(!n||"string"!=typeof n)throw new TypeError("Email must be a string");if(!r||"string"!=typeof r)throw new TypeError("Password must be a string");return e.request("POST","/_session",{email:n,password:r}).then(function(){return t.init()})},t.signOut=function(){return e.request("DELETE","/_session").then(function(){return t.init()})},t.changePassword=function(n,r){if(!n||"string"!=typeof n)throw new TypeError("Password must be a string");if(!r||"string"!=typeof r)throw new TypeError("New password must be a string");var a=t.session.userCtx.name,s=o.userDocUrl(a);return a?r.length<8?new i(function(e,t){t(new Error("Password must be at least 8 chars long"))}):e.request("POST","/_session",{email:a,password:n}).then(function(){return o.couch.get(s)}).then(function(e){return e.password=r,o.couch.put(s,e)}).then(function(){return t.signIn(a,r)}):new i(function(e,t){t(new Error("User is not signed in"))})},t.changeUsername=function(e,t){throw new Error("FIXME: Unimplented!")},t.resetPassword=function(t){return e.request("POST","/_users/"+t+"/_reset",{email:t,baseurl:window.location.origin})},t.destroy=function(){var n=t.session.userCtx.name,r="/_users/"+encodeURIComponent(n);return e.request("GET",r).then(function(t){return e.request("DELETE",r+"?rev="+t._rev)}).then(function(){return t.init()})},t.isSignedIn=function(){var e=(t.session||{}).userCtx||{};return"string"==typeof e.name&&e.name.length>0},t.isAdmin=function(){var e=(t.session||{}).userCtx||{};return e.roles&&e.roles.indexOf("_admin")>=0},t.isOnline=function(){return t.session&&t.session.isOnline},t.isOffline=function(){return!t.isOnline()},t.init=function(r){n?e.log("debug","refreshing account..."):e.log("debug","initializing account..."),r=r||function(){};var a=t.isOnline(),s=t.isSignedIn();return new i(function(i,u){var c=function(){o.setState(t.session),n?a&&t.isOffline()?t.emit("offline"):!a&&t.isOnline()?t.emit("online"):!s&&t.isSignedIn()?t.emit("signin"):s&&!t.isSignedIn()&&t.emit("signout"):(n=!0,t.emit("init"),window.setInterval(t.init.bind(t),3e4)),i(),r()};e.request("GET","/_session").then(function(e){t.session=e,t.session.isOnline=!0,c()},function(n){n&&e.log("error",n),t.session=o.getState()||{},t.session.isOnline=!1,c()})})},t.connectWith=function(t,n){n=n||{};var r="/_oauth/"+t;return n.redirectTo&&(r+="?redirectTo="+encodeURIComponent(n.redirectTo)),new i(function(t,n){e.request("GET",r).then(function(e){window.location.href=e.authenticateUrl},n)})},t.on("init",function(){e.request("GET","/_oauth/session").then(function(e){return"object"==typeof e.data?e.data.cookie?void t.init().then(function(){t.emit("oauth",e)}):t.emit("oauth",e):void 0},function(t){t&&e.log("error",t),401!==xhr.status&&e.log("error","Status: "+xhr.status+"\n"+xhr.responseText)})});var a=function(t){return function(){e.log("debug","account:"+t,Array.prototype.slice.call(arguments,0))}};return e.settings.debug===!0&&["init","signin","signout","offline","online"].forEach(function(e){t.on(e,a(e))}),t}},{"./couch":15,events:33,promise:134}],15:[function(e,t,n){"use strict";var r=e("pouchdb"),i=e("./request"),o={};o.createApi=function(e){var t=i(e);return{get:t.bind(null,"GET"),post:t.bind(null,"POST"),put:t.bind(null,"PUT"),del:t.bind(null,"DELETE")}},t.exports=function(e){"string"==typeof e&&(e={url:e}),/^https?:\/\//.test(e.url)||("/"===e.url.charAt(0)&&(e.url=e.url.slice(1)),e.url=window.location.origin+"/"+e.url);var t=o.createApi(e);return t.db=function(t){return new r(e.url+"/"+encodeURIComponent(t))},t.isAdminParty=function(e){t.get("/_users/_all_docs",function(t,n){t&&401===t.statusCode?e(null,!1):t?e(t):e(null,!0)})},t}},{"./request":18,pouchdb:132}],16:[function(e,t,n){"use strict";var r=e("extend"),i=e("async"),o=e("pouchdb"),a=e("./request"),s=e("./uid"),u=e("./log"),c=e("./account"),l=e("./store"),f={};f.noop=function(){},f.defaults={debug:!1},t.exports=function(e){var t=r({},f.defaults,e),n={settings:t,request:a({url:window.location.origin}),uid:s,log:u(t)},h=n.account=c(n),d=n.store=l(n);return n.log("debug","Dependencies: jQuery "+jQuery.fn.jquery+", PouchDB "+o.version),n.start=function(e){e=e||f.noop,n.log("debug","Starting capot client..."),i.applyEachSeries([i.apply(h.init),i.apply(d.init)],function(t){n.log("info",t||"Capot client successfully started"),e(t)})},n}},{"./account":14,"./log":17,"./request":18,"./store":19,"./uid":27,async:30,extend:112,pouchdb:132}],17:[function(e,t,n){"use strict";var r={};r.pad=function(e,t,n){var r=""+e;"number"!=typeof t&&(t=2),"undefined"==typeof n&&(n="0");var i=t-r.length;if(0>=i)return r;for(var o=0;i>o;++o)r=n+r;return r},r.formatDate=function(e){return[r.pad(e.getHours()),r.pad(e.getMinutes()),r.pad(e.getSeconds()),r.pad(e.getMilliseconds(),3)].join(":")},t.exports=function(e){return function(t){if("undefined"!=typeof console&&"function"==typeof console.log&&("string"==typeof t&&(t=[t]),e.debug||!(t.indexOf("debug")>=0))){var n=Array.prototype.slice.call(arguments,1);1===n.length&&(n=n[0]),"undefined"!=typeof window.console&&"function"==typeof window.console.log&&console.log(r.formatDate(new Date),t,n)}}}},{}],18:[function(e,t,n){"use strict";var r=e("promise");t.exports=function(e){return function(){var t=Array.prototype.slice.call(arguments,0),n=t.shift(),i=t.shift();return"/"!==i.charAt(0)&&(i="/"+i),new r(function(r,o){var a={type:n,url:e.url+i,dataType:"json",timeout:6e4,cache:!1,error:function(e){var t,n;0===e.status?t="Request timed out":e.responseJSON&&e.responseJSON.error?(t=e.responseJSON.error,n=e.responseJSON.reason):t=e.statusText;var r=new Error(t);r.statusCode=e.status,n&&(r.reason=n),o(r)},success:r};if(e.user&&e.pass&&(a.username=e.user,a.password=e.pass),["PUT","POST"].indexOf(n)>=0){var s=t.pop();s&&(a.data=JSON.stringify(s),a.contentType="application/json")}if(t.length){var u=t.shift(),c=Object.keys(u);a.url+=c.reduce(function(e,t){var n=JSON.stringify(u[t]);return e&&(e+="&"),e+encodeURIComponent(t)+"="+encodeURIComponent(n)},"?")}$.ajax(a)})}}},{promise:134}],19:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("promise"),o=e("pouchdb"),a=e("extend"),s=e("omit"),u=e("async"),c={};c.noop=function(){},c.assertDocType=function(e){if("string"!=typeof e)throw new Error("Model type must be a string")},c.parse=function(e){var t=e._id.split("/");return a({id:t.slice(1).join("/"),type:t[0]},s(e,["_id"]))},c.toJSON=function(e){return a({_id:e.type+"/"+e.id},s(e,["id"]))},t.exports=function(e){var t=e.account,n=new r,l=function(e,t){n.emit("sync",e,t),n.emit("sync:"+e,t)};n.sync=function(t){return t=t||c.noop,!n.remoteUrl||e.account.isOffline()?t():void n.remote.sync(n.local,{filter:function(e){return 0!==e._id.indexOf("_design")&&e.$replicate!==!1}}).on("error",l.bind(null,"error")).on("denied",function(e){console.error("sync denied",e)}).on("paused",l.bind(null,"paused")).on("active",l.bind(null,"active")).on("change",l.bind(null,"change")).on("complete",function(e){n.lastSync=e.push.end_time,e.pull.end_time>n.lastSync&&(n.lastSync=e.pull.end_time),l("complete",e),t()})},n.find=function(e,t,r){return c.assertDocType(e),r=r||{},new i(function(i,o){n.local.get(e+"/"+t).then(function(e){var t=c.parse(e);return r.attachments&&e._attachments?void n.getAttachments(e).then(function(e){t._attachments=e,i(t)}):i(t)},o)})},n.findAll=function(e,t){return c.assertDocType(e),t=t||{},new i(function(r,i){n.local.allDocs({include_docs:!0,startkey:e+"/",endkey:e+"0"}).then(function(e){var o=e.rows.map(function(e){return c.parse(e.doc)});return t.attachments?void u.each(o,function(e,t){n.getAttachments(e).then(function(n){e._attachments=n,t()},t)},function(e){return e?i(e):void r(o)}):r(o)},i)})},n.add=function(t,r){c.assertDocType(t);var o=r._attachments||{},l=Object.keys(o),f={},h=l.reduce(function(e,t){var n=o[t];return n instanceof File?f[k]=n:e[k]=n,e},{}),d=a({},s(r,["_attachments"]),{_id:t+"/"+e.uid(),createdAt:new Date,type:t});return Object.keys(h).length&&(d._attachments=h),new i(function(e,t){var r=n.local;r.put(d).then(function(n){d._rev=n.rev;var i=Object.keys(f);return i.length?void u.eachSeries(i,function(e,t){var n=d._id,i=d._rev,o=f[e],a=o.type;r.putAttachment(n,e,i,o,a,function(e,n){return e?t(e):(d._rev=n.rev,void t())})},function(n){return n?t(n):void e(c.parse(d))}):e(c.parse(d))},t)})},n.update=function(e,t,n){c.assertDocType(e)},n.remove=function(e,t){return n.find(e,t).then(function(e){return n.local.put({_deleted:!0},c.toJSON(e)._id,e._rev)})},n.removeAll=function(e){return n.findAll(e).then(function(e){var t=e.map(function(e){var t=c.toJSON(e);return t._deleted=!0,t});return n.local.bulkDocs(t)})},n.attach=function(e,t,n,r){},n.getAttachments=function(e){var t=c.toJSON(e)._id,r=e._attachments||{},o=Object.keys(r);return new i(function(e,i){return o.length?void u.each(o,function(e,i){n.local.getAttachment(t,e,function(t,n){return t?i(t):(r[e].data=n,void i())})},function(t){return t?i(t):void e(r)}):e([])})},n.init=function(r){e.log("debug","capot.store init start"),r=r||c.noop;var i=t.id()||"__capot_anon";n.local=new o(i,{auto_compaction:!0});var a=function(){var t=n.local.changes({since:"now",live:!0,include_docs:!0});t.on("change",function(e){var t=c.parse(e.doc),r=t.type;if(r){var i=function(e){n.emit(e,t,{local:!0}),n.emit(e+":"+r,t,{local:!0})};i(e.deleted||t._deleted?"remove":/^1-/.test(t._rev)?"add":"update"),i("change"),n.sync()}}),e.log("debug","capot.store init ok"),n.emit("init"),r()};t.isSignedIn()&&!t.isAdmin()?(n.remoteUrl=window.location.origin+"/_couch/"+encodeURIComponent("user/"+i),n.remote=new o(n.remoteUrl),n.sync(a)):a()},["signin","signout"].forEach(function(e){t.on(e,n.init.bind(n))});var f=function(t){return function(){e.log("debug","store:"+t,Array.prototype.slice.call(arguments,0))}};return e.settings.debug===!0&&["init","add","update","remove","change","sync"].forEach(function(e){n.on(e,f(e))}),n}},{async:30,events:33,extend:112,omit:127,pouchdb:132,promise:134}],20:[function(e,t,n){"use strict";var r=e("lodash"),i=e("backbone");t.exports=i.View.extend({el:"body",regions:{},events:{"click a":"overrideLink"},initialize:function(e){e=e||{},i.View.prototype.initialize.call(this,e),this.options=e,this.addRegion("main",{view:null,prepend:!0}),this.addRegion("notifications",{view:null}),$("html").removeClass("no-js")},addRegion:function(e,t){var n=r.extend({id:e},t||{});if(!n.$el){var i=t.tagName||"div";n.$el=$("<"+i+' id="'+n.id+'">'),t.className&&n.$el.addClass(t.className)}if(n.$el.attr("data-app-region",e),"main"===e)this.$el.prepend(n.$el);else{var o=n.prepend?"before":"after";this.regions.main.$el[o](n.$el)}this.regions[e]=n,n.view&&this.setRegionView(e,n.view)},setRegionView:function(e,t){var n=this.regions[e],r=n.$el[0];if(!n)throw new Error("Unknown region: "+e);if(!t)throw new Error("No view passed to AppView.setRegionView()");"string"==typeof t&&(t=this.model.createView(t)),t.$el&&!$.contains(r,t.$el)&&n.$el.html(t.$el),n.view=t,this.trigger("region:view",n)},overrideLink:function(e){var t=this.model,n=$(e.currentTarget).attr("href"),i=n.substr(1);if("#"!==n.charAt(0)){var o=r.find(r.keys(t.routes),function(e){return t._routeToRegExp(e).test(i)});"string"==typeof o&&(e.preventDefault(),t.navigate(i,{trigger:!0}))}}})},{backbone:31,lodash:126}],21:[function(e,t,n){"use strict";var r=e("backbone"),i=e("./model"),o=e("lodash"),a={};a.remoteSync=function(e,t,n,r){var i=e.app,a=i.account,s=t.db||"user/"+a.id(),u="/_couch/"+encodeURIComponent(s),c=n+(r.idStartsWith?"/"+r.idStartsWith:""),l={include_docs:!0,startkey:c+(r.descending?"0":"/"),endkey:c+(r.descending?"/":"0")};return o.each(["limit","start","descending"],function(e){r[e]&&(l[e]=r[e])}),i.request("GET",u+"/_all_docs",l).then(function(e){return o.map(e.rows,function(e){var t=e.doc,n=t._id.split("/");return t.id=n.slice(1).join("/"),delete t._id,t})})},a.localSync=function(e,t,n){return e.app.store.findAll(n)},t.exports=r.Collection.extend({model:i,initialize:function(e,t){this.app=t.app,r.Collection.prototype.initialize.call(this,e,t)},comparator:function(e){return-1*e.get("createdAt")},toViewContext:function(){return{models:this.map(function(e){return e.toViewContext?e.toViewContext():e})}},
sync:function(e,t,n){var r=n.success||function(){},i=n.error||function(){},o=new t.model,s=o.get("type");"read"!==e&&i(null,null,new Error("Sync method not supported"));var u=o.remote||o.db?a.remoteSync:a.localSync;u(t,o,s,n).then(r,function(e){i(null,null,e)})}})},{"./model":24,backbone:31,lodash:126}],22:[function(e,t,n){"use strict";var r=e("moment"),i=window.Handlebars;i.registerHelper("log",function(e){var t=Array.prototype.slice.call(arguments,0,arguments.length-1);console.log.apply(console,t)}),i.registerHelper("formatDate",function(e,t){return 2===arguments.length&&(t="lll"),new i.SafeString(r(e).format(t))}),i.registerHelper("fromNow",function(e){return new i.SafeString(r(e).fromNow())}),i.registerHelper("glyphicon",function(e){var t='<span class="glyphicon glyphicon-'+e+'"> </span>';return new i.SafeString(t)})},{moment:131}],23:[function(e,t,n){"use strict";var r=window.jQuery||window.$,i=window.Backbone=e("backbone");window.Handlebars=e("handlebars"),i.$=r;var o=e("./router");t.exports=function(e){return new o(e)}},{"./router":25,backbone:31,handlebars:52}],24:[function(e,t,n){"use strict";var r=e("lodash"),i=e("backbone"),o=e("moment"),a={};a.isISODateString=function(e){var t=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;return"string"==typeof e&&t.test(e)},a.remoteSync=function(e,t){return void console.log("oh my god!")},a.localSync=function(e,t){var n=t.get("type"),r=(t.app||t.collection.app).store;if("create"===e)return r.add(n,t.toJSON());if("read"===e)return r.find(n,t.id);if("update"!==e){if("delete"===e)return r.remove(n,t.id);throw new Error("Unsupported model sync method")}},t.exports=i.Model.extend({db:null,replicate:!0,remote:!1,initialize:function(e,t){i.Model.prototype.initialize.call(this,e,t),t&&t.app&&(this.app=t.app)},toViewContext:function(){return r.extend({},this.attributes)},parse:function(e){return r.reduce(e,function(e,t,n){return"$replicate"===n?e:(e[n]=a.isISODateString(t)?o(t).toDate():t,e)},{})},toJSON:function(){return r.extend({},this.attributes,{$replicate:this.replicate!==!1})},sync:function(e,t,n){var r=n.success||function(){},i=n.error||function(){},o=this.remote||this.db?a.remoteSync:a.localSync;o(e,t).then(r,function(e){i(null,null,e)})}})},{backbone:31,lodash:126,moment:131}],25:[function(e,t,n){"use strict";var r=e("lodash"),i=e("backbone"),o=e("./app-view"),a=e("./view"),s={};s.getProp=function(e,t){if(!t)return e;var n=t.split("/"),i=n.shift();return e&&e.hasOwnProperty(i)?r.isObject(e[i])?s.getProp(e[i],n.join("/")):e[i]:null};var u=["routePrefix","collections","models","views","templates"];t.exports=i.Router.extend({routePrefix:"",collections:{},models:{},views:{},templates:null,initialize:function(t){var n=this,a=t.capot||e("../")(r.omit(t,u)),s=a.start.bind(a);a.log("debug","Dependencies: Lodash: "+r.VERSION+", Backbone "+i.VERSION+", Handlebars: "+Handlebars.VERSION),i.Router.prototype.initialize.call(n,t),u.forEach(function(e){"undefined"!=typeof t[e]&&(n[e]=t[e])}),r.extend(n,a,{view:new o({model:n}),start:function(){s(function(e){if(e)throw e;i.history.start({pushState:!0})})}}),n.routes||(n.routes={}),n.view.on("region:view",function(e){$("html").attr("class",e.view.templateName)})},route:function(e,t,n){var r=this.routePrefix||"";return 2===arguments.length&&(n=t,t=e),this.routes[e]=n,i.Router.prototype.route.call(this,r+e,t,n)},navigate:function(e,t){var n=this.routePrefix||"";return i.Router.prototype.navigate.call(this,n+e,t)},addRegion:function(e,t){this.view.addRegion(e,t)},setMainView:function(e){var t=(this.view.regions.main||{}).view;t&&t.unsubscribeFromGlobalEvents&&t.unsubscribeFromGlobalEvents(),this.view.setRegionView("main",e),e.subscribeToGlobalEvents()},showView:function(e,t){var n;if(r.isFunction(e)&&e instanceof a)n=e;else if(r.isString(e)&&(n=s.getProp(this.views,e),!n))throw new Error('Unknown view: "'+e+'"');var i=new n(r.extend({app:this},t));return this.setMainView(i),i},showTemplate:function(e){var t=a.extend({templateName:e}),n=new t({app:this});this.setMainView(n),n.render()},requireCondition:function(e,t,n){var r=this;return function(){return e()?void n.apply(this,Array.prototype.slice.call(arguments,0)):r.navigate(t,{trigger:!0})}},requireSignIn:function(e,t){var n=this;return 1===arguments.length&&(t=e,e="signin"),n.requireCondition(function(){return n.account.isSignedIn()},e,t)},requireSignOut:function(e,t){var n=this;return 1===arguments.length&&(t=e,e="dashboard"),n.requireCondition(function(){return n.account.isSignedIn()!==!0},e,t)},requireAdmin:function(e,t){var n=this;return 1===arguments.length&&(t=e,e="signin"),n.requireCondition(function(){return n.account.isAdmin()},e,t)},createView:function(e,t){var n=this.views[e];return new n(r.extend({},t,{app:this}))},createCollection:function(e,t,n){var i=this.collections[e];return new i(t,r.extend({},n,{app:this}))},createModel:function(e,t,n){var i=this.models[e];return new i(t,r.extend({},n,{app:this}))}})},{"../":16,"./app-view":20,"./view":26,backbone:31,lodash:126}],26:[function(e,t,n){"use strict";var r=e("lodash"),i=e("backbone");e("./helpers");var o={};o.getProp=function(e,t){if(!t)return e;var n=t.split("/"),i=n.shift();return e&&e.hasOwnProperty(i)?r.isObject(e[i])?o.getProp(e[i],n.join("/")):e[i]:null},t.exports=i.View.extend({templateName:null,template:null,locals:{},initialize:function(e){i.View.prototype.initialize.call(this,e),this.app=e.app,this.render=r.debounce(this.render,100),this.locals=r.extend(this.locals,e.locals||{})},render:function(e){var t=this.templateName,n=this.app;if(t){var i=o.getProp(n.templates,t);return r.isFunction(i)?(e=e||this.model||{},r.isFunction(e.toViewContext)?e=e.toViewContext():e.attributes?e=e.attributes:r.isArray(e)&&(e={models:r.map(e,function(e){return e.toViewContext?e.toViewContext():e})}),this.$el.html($.trim(i(r.extend({},this.locals,e)))),this.trigger("render"),this):(n.log("error","Template "+t+" not loaded!"),this)}},back:function(e){e.preventDefault(),e.stopPropagation(),window.history.back()},subscribeToGlobalEvents:function(){var e=this;r.each(e._getGlobalEventsHandlers(e.cid),function(e){e.src.on(e.name,e.fn),console.log("View subscribing to global event "+e.name)})},unsubscribeFromGlobalEvents:function(){r.each(this._getGlobalEventsHandlers(this.cid),function(e){e.src.removeListener(e.name,e.fn),console.log("View unsubscribing from global event "+e.name)})},_getGlobalEventsHandlers:r.memoize(function(){var e=this;return r.reduce(e.globalEvents,function(t,n,i){var o=i.split(" "),a=o[0],s=e[n],u={name:o[1]};return r.isFunction(s)?(u.fn=s.bind(e),"account"===a?(u.src=e.app.account,t.push(u)):"store"===a?(u.src=e.app.store,t.push(u)):"task"===a&&(u.src=e.app.task,t.push(u)),t):void 0},[])})})},{"./helpers":22,backbone:31,lodash:126}],27:[function(e,t,n){"use strict";var r={chars:"0123456789abcdefghijklmnopqrstuvwxyz".split("")};t.exports=function(e){var t="",n=r.chars.length;void 0===e&&(e=7);for(var i=0;e>i;++i){var o=Math.random()*n,a=r.chars[Math.floor(o)];t+=String(a).charAt(0)}return t}},{}],28:[function(e,t,n){"use strict";function r(){if(u.length)throw u.shift()}function i(e){var t;t=s.length?s.pop():new o,t.task=e,a(t)}function o(){this.task=null}var a=e("./raw"),s=[],u=[],c=a.makeRequestCallFromTimer(r);t.exports=i,o.prototype.call=function(){try{this.task.call()}catch(e){i.onerror?i.onerror(e):(u.push(e),c())}finally{this.task=null,s[s.length]=this}}},{"./raw":29}],29:[function(e,t,n){(function(e){"use strict";function n(e){s.length||(a(),u=!0),s[s.length]=e}function r(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>l){for(var t=0,n=s.length-c;n>t;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0,u=!1}function i(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function o(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}t.exports=n;var a,s=[],u=!1,c=0,l=1024,f=e.MutationObserver||e.WebKitMutationObserver;a="function"==typeof f?i(r):o(r),n.requestFlush=a,n.makeRequestCallFromTimer=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,n){(function(e,n){!function(){function r(){}function i(e){return e}function o(e){return!!e}function a(e){return!e}function s(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function u(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}function c(e){return F(e)||"number"==typeof e.length&&e.length>=0&&e.length%1===0}function l(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n,e)}function f(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function h(e){return f(Array(e),function(e,t){return t})}function d(e,t,n){return l(e,function(e,r,i){n=t(n,e,r,i)}),n}function p(e,t){l(H(e),function(n){t(e[n],n)})}function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function m(e){var t,n,r=-1;return c(e)?(t=e.length,function(){return r++,t>r?r:null}):(n=H(e),t=n.length,function(){return r++,t>r?n[r]:null})}function g(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;n>i;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r)}}}function y(e){return function(t,n,r){return e(t,r)}}function _(e){return function(t,n,i){i=u(i||r),t=t||[];var o=m(t);if(0>=e)return i(null);var a=!1,c=0,l=!1;!function f(){if(a&&0>=c)return i(null);for(;e>c&&!l;){var r=o();if(null===r)return a=!0,void(0>=c&&i(null));c+=1,n(t[r],r,s(function(e){c-=1,e?(i(e),l=!0):f()}))}}()}}function b(e){return function(t,n,r){return e(R.eachOf,t,n,r)}}function w(e){return function(t,n,r,i){return e(_(n),t,r,i)}}function x(e){return function(t,n,r){return e(R.eachOfSeries,t,n,r)}}function k(e,t,n,i){i=u(i||r),t=t||[];var o=c(t)?[]:{};e(t,function(e,t,r){n(e,function(e,n){o[t]=n,r(e)})},function(e){i(e,o)})}function S(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n){n&&i.push({index:t,value:e}),r()})},function(){r(f(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function E(e,t,n,r){S(e,t,function(e,t){n(e,function(e){t(!e)})},r)}function O(e,t,n){return function(r,i,o,a){function s(){a&&a(n(!1,void 0))}function u(e,r,i){return a?void o(e,function(r){a&&t(r)&&(a(n(!0,e)),a=o=!1),i()}):i()}arguments.length>3?e(r,i,u,s):(a=o,o=i,e(r,u,s))}}function A(e,t){return t}function j(e,t,n){n=n||r;var i=c(t)?[]:{};e(t,function(e,t,n){e(g(function(e,r){r.length<=1&&(r=r[0]),i[t]=r,n(e)}))},function(e){n(e,i)})}function T(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(e,t){i=i.concat(t||[]),r(e)})},function(e){r(e,i)})}function D(e,t,n){function i(e,t,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");return e.started=!0,F(t)||(t=[t]),0===t.length&&e.idle()?R.setImmediate(function(){e.drain()}):(l(t,function(t){var o={data:t,callback:i||r};n?e.tasks.unshift(o):e.tasks.push(o),e.tasks.length===e.concurrency&&e.saturated()}),void R.setImmediate(e.process))}function o(e,t){return function(){a-=1;var n=!1,r=arguments;l(t,function(e){l(u,function(t,r){t!==e||n||(u.splice(r,1),n=!0)}),e.callback.apply(e,r)}),e.tasks.length+a===0&&e.drain(),e.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var a=0,u=[],c={tasks:[],concurrency:t,payload:n,saturated:r,empty:r,drain:r,started:!1,paused:!1,push:function(e,t){i(c,e,!1,t)},kill:function(){c.drain=r,c.tasks=[]},unshift:function(e,t){i(c,e,!0,t)},process:function(){for(;!c.paused&&a<c.concurrency&&c.tasks.length;){var t=c.payload?c.tasks.splice(0,c.payload):c.tasks.splice(0,c.tasks.length),n=f(t,function(e){return e.data});0===c.tasks.length&&c.empty(),a+=1,u.push(t[0]);var r=s(o(c,t));e(n,r)}},length:function(){return c.tasks.length},running:function(){return a},workersList:function(){return u},idle:function(){return c.tasks.length+a===0},pause:function(){c.paused=!0},resume:function(){if(c.paused!==!1){c.paused=!1;for(var e=Math.min(c.concurrency,c.tasks.length),t=1;e>=t;t++)R.setImmediate(c.process)}}};return c}function M(e){return g(function(t,n){t.apply(null,n.concat([g(function(t,n){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&l(n,function(t){console[e](t)}))})]))})}function I(e){return function(t,n,r){e(h(t),n,r)}}function C(e){return g(function(t,n){var r=g(function(n){var r=this,i=n.pop();return e(t,function(e,t,i){e.apply(r,n.concat([i]))},i)});return n.length?r.apply(this,n):r})}function q(e){return g(function(t){var n=t.pop();t.push(function(){var e=arguments;r?R.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var r=!0;e.apply(this,t),r=!1})}var L,R={},P="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n||this;null!=P&&(L=P.async),R.noConflict=function(){return P.async=L,R};var N=Object.prototype.toString,F=Array.isArray||function(e){return"[object Array]"===N.call(e)},U=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},H=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},Y="function"==typeof setImmediate&&setImmediate,B=Y?function(e){Y(e)}:function(e){setTimeout(e,0)};"object"==typeof e&&"function"==typeof e.nextTick?R.nextTick=e.nextTick:R.nextTick=B,R.setImmediate=Y?B:R.nextTick,R.forEach=R.each=function(e,t,n){return R.eachOf(e,y(t),n)},R.forEachSeries=R.eachSeries=function(e,t,n){return R.eachOfSeries(e,y(t),n)},R.forEachLimit=R.eachLimit=function(e,t,n,r){return _(t)(e,y(n),r)},R.forEachOf=R.eachOf=function(e,t,n){function i(e){c--,e?n(e):null===o&&0>=c&&n(null)}n=u(n||r),e=e||[];for(var o,a=m(e),c=0;null!=(o=a());)c+=1,t(e[o],o,s(i));0===c&&n(null)},R.forEachOfSeries=R.eachOfSeries=function(e,t,n){function i(){var r=!0;return null===a?n(null):(t(e[a],a,s(function(e){if(e)n(e);else{if(a=o(),null===a)return n(null);r?R.setImmediate(i):i()}})),void(r=!1))}n=u(n||r),e=e||[];var o=m(e),a=o();i()},R.forEachOfLimit=R.eachOfLimit=function(e,t,n,r){_(t)(e,n,r)},R.map=b(k),R.mapSeries=x(k),R.mapLimit=w(k),R.inject=R.foldl=R.reduce=function(e,t,n,r){R.eachOfSeries(e,function(e,r,i){n(t,e,function(e,n){t=n,i(e)})},function(e){r(e,t)})},R.foldr=R.reduceRight=function(e,t,n,r){var o=f(e,i).reverse();R.reduce(o,t,n,r)},R.transform=function(e,t,n,r){3===arguments.length&&(r=n,n=t,t=F(e)?[]:{}),R.eachOf(e,function(e,r,i){n(t,e,r,i)},function(e){r(e,t)})},R.select=R.filter=b(S),R.selectLimit=R.filterLimit=w(S),R.selectSeries=R.filterSeries=x(S),R.reject=b(E),R.rejectLimit=w(E),R.rejectSeries=x(E),R.any=R.some=O(R.eachOf,o,i),R.someLimit=O(R.eachOfLimit,o,i),R.all=R.every=O(R.eachOf,a,a),R.everyLimit=O(R.eachOfLimit,a,a),R.detect=O(R.eachOf,i,A),R.detectSeries=O(R.eachOfSeries,i,A),R.detectLimit=O(R.eachOfLimit,i,A),R.sortBy=function(e,t,n){function r(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0}R.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){return e?n(e):void n(null,f(t.sort(r),function(e){return e.value}))})},R.auto=function(e,t,n){function i(e){y.unshift(e)}function o(e){var t=v(y,e);t>=0&&y.splice(t,1)}function a(){c--,l(y.slice(0),function(e){e()})}"function"==typeof arguments[1]&&(n=t,t=null),n=u(n||r);var s=H(e),c=s.length;if(!c)return n(null);t||(t=c);var f={},h=0,m=!1,y=[];i(function(){c||n(null,f)}),l(s,function(r){function s(){return t>h&&d(_,function(e,t){return e&&f.hasOwnProperty(t)},!0)&&!f.hasOwnProperty(r)}function u(){s()&&(h++,o(u),l[l.length-1](y,f))}if(!m){for(var c,l=F(e[r])?e[r]:[e[r]],y=g(function(e,t){if(h--,t.length<=1&&(t=t[0]),e){var i={};p(f,function(e,t){i[t]=e}),i[r]=t,m=!0,n(e,i)}else f[r]=t,R.setImmediate(a)}),_=l.slice(0,l.length-1),b=_.length;b--;){if(!(c=e[_[b]]))throw new Error("Has nonexistent dependency in "+_.join(", "));if(F(c)&&v(c,r)>=0)throw new Error("Has cyclic dependencies")}s()?(h++,l[l.length-1](y,f)):i(u)}})},R.retry=function(e,t,n){function r(e,t){if("number"==typeof t)e.times=parseInt(t,10)||o;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||o,e.interval=parseInt(t.interval,10)||a}}function i(e,t){function n(e,n){return function(r){e(function(e,t){r(!e||n,{err:e,result:t})},t)}}function r(e){return function(t){setTimeout(function(){t(null)},e)}}for(;u.times;){var i=!(u.times-=1);s.push(n(u.task,i)),!i&&u.interval>0&&s.push(r(u.interval))}R.series(s,function(t,n){n=n[n.length-1],(e||u.callback)(n.err,n.result)})}var o=5,a=0,s=[],u={times:o,interval:a},c=arguments.length;if(1>c||c>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=c&&"function"==typeof e&&(n=t,t=e),"function"!=typeof e&&r(u,e),u.callback=n,u.task=t,u.callback?i():i},R.waterfall=function(e,t){function n(e){return g(function(r,i){if(r)t.apply(null,[r].concat(i));else{var o=e.next();o?i.push(n(o)):i.push(t),q(e).apply(null,i)}})}if(t=u(t||r),!F(e)){var i=new Error("First argument to waterfall must be an array of functions");return t(i)}return e.length?void n(R.iterator(e))():t()},R.parallel=function(e,t){j(R.eachOf,e,t)},R.parallelLimit=function(e,t,n){j(_(t),e,n)},R.series=function(e,t){j(R.eachOfSeries,e,t)},R.iterator=function(e){function t(n){function r(){return e.length&&e[n].apply(null,arguments),r.next()}return r.next=function(){return n<e.length-1?t(n+1):null},r}return t(0)},R.apply=g(function(e,t){return g(function(n){return e.apply(null,t.concat(n))})}),R.concat=b(T),R.concatSeries=x(T),R.whilst=function(e,t,n){if(n=n||r,e()){var i=g(function(r,o){r?n(r):e.apply(this,o)?t(i):n.apply(null,[null].concat(o))});t(i)}else n(null)},R.doWhilst=function(e,t,n){var r=0;return R.whilst(function(){return++r<=1||t.apply(this,arguments)},e,n)},R.until=function(e,t,n){return R.whilst(function(){return!e.apply(this,arguments)},t,n)},R.doUntil=function(e,t,n){return R.doWhilst(e,function(){return!t.apply(this,arguments)},n)},R.during=function(e,t,n){n=n||r;var i=g(function(t,r){t?n(t):(r.push(o),e.apply(this,r))}),o=function(e,r){e?n(e):r?t(i):n(null)};e(o)},R.doDuring=function(e,t,n){var r=0;R.during(function(e){r++<1?e(null,!0):t.apply(this,arguments)},e,n)},R.queue=function(e,t){var n=D(function(t,n){e(t[0],n)},t,1);return n},R.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){for(var r=-1,i=e.length-1;i>r;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function o(e,t,o,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");return e.started=!0,F(t)||(t=[t]),0===t.length?R.setImmediate(function(){e.drain()}):void l(t,function(t){var s={data:t,priority:o,callback:"function"==typeof a?a:r};e.tasks.splice(i(e.tasks,s,n)+1,0,s),e.tasks.length===e.concurrency&&e.saturated(),R.setImmediate(e.process)})}var a=R.queue(e,t);return a.push=function(e,t,n){o(a,e,t,n)},delete a.unshift,a},R.cargo=function(e,t){return D(e,1,t)},R.log=M("log"),R.dir=M("dir"),R.memoize=function(e,t){var n={},r={},o=Object.prototype.hasOwnProperty;t=t||i;var a=g(function(i){var a=i.pop(),s=t.apply(null,i);o.call(n,s)?R.setImmediate(function(){a.apply(null,n[s])}):o.call(r,s)?r[s].push(a):(r[s]=[a],e.apply(null,i.concat([g(function(e){n[s]=e;var t=r[s];delete r[s];for(var i=0,o=t.length;o>i;i++)t[i].apply(null,e)})])))});return a.memo=n,a.unmemoized=e,a},R.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},R.times=I(R.map),R.timesSeries=I(R.mapSeries),R.timesLimit=function(e,t,n,r){return R.mapLimit(h(e),t,n,r)},R.seq=function(){var e=arguments;return g(function(t){var n=this,i=t[t.length-1];"function"==typeof i?t.pop():i=r,R.reduce(e,t,function(e,t,r){t.apply(n,e.concat([g(function(e,t){r(e,t)})]))},function(e,t){i.apply(n,[e].concat(t))})})},R.compose=function(){return R.seq.apply(null,Array.prototype.reverse.call(arguments))},R.applyEach=C(R.eachOf),R.applyEachSeries=C(R.eachOfSeries),R.forever=function(e,t){function n(e){return e?i(e):void o(n)}var i=s(t||r),o=q(e);n()},R.ensureAsync=q,R.constant=g(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),R.wrapSync=R.asyncify=function(e){return g(function(t){var n,r=t.pop();try{n=e.apply(this,t)}catch(i){return r(i)}U(n)&&"function"==typeof n.then?n.then(function(e){r(null,e)})["catch"](function(e){r(e.message?e:new Error(e))}):r(null,n)})},"object"==typeof t&&t.exports?t.exports=R:"function"==typeof define&&define.amd?define([],function(){return R}):P.async=R}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:133}],31:[function(e,t,n){(function(t){!function(r){var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,t,n){i.Backbone=r(i,n,e,t)});else if("undefined"!=typeof n){var o,a=e("underscore");try{o=e("jquery")}catch(s){}r(i,n,a,o)}else i.Backbone=r(i,{},i._,i.jQuery||i.Zepto||i.ender||i.$)}(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.3.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],u(e,this),i)};case 4:return function(e,i,o){return n[t](this[r],u(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},s=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=a(t,i,r))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?c(e):n.isString(e)?function(t){return t.get(e)}:e},c=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},f=/\s+/,h=function(e,t,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)t=h(e,t,a[s],r[a[s]],o)}else if(r&&f.test(r))for(a=r.split(f);s<a.length;s++)t=e(t,a[s],i,o);else t=e(t,r,i,o);return t};l.on=function(e,t,n){return d(this,e,t,n)};var d=function(e,t,n,r,i){if(e._events=h(p,e._events||{},t,n,{context:r,ctx:e,listening:i}),i){var o=e._listeners||(e._listeners={});o[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:e,objId:i,id:s,listeningTo:o,count:0}}return d(e,t,r,this,a),this};var p=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return e};l.off=function(e,t,n){return this._events?(this._events=h(v,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(t,r,this)}return this};var v=function(e,t,r,i){if(e){var o,a=0,s=i.context,u=i.listeners;if(t||r||s){for(var c=t?[t]:n.keys(e);a<c.length;a++){t=c[a];var l=e[t];if(!l)break;for(var f=[],h=0;h<l.length;h++){var d=l[h];r&&r!==d.callback&&r!==d.callback._callback||s&&s!==d.context?f.push(d):(o=d.listening,o&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId]))}f.length?e[t]=f:delete e[t]}return e}for(var p=n.keys(u);a<p.length;a++)o=u[p[a]],delete u[o.id],delete o.listeningTo[o.objId]}};l.once=function(e,t,r){var i=h(m,{},e,t,n.bind(this.off,this));return"string"==typeof e&&null==r&&(t=void 0),this.on(i,t,r)},l.listenToOnce=function(e,t,r){var i=h(m,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var m=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};l.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;t>r;r++)n[r]=arguments[r+1];return h(g,this._events,e,void 0,n),this};var g=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&y(i,r),o&&y(o,[t].concat(r))}return e},y=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var _=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,f=this._previousAttributes;for(var h in i)t=i[h],n.isEqual(c[h],t)||s.push(h),n.isEqual(f[h],t)?delete l[h]:l[h]=t,o?delete c[h]:c[h]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var d=0;d<s.length;d++)this.trigger("change:"+s[d],this,c[s[d]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var o=e[i];n.isEqual(t[i],o)||(r[i]=o)}return n.size(r)?r:!1},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;return t.set(i,e)?(r&&r.call(e.context,t,n,e),void t.trigger("sync",t,n,e)):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(e){a.attributes=u;var t=r.parse?a.parse(e,r):e;return o&&(t=n.extend({},i,t)),t&&!a.set(t,r)?!1:(s&&s.call(r.context,a,e,r),void a.trigger("sync",a,e,r))},H(this,r),i&&o&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(H(this,e),a=this.sync("delete",this,e)),i||o(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||U();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(_,b,"attributes");var w=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},x={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1},S=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;o>r;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(w.prototype,l,{model:_,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,k))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){t=n.extend({},x,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),0>i&&(i+=this.length+1);var o,a,s=[],u=[],c=[],l=[],f={},h=t.add,d=t.merge,p=t.remove,v=!1,m=this.comparator&&null==i&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null;for(a=0;a<e.length;a++){o=e[a];var y=this.get(o);if(y){if(d&&o!==y){var _=this._isModel(o)?o.attributes:o;t.parse&&(_=y.parse(_,t)),y.set(_,t),c.push(y),m&&!v&&(v=y.hasChanged(g))}f[y.cid]||(f[y.cid]=!0,s.push(y)),e[a]=y}else h&&(o=e[a]=this._prepareModel(o,t),o&&(u.push(o),this._addReference(o,t),f[o.cid]=!0,s.push(o)))}if(p){for(a=0;a<this.length;a++)o=this.models[a],f[o.cid]||l.push(o);l.length&&this._removeModels(l,t)}var b=!1,w=!m&&h&&p;if(s.length&&w?(b=this.length!==s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,S(this.models,s,0),this.length=this.models.length):u.length&&(m&&(v=!0),S(this.models,u,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!t.silent){for(a=0;a<u.length;a++)null!=i&&(t.index=i+a),o=u[a],o.trigger("add",o,this,t);(v||b)&&this.trigger("sort",this,t),(u.length||l.length||c.length)&&(t.changes={added:u,removed:l,merged:c},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){return null!=e?this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]:void 0},has:function(e){return null!=this.get(e)},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0);
},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(e=this._prepareModel(e,t),!e)return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var E={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};s(w,E,"models");var O=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,j)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,j=["model","collection","el","id","attributes","className","tagName","events"];n.extend(O.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(A);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var o=T[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||U()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,u&&u.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(a,i));return r.trigger("request",r,c,i),c};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var D=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,C=/\*\w+/g,q=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);o.execute(i,a,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),t.history.trigger("route",o,r,a))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(q,"\\$&").replace(M,"(?:$1)?").replace(I,function(e,t){return t?e:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var L=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,N=/#.*$/;L.started=!1,n.extend(L.prototype,l,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(R,"")},start:function(e){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})):!1},navigate:function(e,t){if(!L.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;if(e=this.decodeFragment(e.replace(N,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new L;var F=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};_.extend=w.extend=D.extend=O.extend=L.extend=F;var U=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:32,underscore:142}],32:[function(e,t,n){},{}],33:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(){var e=new s.HandlebarsEnvironment;return d.extend(e,s),e.SafeString=c["default"],e.Exception=f["default"],e.Utils=d,e.escapeExpression=d.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}n.__esModule=!0;var a=e("./handlebars/base"),s=i(a),u=e("./handlebars/safe-string"),c=r(u),l=e("./handlebars/exception"),f=r(l),h=e("./handlebars/utils"),d=i(h),p=e("./handlebars/runtime"),v=i(p),m=e("./handlebars/no-conflict"),g=r(m),y=o();y.create=o,g["default"](y),y["default"]=y,n["default"]=y,t.exports=n["default"]},{"./handlebars/base":35,"./handlebars/exception":38,"./handlebars/no-conflict":48,"./handlebars/runtime":49,"./handlebars/safe-string":50,"./handlebars/utils":51}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},u.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}n.__esModule=!0,n.HandlebarsEnvironment=i;var o=e("./utils"),a=e("./exception"),s=r(a),u=e("./helpers"),c=e("./decorators"),l=e("./logger"),f=r(l),h="4.0.5";n.VERSION=h;var d=7;n.COMPILER_REVISION=d;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};n.REVISION_CHANGES=p;var v="[object Object]";i.prototype={constructor:i,logger:f["default"],log:f["default"].log,registerHelper:function(e,t){if(o.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===v)o.extend(this.partials,e);else{if("undefined"==typeof t)throw new s["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===v){if(t)throw new s["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var m=f["default"].log;n.log=m,n.createFrame=o.createFrame,n.logger=f["default"]},{"./decorators":36,"./exception":38,"./helpers":39,"./logger":47,"./utils":51}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){a["default"](e)}n.__esModule=!0,n.registerDefaultDecorators=i;var o=e("./decorators/inline"),a=r(o)},{"./decorators/inline":37}],37:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerDecorator("inline",function(e,t,n,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(i,o);return n.partials=a,s}),t.partials[i.args[0]]=i.fn,o})},t.exports=n["default"]},{"../utils":51}],38:[function(e,t,n){"use strict";function r(e,t){var n=t&&t.loc,o=void 0,a=void 0;n&&(o=n.start.line,a=n.start.column,e+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,e),u=0;u<i.length;u++)this[i[u]]=s[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r),n&&(this.lineNumber=o,this.column=a)}n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,n["default"]=r,t.exports=n["default"]},{}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){a["default"](e),u["default"](e),l["default"](e),h["default"](e),p["default"](e),m["default"](e),y["default"](e)}n.__esModule=!0,n.registerDefaultHelpers=i;var o=e("./helpers/block-helper-missing"),a=r(o),s=e("./helpers/each"),u=r(s),c=e("./helpers/helper-missing"),l=r(c),f=e("./helpers/if"),h=r(f),d=e("./helpers/log"),p=r(d),v=e("./helpers/lookup"),m=r(v),g=e("./helpers/with"),y=r(g)},{"./helpers/block-helper-missing":40,"./helpers/each":41,"./helpers/helper-missing":42,"./helpers/if":43,"./helpers/log":44,"./helpers/lookup":45,"./helpers/with":46}],40:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)})},t.exports=n["default"]},{"../utils":51}],41:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../utils"),o=e("../exception"),a=r(o);n["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,o){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!o,l&&(c.contextPath=l+t)),u+=r(e[t],{data:c,blockParams:i.blockParams([e[t],t],[l+t,null])})}if(!t)throw new a["default"]("Must pass iterator to #each");var r=t.fn,o=t.inverse,s=0,u="",c=void 0,l=void 0;if(t.data&&t.ids&&(l=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(c=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var f=e.length;f>s;s++)s in e&&n(s,s,s===e.length-1);else{var h=void 0;for(var d in e)e.hasOwnProperty(d)&&(void 0!==h&&n(h,s-1),h=d,s++);void 0!==h&&n(h,s-1,!0)}return 0===s&&(u=o(this)),u})},t.exports=n["default"]},{"../exception":38,"../utils":51}],42:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../exception"),o=r(i);n["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=n["default"]},{"../exception":38}],43:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerHelper("if",function(e,t){return r.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=n["default"]},{"../utils":51}],44:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)})},t.exports=n["default"]},{}],45:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},t.exports=n["default"]},{}],46:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("../utils");n["default"]=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=r.createFrame(t.data),i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})})},t.exports=n["default"]},{"../utils":51}],47:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("./utils"),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;n>o;o++)r[o-1]=arguments[o];console[t].apply(console,r)}}};n["default"]=i,t.exports=n["default"]},{"./utils":51}],48:[function(e,t,n){(function(e){"use strict";n.__esModule=!0,n["default"]=function(t){var n="undefined"!=typeof e?e:window,r=n.Handlebars;t.noConflict=function(){return n.Handlebars===t&&(n.Handlebars=r),t}},t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){var t=e&&e[0]||1,n=g.COMPILER_REVISION;if(t!==n){if(n>t){var r=g.REVISION_CHANGES[n],i=g.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){function n(n,r,i){i.hash&&(r=p.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,i);var o=t.VM.invokePartial.call(this,n,r,i);if(null==o&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),o=i.partials[i.name](r,i)),null!=o){if(i.indent){for(var a=o.split("\n"),s=0,u=a.length;u>s&&(a[s]||s+1!==u);s++)a[s]=i.indent+a[s];o=a.join("\n")}return o}throw new m["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(t){function n(t){return""+e.main(i,t,i.helpers,i.partials,a,u,s)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;r._setup(o),!o.partial&&e.useData&&(a=f(t,a));var s=void 0,u=e.useBlockParams?[]:void 0;return e.useDepths&&(s=o.depths?t!==o.depths[0]?[t].concat(o.depths):o.depths:[t]),(n=h(e.main,n,i,o.depths||[],a,u))(t,o)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var i={strict:function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,r=0;n>r;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,i){var o=this.programs[e],a=this.fn(e);return t||i||r||n?o=s(this,e,a,t,n,r,i):o||(o=this.programs[e]=s(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=p.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=i.merge(n.decorators,t.decorators)))},r._child=function(t,n,r,o){if(e.useBlockParams&&!r)throw new m["default"]("must pass block params");if(e.useDepths&&!o)throw new m["default"]("must pass parent depths");return s(i,t,e[t],n,0,r,o)},r}function s(e,t,n,r,i,o,a){function s(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&t!==a[0]&&(s=[t].concat(a)),n(e,t,e.helpers,e.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return s=h(n,s,e,a,r,o),s.program=t,s.depth=a?a.length:0,s.blockParams=i||0,s}function u(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function c(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==l&&(n.data=g.createFrame(n.data),r=n.data["partial-block"]=n.fn,r.partials&&(n.partials=p.extend({},n.partials,r.partials))),void 0===e&&r&&(e=r),void 0===e)throw new m["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function l(){return""}function f(e,t){return t&&"root"in t||(t=t?g.createFrame(t):{},t.root=e),t}function h(e,t,n,r,i,o){if(e.decorator){var a={};t=e.decorator(t,a,n,r&&r[0],i,o,r),p.extend(t,a)}return t}n.__esModule=!0,n.checkRevision=o,n.template=a,n.wrapProgram=s,n.resolvePartial=u,n.invokePartial=c,n.noop=l;var d=e("./utils"),p=i(d),v=e("./exception"),m=r(v),g=e("./base")},{"./base":35,"./exception":38,"./utils":51}],50:[function(e,t,n){"use strict";function r(e){this.string=e}n.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},n["default"]=r,t.exports=n["default"]},{}],51:[function(e,t,n){"use strict";function r(e){return f[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function o(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}function a(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(h,r):e}function s(e){return e||0===e?!(!m(e)||0!==e.length):!0}function u(e){var t=i({},e);return t._parent=e,t}function c(e,t){return e.path=t,e}function l(e,t){return(e?e+".":"")+t}n.__esModule=!0,n.extend=i,n.indexOf=o,n.escapeExpression=a,n.isEmpty=s,n.createFrame=u,n.blockParams=c,n.appendContextPath=l;var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;n.toString=p;var v=function(e){return"function"==typeof e};v(/x/)&&(n.isFunction=v=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),n.isFunction=v;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};n.isArray=m},{}],52:[function(e,t,n){t.exports=e("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":34}],53:[function(e,t,n){function r(){}var i=e("./_nativeCreate"),o=Object.prototype;r.prototype=i?i(null):o,t.exports=r},{"./_nativeCreate":108}],54:[function(e,t,n){var r=e("./_getNative"),i=e("./_root"),o=r(i,"Map");t.exports=o},{"./_getNative":86,"./_root":109}],55:[function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=e("./_mapClear"),o=e("./_mapDelete"),a=e("./_mapGet"),s=e("./_mapHas"),u=e("./_mapSet");r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},{"./_mapClear":103,"./_mapDelete":104,"./_mapGet":105,"./_mapHas":106,"./_mapSet":107}],56:[function(e,t,n){var r=e("./_root"),i=r.Reflect;t.exports=i},{"./_root":109}],57:[function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.__data__=new i;++t<n;)this.push(e[t])}var i=e("./_MapCache"),o=e("./_cachePush");r.prototype.push=o,t.exports=r},{"./_MapCache":55,"./_cachePush":80}],58:[function(e,t,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}t.exports=r},{}],59:[function(e,t,n){function r(e,t){return!!e.length&&i(e,t,0)>-1}var i=e("./_baseIndexOf");t.exports=r},{"./_baseIndexOf":73}],60:[function(e,t,n){function r(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}t.exports=r},{}],61:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}t.exports=r},{}],62:[function(e,t,n){function r(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}t.exports=r},{}],63:[function(e,t,n){function r(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}t.exports=r},{}],64:[function(e,t,n){function r(e,t,n){var r=e[t];a.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||(e[t]=n)}var i=e("./eq"),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},{"./eq":113}],65:[function(e,t,n){function r(e,t){var n=i(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var i=e("./_assocIndexOf"),o=Array.prototype,a=o.splice;t.exports=r},{"./_assocIndexOf":68}],66:[function(e,t,n){function r(e,t){var n=i(e,t);return 0>n?void 0:e[n][1]}var i=e("./_assocIndexOf");t.exports=r},{"./_assocIndexOf":68}],67:[function(e,t,n){function r(e,t){return i(e,t)>-1}var i=e("./_assocIndexOf");t.exports=r},{"./_assocIndexOf":68}],68:[function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=e("./eq");t.exports=r},{"./eq":113}],69:[function(e,t,n){function r(e,t,n){var r=i(e,t);0>r?e.push([t,n]):e[r][1]=n}var i=e("./_assocIndexOf");t.exports=r},{"./_assocIndexOf":68}],70:[function(e,t,n){function r(e,t,n,r){var f=-1,h=o,d=!0,p=e.length,v=[],m=t.length;if(!p)return v;n&&(t=s(t,u(n))),r?(h=a,d=!1):t.length>=l&&(h=c,d=!1,t=new i(t));e:for(;++f<p;){var g=e[f],y=n?n(g):g;if(d&&y===y){for(var _=m;_--;)if(t[_]===y)continue e;v.push(g);
}else h(t,y,r)||v.push(g)}return v}var i=e("./_SetCache"),o=e("./_arrayIncludes"),a=e("./_arrayIncludesWith"),s=e("./_arrayMap"),u=e("./_baseUnary"),c=e("./_cacheHas"),l=200;t.exports=r},{"./_SetCache":57,"./_arrayIncludes":59,"./_arrayIncludesWith":60,"./_arrayMap":61,"./_baseUnary":78,"./_cacheHas":79}],71:[function(e,t,n){function r(e,t,n,a,s){var u=-1,c=e.length;for(n||(n=o),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=e("./_arrayPush"),o=e("./_isFlattenable");t.exports=r},{"./_arrayPush":62,"./_isFlattenable":96}],72:[function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=e("./_arrayPush"),o=e("./isArray");t.exports=r},{"./_arrayPush":62,"./isArray":115}],73:[function(e,t,n){function r(e,t,n){if(t!==t)return i(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var i=e("./_indexOfNaN");t.exports=r},{"./_indexOfNaN":95}],74:[function(e,t,n){function r(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}var i=e("./_Reflect"),o=e("./_iteratorToArray"),a=Object.prototype,s=i?i.enumerate:void 0,u=a.propertyIsEnumerable;s&&!u.call({valueOf:1},"valueOf")&&(r=function(e){return o(s(e))}),t.exports=r},{"./_Reflect":56,"./_iteratorToArray":102}],75:[function(e,t,n){function r(e,t){return e=Object(e),i(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}var i=e("./_arrayReduce");t.exports=r},{"./_arrayReduce":63}],76:[function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}t.exports=r},{}],77:[function(e,t,n){function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}t.exports=r},{}],78:[function(e,t,n){function r(e){return function(t){return e(t)}}t.exports=r},{}],79:[function(e,t,n){function r(e,t){var n=e.__data__;if(i(t)){var r=n.__data__,a="string"==typeof t?r.string:r.hash;return a[t]===o}return n.has(t)}var i=e("./_isKeyable"),o="__lodash_hash_undefined__";t.exports=r},{"./_isKeyable":100}],80:[function(e,t,n){function r(e){var t=this.__data__;if(i(e)){var n=t.__data__,r="string"==typeof e?n.string:n.hash;r[e]=o}else t.set(e,o)}var i=e("./_isKeyable"),o="__lodash_hash_undefined__";t.exports=r},{"./_isKeyable":100}],81:[function(e,t,n){function r(e){return e&&e.Object===Object?e:null}t.exports=r},{}],82:[function(e,t,n){function r(e,t,n,r){n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):e[s];i(n,s,u)}return n}var i=e("./_assignValue");t.exports=r},{"./_assignValue":64}],83:[function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a="function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=3>o?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t})}var i=e("./_isIterateeCall"),o=e("./rest");t.exports=r},{"./_isIterateeCall":99,"./rest":128}],84:[function(e,t,n){function r(e){return i(e,a,o)}var i=e("./_baseGetAllKeys"),o=e("./_getSymbolsIn"),a=e("./keysIn");t.exports=r},{"./_baseGetAllKeys":72,"./_getSymbolsIn":89,"./keysIn":125}],85:[function(e,t,n){var r=e("./_baseProperty"),i=r("length");t.exports=i},{"./_baseProperty":76}],86:[function(e,t,n){function r(e,t){var n=e[t];return i(n)?n:void 0}var i=e("./isNative");t.exports=r},{"./isNative":120}],87:[function(e,t,n){function r(e){return i(Object(e))}var i=Object.getPrototypeOf;t.exports=r},{}],88:[function(e,t,n){function r(e){return i(Object(e))}var i=Object.getOwnPropertySymbols;i||(r=function(){return[]}),t.exports=r},{}],89:[function(e,t,n){var r=e("./_arrayPush"),i=e("./_getPrototype"),o=e("./_getSymbols"),a=Object.getOwnPropertySymbols,s=a?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:o;t.exports=s},{"./_arrayPush":62,"./_getPrototype":87,"./_getSymbols":88}],90:[function(e,t,n){function r(e,t){return i(e,t)&&delete e[t]}var i=e("./_hashHas");t.exports=r},{"./_hashHas":92}],91:[function(e,t,n){function r(e,t){if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=e("./_nativeCreate"),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},{"./_nativeCreate":108}],92:[function(e,t,n){function r(e,t){return i?void 0!==e[t]:a.call(e,t)}var i=e("./_nativeCreate"),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},{"./_nativeCreate":108}],93:[function(e,t,n){function r(e,t,n){e[t]=i&&void 0===n?o:n}var i=e("./_nativeCreate"),o="__lodash_hash_undefined__";t.exports=r},{"./_nativeCreate":108}],94:[function(e,t,n){function r(e){var t=e?e.length:void 0;return s(t)&&(a(e)||u(e)||o(e))?i(t,String):null}var i=e("./_baseTimes"),o=e("./isArguments"),a=e("./isArray"),s=e("./isLength"),u=e("./isString");t.exports=r},{"./_baseTimes":77,"./isArguments":114,"./isArray":115,"./isLength":119,"./isString":123}],95:[function(e,t,n){function r(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}t.exports=r},{}],96:[function(e,t,n){function r(e){return a(e)&&(o(e)||i(e))}var i=e("./isArguments"),o=e("./isArray"),a=e("./isArrayLikeObject");t.exports=r},{"./isArguments":114,"./isArray":115,"./isArrayLikeObject":117}],97:[function(e,t,n){function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}t.exports=r},{}],98:[function(e,t,n){function r(e,t){return e="number"==typeof e||o.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}var i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=r},{}],99:[function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)?i(n[t],e):!1}var i=e("./eq"),o=e("./isArrayLike"),a=e("./_isIndex"),s=e("./isObject");t.exports=r},{"./_isIndex":98,"./eq":113,"./isArrayLike":116,"./isObject":121}],100:[function(e,t,n){function r(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}t.exports=r},{}],101:[function(e,t,n){function r(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||i;return e===n}var i=Object.prototype;t.exports=r},{}],102:[function(e,t,n){function r(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}t.exports=r},{}],103:[function(e,t,n){function r(){this.__data__={hash:new i,map:o?new o:[],string:new i}}var i=e("./_Hash"),o=e("./_Map");t.exports=r},{"./_Hash":53,"./_Map":54}],104:[function(e,t,n){function r(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map["delete"](e):o(t.map,e)}var i=e("./_Map"),o=e("./_assocDelete"),a=e("./_hashDelete"),s=e("./_isKeyable");t.exports=r},{"./_Map":54,"./_assocDelete":65,"./_hashDelete":90,"./_isKeyable":100}],105:[function(e,t,n){function r(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map.get(e):o(t.map,e)}var i=e("./_Map"),o=e("./_assocGet"),a=e("./_hashGet"),s=e("./_isKeyable");t.exports=r},{"./_Map":54,"./_assocGet":66,"./_hashGet":91,"./_isKeyable":100}],106:[function(e,t,n){function r(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map.has(e):o(t.map,e)}var i=e("./_Map"),o=e("./_assocHas"),a=e("./_hashHas"),s=e("./_isKeyable");t.exports=r},{"./_Map":54,"./_assocHas":67,"./_hashHas":92,"./_isKeyable":100}],107:[function(e,t,n){function r(e,t){var n=this.__data__;return s(e)?a("string"==typeof e?n.string:n.hash,e,t):i?n.map.set(e,t):o(n.map,e,t),this}var i=e("./_Map"),o=e("./_assocSet"),a=e("./_hashSet"),s=e("./_isKeyable");t.exports=r},{"./_Map":54,"./_assocSet":69,"./_hashSet":93,"./_isKeyable":100}],108:[function(e,t,n){var r=e("./_getNative"),i=r(Object,"create");t.exports=i},{"./_getNative":86}],109:[function(e,t,n){(function(r){var i=e("./_checkGlobal"),o={"function":!0,object:!0},a=o[typeof n]&&n&&!n.nodeType?n:void 0,s=o[typeof t]&&t&&!t.nodeType?t:void 0,u=i(a&&s&&"object"==typeof r&&r),c=i(o[typeof self]&&self),l=i(o[typeof window]&&window),f=i(o[typeof this]&&this),h=u||l!==(f&&f.window)&&l||c||f||Function("return this")();t.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_checkGlobal":81}],110:[function(e,t,n){function r(e){return"string"==typeof e||i(e)?e:e+""}var i=e("./isSymbol");t.exports=r},{"./isSymbol":124}],111:[function(e,t,n){function r(e){if(null!=e){try{return i.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var i=Function.prototype.toString;t.exports=r},{}],112:[function(e,t,n){var r=e("./_assignValue"),i=e("./_copyObject"),o=e("./_createAssigner"),a=e("./isArrayLike"),s=e("./_isPrototype"),u=e("./keysIn"),c=Object.prototype,l=c.propertyIsEnumerable,f=!l.call({valueOf:1},"valueOf"),h=o(function(e,t){if(f||s(t)||a(t))return void i(t,u(t),e);for(var n in t)r(e,n,t[n])});t.exports=h},{"./_assignValue":64,"./_copyObject":82,"./_createAssigner":83,"./_isPrototype":101,"./isArrayLike":116,"./keysIn":125}],113:[function(e,t,n){function r(e,t){return e===t||e!==e&&t!==t}t.exports=r},{}],114:[function(e,t,n){function r(e){return i(e)&&s.call(e,"callee")&&(!c.call(e,"callee")||u.call(e)==o)}var i=e("./isArrayLikeObject"),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=a.propertyIsEnumerable;t.exports=r},{"./isArrayLikeObject":117}],115:[function(e,t,n){var r=Array.isArray;t.exports=r},{}],116:[function(e,t,n){function r(e){return null!=e&&a(i(e))&&!o(e)}var i=e("./_getLength"),o=e("./isFunction"),a=e("./isLength");t.exports=r},{"./_getLength":85,"./isFunction":118,"./isLength":119}],117:[function(e,t,n){function r(e){return o(e)&&i(e)}var i=e("./isArrayLike"),o=e("./isObjectLike");t.exports=r},{"./isArrayLike":116,"./isObjectLike":122}],118:[function(e,t,n){function r(e){var t=i(e)?u.call(e):"";return t==o||t==a}var i=e("./isObject"),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;t.exports=r},{"./isObject":121}],119:[function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;t.exports=r},{}],120:[function(e,t,n){function r(e){if(!a(e))return!1;var t=i(e)||o(e)?d:c;return t.test(s(e))}var i=e("./isFunction"),o=e("./_isHostObject"),a=e("./isObject"),s=e("./_toSource"),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Object.prototype,f=Function.prototype.toString,h=l.hasOwnProperty,d=RegExp("^"+f.call(h).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},{"./_isHostObject":97,"./_toSource":111,"./isFunction":118,"./isObject":121}],121:[function(e,t,n){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=r},{}],122:[function(e,t,n){function r(e){return!!e&&"object"==typeof e}t.exports=r},{}],123:[function(e,t,n){function r(e){return"string"==typeof e||!i(e)&&o(e)&&u.call(e)==a}var i=e("./isArray"),o=e("./isObjectLike"),a="[object String]",s=Object.prototype,u=s.toString;t.exports=r},{"./isArray":115,"./isObjectLike":122}],124:[function(e,t,n){function r(e){return"symbol"==typeof e||i(e)&&s.call(e)==o}var i=e("./isObjectLike"),o="[object Symbol]",a=Object.prototype,s=a.toString;t.exports=r},{"./isObjectLike":122}],125:[function(e,t,n){function r(e){for(var t=-1,n=s(e),r=i(e),u=r.length,l=o(e),f=!!l,h=l||[],d=h.length;++t<u;){var p=r[t];f&&("length"==p||a(p,d))||"constructor"==p&&(n||!c.call(e,p))||h.push(p)}return h}var i=e("./_baseKeysIn"),o=e("./_indexKeys"),a=e("./_isIndex"),s=e("./_isPrototype"),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},{"./_baseKeysIn":74,"./_indexKeys":94,"./_isIndex":98,"./_isPrototype":101}],126:[function(e,t,n){(function(e){(function(){function r(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function o(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t,n,r){for(var i=-1,o=e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function s(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Array(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function u(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function c(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function l(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function f(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function h(e,t){return!!e.length&&x(e,t,0)>-1}function d(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function p(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function v(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function g(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function y(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function _(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===Q?a===a:n(a,s)))var s=a,u=o}return u}function b(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function w(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function x(e,t,n){if(t!==t)return Y(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function k(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e,t){var n=e?e.length:0;return n?A(e,t)/n:Ae}function E(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function O(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function A(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==Q&&(n=n===Q?o:n+o)}return n}function j(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function T(e,t){return p(t,function(t){return[t,e[t]]})}function D(e){return function(t){return e(t)}}function M(e,t){return p(t,function(t){return e[t]})}function I(e,t){for(var n=-1,r=e.length;++n<r&&x(t,e[n],0)>-1;);return n}function C(e,t){for(var n=e.length;n--&&x(t,e[n],0)>-1;);return n}function q(e){return e&&e.Object===Object?e:null}function L(e,t){if(e!==t){var n=null===e,r=e===Q,i=e===e,o=null===t,a=t===Q,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function R(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=L(i[r],o[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}function P(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function N(e){return function(t,n){var r;return t===Q&&n===Q?0:(t!==Q&&(r=t),n!==Q&&(r=r===Q?n:e(r,n)),r)}}function F(e){return Dn[e]}function U(e){return Mn[e]}function H(e){return"\\"+qn[e]}function Y(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function B(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e,t){return e="number"==typeof e||It.test(e)?+e:-1,t=null==t?Ee:t,e>-1&&e%1==0&&t>e}function V(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function $(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function G(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==ie||(e[n]=ie,o[i++]=n)}return o}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function J(e){if(!e||!Sn.test(e))return e.length;for(var t=xn.lastIndex=0;xn.test(e);)t++;return t}function K(e){return e.match(xn)}function Z(e){return In[e]}function X(e){function t(e){if(as(e)&&!Zl(e)&&!(e instanceof It)){if(e instanceof q)return e;if(dc.call(e,"__wrapped__"))return Ki(e)}return new q(e)}function n(){}function q(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Q}function It(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=je,this.__views__=[]}function Rt(){var e=new It(this.__wrapped__);return e.__actions__=zr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=zr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=zr(this.__views__),e}function Pt(){if(this.__filtered__){var e=new It(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Nt(){var e=this.__wrapped__.value(),t=this.__dir__,n=Zl(e),r=0>t,i=n?e.length:0,o=Ti(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=Nc(u,this.__takeCount__);if(!n||te>i||i==u&&d==u)return Mr(e,this.__actions__);var p=[];e:for(;u--&&d>h;){c+=t;for(var v=-1,m=e[c];++v<f;){var g=l[v],y=g.iteratee,_=g.type,b=y(m);if(_==xe)m=b;else if(!b){if(_==we)continue e;break e}}p[h++]=m}return p}function Ft(){}function Ut(e,t){return Yt(e,t)&&delete e[t]}function Ht(e,t){if(Jc){var n=e[t];return n===re?Q:n}return dc.call(e,t)?e[t]:Q}function Yt(e,t){return Jc?e[t]!==Q:dc.call(e,t)}function Bt(e,t,n){e[t]=Jc&&n===Q?re:n}function Wt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vt(){this.__data__={hash:new Ft,map:Vc?new Vc:[],string:new Ft}}function $t(e){var t=this.__data__;return Fi(e)?Ut("string"==typeof e?t.string:t.hash,e):Vc?t.map["delete"](e):an(t.map,e)}function Gt(e){var t=this.__data__;return Fi(e)?Ht("string"==typeof e?t.string:t.hash,e):Vc?t.map.get(e):sn(t.map,e)}function zt(e){var t=this.__data__;return Fi(e)?Yt("string"==typeof e?t.string:t.hash,e):Vc?t.map.has(e):un(t.map,e)}function Jt(e,t){var n=this.__data__;return Fi(e)?Bt("string"==typeof e?n.string:n.hash,e,t):Vc?n.map.set(e,t):ln(n.map,e,t),this}function Kt(e){var t=-1,n=e?e.length:0;for(this.__data__=new Wt;++t<n;)this.push(e[t])}function Zt(e,t){var n=e.__data__;if(Fi(t)){var r=n.__data__,i="string"==typeof t?r.string:r.hash;return i[t]===re}return n.has(t)}function Xt(e){var t=this.__data__;if(Fi(e)){var n=t.__data__,r="string"==typeof e?n.string:n.hash;r[e]=re}else t.set(e,re)}function Qt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function en(){this.__data__={array:[],map:null}}function tn(e){var t=this.__data__,n=t.array;return n?an(n,e):t.map["delete"](e)}function nn(e){var t=this.__data__,n=t.array;return n?sn(n,e):t.map.get(e)}function rn(e){var t=this.__data__,n=t.array;return n?un(n,e):t.map.has(e)}function on(e,t){var n=this.__data__,r=n.array;r&&(r.length<te-1?ln(r,e,t):(n.array=null,n.map=new Wt(r)));var i=n.map;return i&&i.set(e,t),this}function an(e,t){var n=cn(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():Dc.call(e,n,1),!0}function sn(e,t){var n=cn(e,t);return 0>n?Q:e[n][1]}function un(e,t){return cn(e,t)>-1}function cn(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function ln(e,t,n){var r=cn(e,t);0>r?e.push([t,n]):e[r][1]=n}function fn(e,t,n,r){return e===Q||Ha(e,lc[n])&&!dc.call(r,n)?t:e}function hn(e,t,n){(n===Q||Ha(e[t],n))&&("number"!=typeof t||n!==Q||t in e)||(e[t]=n)}function dn(e,t,n){var r=e[t];dc.call(e,t)&&Ha(r,n)&&(n!==Q||t in e)||(e[t]=n)}function pn(e,t,n,r){return sl(e,function(e,i,o){t(r,e,n(e),o)}),r}function vn(e,t){return e&&Jr(t,$s(t),e)}function mn(e,t){for(var n=-1,r=null==e,i=t.length,o=Array(i);++n<i;)o[n]=r?Q:Bs(e,t[n]);return o}function gn(e,t,n){return e===e&&(n!==Q&&(e=n>=e?e:n),t!==Q&&(e=e>=t?e:t)),e}function yn(e,t,n,r,i,o,a){var s;if(r&&(s=o?r(e,i,o,a):r(e)),s!==Q)return s;if(!os(e))return e;var c=Zl(e);if(c){if(s=Mi(e),!t)return zr(e,s)}else{var l=ji(e),f=l==Re||l==Pe;if(Xl(e))return Nr(e,t);if(l==Ue||l==Me||f&&!o){if(B(e))return o?e:{};if(s=Ii(f?{}:e),!t)return Kr(e,vn(s,e))}else{if(!Tn[l])return o?e:{};s=Ci(e,l,yn,t)}}a||(a=new Qt);var h=a.get(e);if(h)return h;if(a.set(e,s),!c)var d=n?_i(e):$s(e);return u(d||e,function(i,o){d&&(o=i,i=e[o]),dn(s,o,yn(i,t,n,r,o,e,a))}),s}function _n(e){var t=$s(e),n=t.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=t[i],a=e[o],s=r[o];if(s===Q&&!(o in Object(r))||!a(s))return!1}return!0}}function xn(e){return os(e)?Ac(e):{}}function Dn(e,t,n){if("function"!=typeof e)throw new uc(ne);return Tc(function(){e.apply(Q,n)},t)}function Mn(e,t,n,r){var i=-1,o=h,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=p(t,D(n))),r?(o=d,a=!1):t.length>=te&&(o=Zt,a=!1,t=new Kt(t));e:for(;++i<s;){var l=e[i],f=n?n(l):l;if(a&&f===f){for(var v=c;v--;)if(t[v]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}function In(e,t){var n=!0;return sl(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Cn(e,t,n,r){var i=e.length;for(n=js(n),0>n&&(n=-n>i?0:i+n),r=r===Q||r>i?i:js(r),0>r&&(r+=i),r=n>r?0:Ts(r);r>n;)e[n++]=t;return e}function qn(e,t){var n=[];return sl(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Pn(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Li),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Pn(s,t-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function Nn(e,t){return e&&cl(e,t,$s)}function Un(e,t){return e&&ll(e,t,$s)}function Hn(e,t){return f(t,function(t){return ns(e[t])})}function Yn(e,t){t=Ni(t,e)?[t]:Rr(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[t[n++]];return n&&n==r?e:Q}function Bn(e,t,n){var r=t(e);return Zl(e)?r:v(r,n(e))}function $n(e,t){return dc.call(e,t)||"object"==typeof e&&t in e&&null===Oi(e)}function Gn(e,t){return t in Object(e)}function zn(e,t,n){return e>=Nc(t,n)&&e<Pc(t,n)}function Jn(e,t,n){for(var r=n?d:h,i=e[0].length,o=e.length,a=o,s=Array(o),u=1/0,c=[];a--;){var l=e[a];a&&t&&(l=p(l,D(t))),u=Nc(l.length,u),s[a]=!n&&(t||i>=120&&l.length>=120)?new Kt(a&&l):Q}l=e[0];var f=-1,v=s[0];e:for(;++f<i&&c.length<u;){var m=l[f],g=t?t(m):m;if(!(v?Zt(v,g):r(c,g,n))){for(a=o;--a;){var y=s[a];if(!(y?Zt(y,g):r(e[a],g,n)))continue e}v&&v.push(g),c.push(m)}}return c}function Kn(e,t,n,r){return Nn(e,function(e,i,o){t(r,n(e),i,o)}),r}function Zn(e,t,n){Ni(t,e)||(t=Rr(t),e=$i(e,t),t=mo(t));var r=null==e?e:e[t];return null==r?Q:o(r,e,n)}function Xn(e,t,n,r,i){return e===t?!0:null==e||null==t||!os(e)&&!as(t)?e!==e&&t!==t:Qn(e,t,Xn,n,r,i)}function Qn(e,t,n,r,i,o){var a=Zl(e),s=Zl(t),u=Ie,c=Ie;a||(u=ji(e),u=u==Me?Ue:u),s||(c=ji(t),c=c==Me?Ue:c);var l=u==Ue&&!B(e),f=c==Ue&&!B(t),h=u==c;if(h&&!l)return o||(o=new Qt),a||ws(e)?mi(e,t,n,r,i,o):gi(e,t,u,n,r,i,o);if(!(i&me)){var d=l&&dc.call(e,"__wrapped__"),p=f&&dc.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return o||(o=new Qt),n(v,m,r,i,o)}}return h?(o||(o=new Qt),yi(e,t,n,r,i,o)):!1}function er(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var u=s[0],c=e[u],l=s[1];if(a&&s[2]){if(c===Q&&!(u in e))return!1}else{var f=new Qt;if(r)var h=r(c,l,u,e,t,f);if(!(h===Q?Xn(l,c,r,ve|me,f):h))return!1}}return!0}function tr(e){return"function"==typeof e?e:null==e?Pu:"object"==typeof e?Zl(e)?ar(e[0],e[1]):or(e):Vu(e)}function nr(e){return Rc(Object(e))}function rr(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function ir(e,t){var n=-1,r=$a(e)?Array(e.length):[];return sl(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function or(e){var t=ki(e);return 1==t.length&&t[0][2]?Bi(t[0][0],t[0][1]):function(n){return n===e||er(n,e,t)}}function ar(e,t){return Ni(e)&&Yi(t)?Bi(e,t):function(n){var r=Bs(n,e);return r===Q&&r===t?Vs(n,e):Xn(t,r,Q,ve|me)}}function sr(e,t,n,r,i){if(e!==t){if(!Zl(t)&&!ws(t))var o=Gs(t);u(o||t,function(a,s){if(o&&(s=a,a=t[s]),os(a))i||(i=new Qt),ur(e,t,s,n,sr,r,i);else{var u=r?r(e[s],a,s+"",e,t,i):Q;u===Q&&(u=a),hn(e,s,u)}})}}function ur(e,t,n,r,i,o,a){var s=e[n],u=t[n],c=a.get(u);if(c)return void hn(e,n,c);var l=o?o(s,u,n+"",e,t,a):Q,f=l===Q;f&&(l=u,Zl(u)||ws(u)?Zl(s)?l=s:Ga(s)?l=zr(s):(f=!1,l=yn(u,!0)):vs(u)||Wa(u)?Wa(s)?l=Ms(s):!os(s)||r&&ns(s)?(f=!1,l=yn(u,!0)):l=s:f=!1),a.set(u,l),f&&i(l,u,r,o,a),a["delete"](u),hn(e,n,l)}function cr(e,t){var n=e.length;if(n)return t+=0>t?n:0,W(t,n)?e[t]:Q}function lr(e,t,n){var r=-1;t=p(t.length?t:[Pu],D(xi()));var i=ir(e,function(e,n,i){var o=p(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return O(i,function(e,t){return R(e,t,n)})}function fr(e,t){return e=Object(e),m(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function hr(e,t){for(var n=-1,r=bi(e),i=r.length,o={};++n<i;){var a=r[n],s=e[a];t(s,a)&&(o[a]=s)}return o}function dr(e){return function(t){return null==t?Q:t[e]}}function pr(e){return function(t){return Yn(t,e)}}function vr(e,t,n,r){var i=r?k:x,o=-1,a=t.length,s=e;for(n&&(s=p(e,D(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Dc.call(s,u,1),Dc.call(e,u,1);return e}function mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(r==n||i!=o){var o=i;if(W(i))Dc.call(e,i,1);else if(Ni(i,e))delete e[i];else{var a=Rr(i),s=$i(e,a);null!=s&&delete s[mo(a)]}}}return e}function gr(e,t){return e+Ic(Uc()*(t-e+1))}function yr(e,t,n,r){for(var i=-1,o=Pc(Mc((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function _r(e,t){var n="";if(!e||1>t||t>Ee)return n;do t%2&&(n+=e),t=Ic(t/2),t&&(e+=e);while(t);return n}function br(e,t,n,r){t=Ni(t,e)?[t]:Rr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];if(os(s)){var c=n;if(i!=a){var l=s[u];c=r?r(l,u,s):Q,c===Q&&(c=null==l?W(t[i+1])?[]:{}:l)}dn(s,u,c)}s=s[u]}return e}function wr(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function xr(e,t){var n;return sl(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function kr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&De>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return Sr(e,t,Pu,n)}function Sr(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===Q;o>i;){var c=Ic((i+o)/2),l=n(e[c]),f=l!==Q,h=l===l;if(a)var d=h||r;else d=s?h&&f&&(r||null!=l):u?h&&(r||f):null==l?!1:r?t>=l:t>l;d?i=c+1:o=c}return Nc(o,Te)}function Er(e){return Or(e)}function Or(e,t){for(var n=0,r=e.length,i=e[0],o=t?t(i):i,a=o,s=1,u=[i];++n<r;)i=e[n],o=t?t(i):i,Ha(o,a)||(a=o,u[s++]=i);return u}function Ar(e,t,n){var r=-1,i=h,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=d;else if(o>=te){var c=t?null:hl(e);if(c)return z(c);a=!1,i=Zt,u=new Kt}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(a&&f===f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function jr(e,t){t=Ni(t,e)?[t]:Rr(t),e=$i(e,t);var n=mo(t);return null!=e&&Ws(e,n)?delete e[n]:!0}function Tr(e,t,n,r){return br(e,t,n(Yn(e,t)),r)}function Dr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?wr(e,r?0:o,r?o+1:i):wr(e,r?o+1:0,r?i:o)}function Mr(e,t){var n=e;return n instanceof It&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,v([e],t.args))},n)}function Ir(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?v(Mn(o,e[r],t,n),Mn(e[r],o,t,n)):e[r];return o&&o.length?Ar(o,t,n):[]}function Cr(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=o>r?t[r]:Q;n(a,e[r],s)}return a}function qr(e){return Ga(e)?e:[]}function Lr(e){return"function"==typeof e?e:Pu}function Rr(e){return Zl(e)?e:gl(e)}function Pr(e,t,n){var r=e.length;return n=n===Q?r:n,!t&&n>=r?e:wr(e,t,n)}function Nr(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Fr(e){var t=new e.constructor(e.byteLength);return new xc(t).set(new xc(e)),t}function Ur(e,t){var n=t?Fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Hr(e,t,n){var i=t?n($(e),!0):$(e);return m(i,r,new e.constructor)}function Yr(e){var t=new e.constructor(e.source,Ot.exec(e));return t.lastIndex=e.lastIndex,t}function Br(e,t,n){var r=t?n(z(e),!0):z(e);return m(r,i,new e.constructor)}function Wr(e){return ol?Object(ol.call(e)):{}}function Vr(e,t){var n=t?Fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function $r(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=Pc(o-a,0),l=Array(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||o>i)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Gr(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=Pc(o-s,0),f=Array(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||o>i)&&(f[d+n[a]]=e[i++]);return f}function zr(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Jr(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):e[a];dn(n,a,s)}return n}function Kr(e,t){return Jr(e,Ai(e),t)}function Zr(e,t){return function(n,r){var i=Zl(n)?a:pn,o=t?t():{};return i(n,e,xi(r),o)}}function Xr(e){return Ma(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:Q,a=i>2?n[2]:Q;for(o="function"==typeof o?(i--,o):Q,a&&Pi(n[0],n[1],a)&&(o=3>i?Q:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Qr(e,t){return function(n,r){if(null==n)return n;if(!$a(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function ei(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(n(o[u],u,o)===!1)break}return t}}function ti(e,t,n){function r(){var t=this&&this!==Wn&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&oe,o=ii(e);return r}function ni(e){return function(t){t=Cs(t);var n=Sn.test(t)?K(t):Q,r=n?n[0]:t.charAt(0),i=n?Pr(n,1).join(""):t.slice(1);return r[e]()+i}}function ri(e){return function(t){return m(Cu(du(t).replace(bn,"")),e,"")}}function ii(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=xn(e.prototype),r=e.apply(n,t);return os(r)?r:n}}function oi(e,t,n){function r(){for(var a=arguments.length,s=Array(a),u=a,c=Ei(r);u--;)s[u]=arguments[u];var l=3>a&&s[0]!==c&&s[a-1]!==c?[]:G(s,c);if(a-=l.length,n>a)return di(e,t,si,r.placeholder,Q,s,l,Q,Q,n-a);var f=this&&this!==Wn&&this instanceof r?i:e;return o(f,this,s)}var i=ii(e);return r}function ai(e){return Ma(function(t){t=Pn(t,1);var n=t.length,r=n,i=q.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new uc(ne);if(i&&!a&&"wrapper"==wi(o))var a=new q([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=wi(o),u="wrapper"==s?dl(o):Q;a=u&&Ui(u[0])&&u[1]==(he|ue|le|de)&&!u[4].length&&1==u[9]?a[wi(u[0])].apply(a,u[3]):1==o.length&&Ui(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Zl(r)&&r.length>=te)return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function si(e,t,n,r,i,o,a,s,u,c){function l(){for(var g=arguments.length,y=g,_=Array(g);y--;)_[y]=arguments[y];if(p)var b=Ei(l),w=P(_,b);if(r&&(_=$r(_,r,i,p)),o&&(_=Gr(_,o,a,p)),g-=w,p&&c>g){var x=G(_,b);return di(e,t,si,l.placeholder,n,_,x,s,u,c-g)}var k=h?n:this,S=d?k[e]:e;return g=_.length,s?_=Gi(_,s):v&&g>1&&_.reverse(),f&&g>u&&(_.length=u),this&&this!==Wn&&this instanceof l&&(S=m||ii(S)),S.apply(k,_)}var f=t&he,h=t&oe,d=t&ae,p=t&(ue|ce),v=t&pe,m=d?Q:ii(e);return l}function ui(e,t){return function(n,r){return Kn(n,e,t(r),{})}}function ci(e){return Ma(function(t){return t=1==t.length&&Zl(t[0])?p(t[0],D(xi())):p(Pn(t,1,Ri),D(xi())),Ma(function(n){var r=this;return e(t,function(e){return o(e,r,n)})})})}function li(e,t){t=t===Q?" ":t+"";var n=t.length;if(2>n)return n?_r(t,e):t;var r=_r(t,Mc(e/J(t)));return Sn.test(t)?Pr(K(r),0,e).join(""):r.slice(0,e)}function fi(e,t,n,r){function i(){for(var t=-1,u=arguments.length,c=-1,l=r.length,f=Array(l+u),h=this&&this!==Wn&&this instanceof i?s:e;++c<l;)f[c]=r[c];for(;u--;)f[c++]=arguments[++t];return o(h,a?n:this,f)}var a=t&oe,s=ii(e);return i}function hi(e){return function(t,n,r){return r&&"number"!=typeof r&&Pi(t,n,r)&&(n=r=Q),t=Ds(t),t=t===t?t:0,n===Q?(n=t,t=0):n=Ds(n)||0,r=r===Q?n>t?1:-1:Ds(r)||0,yr(t,n,r,e)}}function di(e,t,n,r,i,o,a,s,u,c){var l=t&ue,f=l?a:Q,h=l?Q:a,d=l?o:Q,p=l?Q:o;t|=l?le:fe,t&=~(l?fe:le),
t&se||(t&=~(oe|ae));var v=[e,t,i,d,f,p,h,s,u,c],m=n.apply(Q,v);return Ui(e)&&ml(m,v),m.placeholder=r,m}function pi(e){var t=ac[e];return function(e,n){if(e=Ds(e),n=js(n)){var r=(Cs(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(Cs(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function vi(e,t,n,r,i,o,a,s){var u=t&ae;if(!u&&"function"!=typeof e)throw new uc(ne);var c=r?r.length:0;if(c||(t&=~(le|fe),r=i=Q),a=a===Q?a:Pc(js(a),0),s=s===Q?s:js(s),c-=i?i.length:0,t&fe){var l=r,f=i;r=i=Q}var h=u?Q:dl(e),d=[e,t,n,r,i,l,f,o,a,s];if(h&&Wi(d,h),e=d[0],t=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=null==d[9]?u?0:e.length:Pc(d[9]-c,0),!s&&t&(ue|ce)&&(t&=~(ue|ce)),t&&t!=oe)p=t==ue||t==ce?oi(e,t,s):t!=le&&t!=(oe|le)||i.length?si.apply(Q,d):fi(e,t,n,r);else var p=ti(e,t,n);var v=h?fl:ml;return v(p,d)}function mi(e,t,n,r,i,o){var a=-1,s=i&me,u=i&ve,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var f=o.get(e);if(f)return f==t;var h=!0;for(o.set(e,t);++a<c;){var d=e[a],p=t[a];if(r)var v=s?r(p,d,a,t,e,o):r(d,p,a,e,t,o);if(v!==Q){if(v)continue;h=!1;break}if(u){if(!y(t,function(e){return d===e||n(d,e,r,i,o)})){h=!1;break}}else if(d!==p&&!n(d,p,r,i,o)){h=!1;break}}return o["delete"](e),h}function gi(e,t,n,r,i,o,a){switch(n){case Je:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ze:return!(e.byteLength!=t.byteLength||!r(new xc(e),new xc(t)));case Ce:case qe:return+e==+t;case Le:return e.name==t.name&&e.message==t.message;case Fe:return e!=+e?t!=+t:e==+t;case Ye:case We:return e==t+"";case Ne:var s=$;case Be:var u=o&me;if(s||(s=z),e.size!=t.size&&!u)return!1;var c=a.get(e);return c?c==t:(o|=ve,a.set(e,t),mi(s(e),s(t),r,i,o,a));case Ve:if(ol)return ol.call(e)==ol.call(t)}return!1}function yi(e,t,n,r,i,o){var a=i&me,s=$s(e),u=s.length,c=$s(t),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in t:$n(t,h)))return!1}var d=o.get(e);if(d)return d==t;var p=!0;o.set(e,t);for(var v=a;++f<u;){h=s[f];var m=e[h],g=t[h];if(r)var y=a?r(g,m,h,t,e,o):r(m,g,h,e,t,o);if(!(y===Q?m===g||n(m,g,r,i,o):y)){p=!1;break}v||(v="constructor"==h)}if(p&&!v){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o["delete"](e),p}function _i(e){return Bn(e,$s,Ai)}function bi(e){return Bn(e,Gs,vl)}function wi(e){for(var t=e.name+"",n=Xc[t],r=dc.call(Xc,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function xi(){var e=t.iteratee||Nu;return e=e===Nu?tr:e,arguments.length?e(arguments[0],arguments[1]):e}function ki(e){for(var t=tu(e),n=t.length;n--;)t[n][2]=Yi(t[n][1]);return t}function Si(e,t){var n=e[t];return fs(n)?n:Q}function Ei(e){var n=dc.call(t,"placeholder")?t:e;return n.placeholder}function Oi(e){return Cc(Object(e))}function Ai(e){return Ec(Object(e))}function ji(e){return mc.call(e)}function Ti(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Nc(t,e+a);break;case"takeRight":e=Pc(e,t-a)}}return{start:e,end:t}}function Di(e,t,n){t=Ni(t,e)?[t]:Rr(t);for(var r,i=-1,o=t.length;++i<o;){var a=t[i];if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&is(o)&&W(a,o)&&(Zl(e)||_s(e)||Wa(e))}function Mi(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&dc.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ii(e){return"function"!=typeof e.constructor||Hi(e)?{}:xn(Oi(e))}function Ci(e,t,n,r){var i=e.constructor;switch(t){case ze:return Fr(e);case Ce:case qe:return new i(+e);case Je:return Ur(e,r);case Ke:case Ze:case Xe:case Qe:case et:case tt:case nt:case rt:case it:return Vr(e,r);case Ne:return Hr(e,r,n);case Fe:case We:return new i(e);case Ye:return Yr(e);case Be:return Br(e,r,n);case Ve:return Wr(e)}}function qi(e){var t=e?e.length:Q;return is(t)&&(Zl(e)||_s(e)||Wa(e))?j(t,String):null}function Li(e){return Ga(e)&&(Zl(e)||Wa(e))}function Ri(e){return Zl(e)&&!(2==e.length&&!ns(e[0]))}function Pi(e,t,n){if(!os(n))return!1;var r=typeof t;return("number"==r?$a(n)&&W(t,n.length):"string"==r&&t in n)?Ha(n[t],e):!1}function Ni(e,t){var n=typeof e;return"number"==n||"symbol"==n?!0:!Zl(e)&&(bs(e)||mt.test(e)||!vt.test(e)||null!=t&&e in Object(t))}function Fi(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function Ui(e){var n=wi(e),r=t[n];if("function"!=typeof r||!(n in It.prototype))return!1;if(e===r)return!0;var i=dl(r);return!!i&&e===i[0]}function Hi(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||lc;return e===n}function Yi(e){return e===e&&!os(e)}function Bi(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==Q||e in Object(n))}}function Wi(e,t){var n=e[1],r=t[1],i=n|r,o=(oe|ae|he)>i,a=r==he&&n==ue||r==he&&n==de&&e[7].length<=t[8]||r==(he|de)&&t[7].length<=t[8]&&n==ue;if(!o&&!a)return e;r&oe&&(e[2]=t[2],i|=n&oe?0:se);var s=t[3];if(s){var u=e[3];e[3]=u?$r(u,s,t[4]):s,e[4]=u?G(e[3],ie):t[4]}return s=t[5],s&&(u=e[5],e[5]=u?Gr(u,s,t[6]):s,e[6]=u?G(e[5],ie):t[6]),s=t[7],s&&(e[7]=s),r&he&&(e[8]=null==e[8]?t[8]:Nc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Vi(e,t,n,r,i,o){return os(e)&&os(t)&&sr(e,t,Q,Vi,o.set(t,e)),e}function $i(e,t){return 1==t.length?e:Yn(e,wr(t,0,-1))}function Gi(e,t){for(var n=e.length,r=Nc(t.length,n),i=zr(e);r--;){var o=t[r];e[r]=W(o,n)?i[o]:Q}return e}function zi(e){return"string"==typeof e||bs(e)?e:e+""}function Ji(e){if(null!=e){try{return hc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ki(e){if(e instanceof It)return e.clone();var t=new q(e.__wrapped__,e.__chain__);return t.__actions__=zr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Zi(e,t,n){t=(n?Pi(e,t,n):t===Q)?1:Pc(js(t),0);var r=e?e.length:0;if(!r||1>t)return[];for(var i=0,o=0,a=Array(Mc(r/t));r>i;)a[o++]=wr(e,i,i+=t);return a}function Xi(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function Qi(){var e=arguments.length,t=Ra(arguments[0]);if(2>e)return e?zr(t):[];for(var n=Array(e-1);e--;)n[e-1]=arguments[e];return s(t,Pn(n,1))}function eo(e,t,n){var r=e?e.length:0;return r?(t=n||t===Q?1:js(t),wr(e,0>t?0:t,r)):[]}function to(e,t,n){var r=e?e.length:0;return r?(t=n||t===Q?1:js(t),t=r-t,wr(e,0,0>t?0:t)):[]}function no(e,t){return e&&e.length?Dr(e,xi(t,3),!0,!0):[]}function ro(e,t){return e&&e.length?Dr(e,xi(t,3),!0):[]}function io(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Pi(e,t,n)&&(n=0,r=i),Cn(e,t,n,r)):[]}function oo(e,t){return e&&e.length?w(e,xi(t,3)):-1}function ao(e,t){return e&&e.length?w(e,xi(t,3),!0):-1}function so(e){var t=e?e.length:0;return t?Pn(e,1):[]}function uo(e){var t=e?e.length:0;return t?Pn(e,Se):[]}function co(e,t){var n=e?e.length:0;return n?(t=t===Q?1:js(t),Pn(e,t)):[]}function lo(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function fo(e){return e&&e.length?e[0]:Q}function ho(e,t,n){var r=e?e.length:0;return r?(n=js(n),0>n&&(n=Pc(r+n,0)),x(e,t,n)):-1}function po(e){return to(e,1)}function vo(e,t){return e?Lc.call(e,t):""}function mo(e){var t=e?e.length:0;return t?e[t-1]:Q}function go(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==Q&&(i=js(n),i=(0>i?Pc(r+i,0):Nc(i,r-1))+1),t!==t)return Y(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function yo(e,t){return e&&e.length?cr(e,js(t)):Q}function _o(e,t){return e&&e.length&&t&&t.length?vr(e,t):e}function bo(e,t,n){return e&&e.length&&t&&t.length?vr(e,t,xi(n)):e}function wo(e,t,n){return e&&e.length&&t&&t.length?vr(e,t,Q,n):e}function xo(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=xi(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return mr(e,i),n}function ko(e){return e?Yc.call(e):e}function So(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Pi(e,t,n)?(t=0,n=r):(t=null==t?0:js(t),n=n===Q?r:js(n)),wr(e,t,n)):[]}function Eo(e,t){return kr(e,t)}function Oo(e,t,n){return Sr(e,t,xi(n))}function Ao(e,t){var n=e?e.length:0;if(n){var r=kr(e,t);if(n>r&&Ha(e[r],t))return r}return-1}function jo(e,t){return kr(e,t,!0)}function To(e,t,n){return Sr(e,t,xi(n),!0)}function Do(e,t){var n=e?e.length:0;if(n){var r=kr(e,t,!0)-1;if(Ha(e[r],t))return r}return-1}function Mo(e){return e&&e.length?Er(e):[]}function Io(e,t){return e&&e.length?Or(e,xi(t)):[]}function Co(e){return eo(e,1)}function qo(e,t,n){return e&&e.length?(t=n||t===Q?1:js(t),wr(e,0,0>t?0:t)):[]}function Lo(e,t,n){var r=e?e.length:0;return r?(t=n||t===Q?1:js(t),t=r-t,wr(e,0>t?0:t,r)):[]}function Ro(e,t){return e&&e.length?Dr(e,xi(t,3),!1,!0):[]}function Po(e,t){return e&&e.length?Dr(e,xi(t,3)):[]}function No(e){return e&&e.length?Ar(e):[]}function Fo(e,t){return e&&e.length?Ar(e,xi(t)):[]}function Uo(e,t){return e&&e.length?Ar(e,Q,t):[]}function Ho(e){if(!e||!e.length)return[];var t=0;return e=f(e,function(e){return Ga(e)?(t=Pc(e.length,t),!0):void 0}),j(t,function(t){return p(e,dr(t))})}function Yo(e,t){if(!e||!e.length)return[];var n=Ho(e);return null==t?n:p(n,function(e){return o(t,Q,e)})}function Bo(e,t){return Cr(e||[],t||[],dn)}function Wo(e,t){return Cr(e||[],t||[],br)}function Vo(e){var n=t(e);return n.__chain__=!0,n}function $o(e,t){return t(e),e}function Go(e,t){return t(e)}function zo(){return Vo(this)}function Jo(){return new q(this.value(),this.__chain__)}function Ko(){this.__values__===Q&&(this.__values__=As(this.value()));var e=this.__index__>=this.__values__.length,t=e?Q:this.__values__[this.__index__++];return{done:e,value:t}}function Zo(){return this}function Xo(e){for(var t,r=this;r instanceof n;){var i=Ki(r);i.__index__=0,i.__values__=Q,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Qo(){var e=this.__wrapped__;if(e instanceof It){var t=e;return this.__actions__.length&&(t=new It(this)),t=t.reverse(),t.__actions__.push({func:Go,args:[ko],thisArg:Q}),new q(t,this.__chain__)}return this.thru(ko)}function ea(){return Mr(this.__wrapped__,this.__actions__)}function ta(e,t,n){var r=Zl(e)?l:In;return n&&Pi(e,t,n)&&(t=Q),r(e,xi(t,3))}function na(e,t){var n=Zl(e)?f:qn;return n(e,xi(t,3))}function ra(e,t){if(t=xi(t,3),Zl(e)){var n=w(e,t);return n>-1?e[n]:Q}return b(e,t,sl)}function ia(e,t){if(t=xi(t,3),Zl(e)){var n=w(e,t,!0);return n>-1?e[n]:Q}return b(e,t,ul)}function oa(e,t){return Pn(fa(e,t),1)}function aa(e,t){return Pn(fa(e,t),Se)}function sa(e,t,n){return n=n===Q?1:js(n),Pn(fa(e,t),n)}function ua(e,t){return"function"==typeof t&&Zl(e)?u(e,t):sl(e,xi(t))}function ca(e,t){return"function"==typeof t&&Zl(e)?c(e,t):ul(e,xi(t))}function la(e,t,n,r){e=$a(e)?e:su(e),n=n&&!r?js(n):0;var i=e.length;return 0>n&&(n=Pc(i+n,0)),_s(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&x(e,t,n)>-1}function fa(e,t){var n=Zl(e)?p:ir;return n(e,xi(t,3))}function ha(e,t,n,r){return null==e?[]:(Zl(t)||(t=null==t?[]:[t]),n=r?Q:n,Zl(n)||(n=null==n?[]:[n]),lr(e,t,n))}function da(e,t,n){var r=Zl(e)?m:E,i=arguments.length<3;return r(e,xi(t,4),n,i,sl)}function pa(e,t,n){var r=Zl(e)?g:E,i=arguments.length<3;return r(e,xi(t,4),n,i,ul)}function va(e,t){var n=Zl(e)?f:qn;return t=xi(t,3),n(e,function(e,n,r){return!t(e,n,r)})}function ma(e){var t=$a(e)?e:su(e),n=t.length;return n>0?t[gr(0,n-1)]:Q}function ga(e,t,n){var r=-1,i=As(e),o=i.length,a=o-1;for(t=(n?Pi(e,t,n):t===Q)?1:gn(js(t),0,o);++r<t;){var s=gr(r,a),u=i[s];i[s]=i[r],i[r]=u}return i.length=t,i}function ya(e){return ga(e,je)}function _a(e){if(null==e)return 0;if($a(e)){var t=e.length;return t&&_s(e)?J(e):t}if(as(e)){var n=ji(e);if(n==Ne||n==Be)return e.size}return $s(e).length}function ba(e,t,n){var r=Zl(e)?y:xr;return n&&Pi(e,t,n)&&(t=Q),r(e,xi(t,3))}function wa(e,t){if("function"!=typeof t)throw new uc(ne);return e=js(e),function(){return--e<1?t.apply(this,arguments):void 0}}function xa(e,t,n){return t=n?Q:t,t=e&&null==t?e.length:t,vi(e,he,Q,Q,Q,Q,t)}function ka(e,t){var n;if("function"!=typeof t)throw new uc(ne);return e=js(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=Q),n}}function Sa(e,t,n){t=n?Q:t;var r=vi(e,ue,Q,Q,Q,Q,Q,t);return r.placeholder=Sa.placeholder,r}function Ea(e,t,n){t=n?Q:t;var r=vi(e,ce,Q,Q,Q,Q,Q,t);return r.placeholder=Ea.placeholder,r}function Oa(e,t,n){function r(t){var n=h,r=d;return h=d=Q,y=t,v=e.apply(r,n)}function i(e){return y=e,m=Tc(s,t),_?r(e):v}function o(e){var n=e-g,r=e-y,i=t-n;return b?Nc(i,p-r):i}function a(e){var n=e-g,r=e-y;return!g||n>=t||0>n||b&&r>=p}function s(){var e=Yl();return a(e)?u(e):void(m=Tc(s,o(e)))}function u(e){return kc(m),m=Q,w&&h?r(e):(h=d=Q,v)}function c(){m!==Q&&kc(m),g=y=0,h=d=m=Q}function l(){return m===Q?v:u(Yl())}function f(){var e=Yl(),n=a(e);if(h=arguments,d=this,g=e,n){if(m===Q)return i(g);if(b)return kc(m),m=Tc(s,t),r(g)}return m===Q&&(m=Tc(s,t)),v}var h,d,p,v,m,g=0,y=0,_=!1,b=!1,w=!0;if("function"!=typeof e)throw new uc(ne);return t=Ds(t)||0,os(n)&&(_=!!n.leading,b="maxWait"in n,p=b?Pc(Ds(n.maxWait)||0,t):p,w="trailing"in n?!!n.trailing:w),f.cancel=c,f.flush=l,f}function Aa(e){return vi(e,pe)}function ja(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new uc(ne);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(ja.Cache||Wt),n}function Ta(e){if("function"!=typeof e)throw new uc(ne);return function(){return!e.apply(this,arguments)}}function Da(e){return ka(2,e)}function Ma(e,t){if("function"!=typeof e)throw new uc(ne);return t=Pc(t===Q?e.length-1:js(t),0),function(){for(var n=arguments,r=-1,i=Pc(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,o(e,this,s)}}function Ia(e,t){if("function"!=typeof e)throw new uc(ne);return t=t===Q?0:Pc(js(t),0),Ma(function(n){var r=n[t],i=Pr(n,0,t);return r&&v(i,r),o(e,this,i)})}function Ca(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new uc(ne);return os(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(e,t,{leading:r,maxWait:t,trailing:i})}function qa(e){return xa(e,1)}function La(e,t){return t=null==t?Pu:t,zl(t,e)}function Ra(){if(!arguments.length)return[];var e=arguments[0];return Zl(e)?e:[e]}function Pa(e){return yn(e,!1,!0)}function Na(e,t){return yn(e,!1,!0,t)}function Fa(e){return yn(e,!0,!0)}function Ua(e,t){return yn(e,!0,!0,t)}function Ha(e,t){return e===t||e!==e&&t!==t}function Ya(e,t){return e>t}function Ba(e,t){return e>=t}function Wa(e){return Ga(e)&&dc.call(e,"callee")&&(!jc.call(e,"callee")||mc.call(e)==Me)}function Va(e){return as(e)&&mc.call(e)==ze}function $a(e){return null!=e&&is(pl(e))&&!ns(e)}function Ga(e){return as(e)&&$a(e)}function za(e){return e===!0||e===!1||as(e)&&mc.call(e)==Ce}function Ja(e){return as(e)&&mc.call(e)==qe}function Ka(e){return!!e&&1===e.nodeType&&as(e)&&!vs(e)}function Za(e){if($a(e)&&(Zl(e)||_s(e)||ns(e.splice)||Wa(e)||Xl(e)))return!e.length;if(as(e)){var t=ji(e);if(t==Ne||t==Be)return!e.size}for(var n in e)if(dc.call(e,n))return!1;return!(Zc&&$s(e).length)}function Xa(e,t){return Xn(e,t)}function Qa(e,t,n){n="function"==typeof n?n:Q;var r=n?n(e,t):Q;return r===Q?Xn(e,t,n):!!r}function es(e){return as(e)?mc.call(e)==Le||"string"==typeof e.message&&"string"==typeof e.name:!1}function ts(e){return"number"==typeof e&&qc(e)}function ns(e){var t=os(e)?mc.call(e):"";return t==Re||t==Pe}function rs(e){return"number"==typeof e&&e==js(e)}function is(e){return"number"==typeof e&&e>-1&&e%1==0&&Ee>=e}function os(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function as(e){return!!e&&"object"==typeof e}function ss(e){return as(e)&&ji(e)==Ne}function us(e,t){return e===t||er(e,t,ki(t))}function cs(e,t,n){return n="function"==typeof n?n:Q,er(e,t,ki(t),n)}function ls(e){return ps(e)&&e!=+e}function fs(e){if(!os(e))return!1;var t=ns(e)||B(e)?yc:Dt;return t.test(Ji(e))}function hs(e){return null===e}function ds(e){return null==e}function ps(e){return"number"==typeof e||as(e)&&mc.call(e)==Fe}function vs(e){if(!as(e)||mc.call(e)!=Ue||B(e))return!1;var t=Oi(e);if(null===t)return!0;var n=dc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&hc.call(n)==vc}function ms(e){return os(e)&&mc.call(e)==Ye}function gs(e){return rs(e)&&e>=-Ee&&Ee>=e}function ys(e){return as(e)&&ji(e)==Be}function _s(e){return"string"==typeof e||!Zl(e)&&as(e)&&mc.call(e)==We}function bs(e){return"symbol"==typeof e||as(e)&&mc.call(e)==Ve}function ws(e){return as(e)&&is(e.length)&&!!jn[mc.call(e)]}function xs(e){return e===Q}function ks(e){return as(e)&&ji(e)==$e}function Ss(e){return as(e)&&mc.call(e)==Ge}function Es(e,t){return t>e}function Os(e,t){return t>=e}function As(e){if(!e)return[];if($a(e))return _s(e)?K(e):zr(e);if(Oc&&e[Oc])return V(e[Oc]());var t=ji(e),n=t==Ne?$:t==Be?z:su;return n(e)}function js(e){if(!e)return 0===e?e:0;if(e=Ds(e),e===Se||e===-Se){var t=0>e?-1:1;return t*Oe}var n=e%1;return e===e?n?e-n:e:0}function Ts(e){return e?gn(js(e),0,je):0}function Ds(e){if("number"==typeof e)return e;if(bs(e))return Ae;if(os(e)){var t=ns(e.valueOf)?e.valueOf():e;e=os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(bt,"");var n=Tt.test(e);return n||Mt.test(e)?Rn(e.slice(2),n?2:8):jt.test(e)?Ae:+e}function Ms(e){return Jr(e,Gs(e))}function Is(e){return gn(js(e),-Ee,Ee)}function Cs(e){if("string"==typeof e)return e;if(null==e)return"";if(bs(e))return al?al.call(e):"";var t=e+"";return"0"==t&&1/e==-Se?"-0":t}function qs(e,t){var n=xn(e);return t?vn(n,t):n}function Ls(e,t){return b(e,xi(t,3),Nn,!0)}function Rs(e,t){return b(e,xi(t,3),Un,!0)}function Ps(e,t){return null==e?e:cl(e,xi(t),Gs)}function Ns(e,t){return null==e?e:ll(e,xi(t),Gs)}function Fs(e,t){return e&&Nn(e,xi(t))}function Us(e,t){return e&&Un(e,xi(t))}function Hs(e){return null==e?[]:Hn(e,$s(e))}function Ys(e){return null==e?[]:Hn(e,Gs(e))}function Bs(e,t,n){var r=null==e?Q:Yn(e,t);return r===Q?n:r}function Ws(e,t){return null!=e&&Di(e,t,$n)}function Vs(e,t){return null!=e&&Di(e,t,Gn)}function $s(e){var t=Hi(e);if(!t&&!$a(e))return nr(e);var n=qi(e),r=!!n,i=n||[],o=i.length;for(var a in e)!$n(e,a)||r&&("length"==a||W(a,o))||t&&"constructor"==a||i.push(a);return i}function Gs(e){for(var t=-1,n=Hi(e),r=rr(e),i=r.length,o=qi(e),a=!!o,s=o||[],u=s.length;++t<i;){var c=r[t];a&&("length"==c||W(c,u))||"constructor"==c&&(n||!dc.call(e,c))||s.push(c)}return s}function zs(e,t){var n={};return t=xi(t,3),Nn(e,function(e,r,i){n[t(e,r,i)]=e}),n}function Js(e,t){var n={};return t=xi(t,3),Nn(e,function(e,r,i){n[r]=t(e,r,i)}),n}function Ks(e,t){return t=xi(t),hr(e,function(e,n){return!t(e,n)})}function Zs(e,t){return null==e?{}:hr(e,xi(t))}function Xs(e,t,n){t=Ni(t,e)?[t]:Rr(t);var r=-1,i=t.length;for(i||(e=Q,i=1);++r<i;){var o=null==e?Q:e[t[r]];o===Q&&(r=i,o=n),e=ns(o)?o.call(e):o}return e}function Qs(e,t,n){return null==e?e:br(e,t,n)}function eu(e,t,n,r){return r="function"==typeof r?r:Q,null==e?e:br(e,t,n,r)}function tu(e){return T(e,$s(e))}function nu(e){return T(e,Gs(e))}function ru(e,t,n){var r=Zl(e)||ws(e);if(t=xi(t,4),null==n)if(r||os(e)){var i=e.constructor;n=r?Zl(e)?new i:[]:ns(i)?xn(Oi(e)):{}}else n={};return(r?u:Nn)(e,function(e,r,i){return t(n,e,r,i)}),n}function iu(e,t){return null==e?!0:jr(e,t)}function ou(e,t,n){return null==e?e:Tr(e,t,Lr(n))}function au(e,t,n,r){return r="function"==typeof r?r:Q,null==e?e:Tr(e,t,Lr(n),r)}function su(e){return e?M(e,$s(e)):[]}function uu(e){return null==e?[]:M(e,Gs(e))}function cu(e,t,n){return n===Q&&(n=t,t=Q),n!==Q&&(n=Ds(n),n=n===n?n:0),t!==Q&&(t=Ds(t),t=t===t?t:0),gn(Ds(e),t,n)}function lu(e,t,n){return t=Ds(t)||0,n===Q?(n=t,t=0):n=Ds(n)||0,e=Ds(e),zn(e,t,n)}function fu(e,t,n){if(n&&"boolean"!=typeof n&&Pi(e,t,n)&&(t=n=Q),n===Q&&("boolean"==typeof t?(n=t,t=Q):"boolean"==typeof e&&(n=e,e=Q)),e===Q&&t===Q?(e=0,t=1):(e=Ds(e)||0,t===Q?(t=e,e=0):t=Ds(t)||0),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Uc();return Nc(e+i*(t-e+Ln("1e-"+((i+"").length-1))),t)}return gr(e,t)}function hu(e){return wf(Cs(e).toLowerCase())}function du(e){return e=Cs(e),e&&e.replace(Ct,F).replace(wn,"")}function pu(e,t,n){e=Cs(e),t="string"==typeof t?t:t+"";var r=e.length;return n=n===Q?r:gn(js(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function vu(e){return e=Cs(e),e&&ft.test(e)?e.replace(ct,U):e}function mu(e){return e=Cs(e),e&&_t.test(e)?e.replace(yt,"\\$&"):e}function gu(e,t,n){e=Cs(e),t=js(t);var r=t?J(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return li(Ic(i),n)+e+li(Mc(i),n)}function yu(e,t,n){e=Cs(e),t=js(t);var r=t?J(e):0;return t&&t>r?e+li(t-r,n):e}function _u(e,t,n){e=Cs(e),t=js(t);var r=t?J(e):0;return t&&t>r?li(t-r,n)+e:e}function bu(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Cs(e).replace(bt,""),Fc(e,t||(At.test(e)?16:10))}function wu(e,t,n){return t=(n?Pi(e,t,n):t===Q)?1:js(t),_r(Cs(e),t)}function xu(){var e=arguments,t=Cs(e[0]);return e.length<3?t:Hc.call(t,e[1],e[2])}function ku(e,t,n){return n&&"number"!=typeof n&&Pi(e,t,n)&&(t=n=Q),(n=n===Q?je:n>>>0)?(e=Cs(e),e&&("string"==typeof t||null!=t&&!ms(t))&&(t+="",""==t&&Sn.test(e))?Pr(K(e),0,n):Bc.call(e,t,n)):[]}function Su(e,t,n){return e=Cs(e),n=gn(js(n),0,e.length),e.lastIndexOf(t,n)==n}function Eu(e,n,r){var i=t.templateSettings;r&&Pi(e,n,r)&&(n=Q),e=Cs(e),n=tf({},n,i,fn);var o,a,s=tf({},n.imports,i.imports,fn),u=$s(s),c=M(s,u),l=0,f=n.interpolate||qt,h="__p += '",d=sc((n.escape||qt).source+"|"+f.source+"|"+(f===pt?Et:qt).source+"|"+(n.evaluate||qt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++An+"]")+"\n";e.replace(d,function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(l,u).replace(Lt,H),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(ot,""):h).replace(at,"$1").replace(st,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=xf(function(){return Function(u,p+"return "+h).apply(Q,c)});if(m.source=h,es(m))throw m;return m}function Ou(e){return Cs(e).toLowerCase()}function Au(e){return Cs(e).toUpperCase()}function ju(e,t,n){if(e=Cs(e),!e)return e;if(n||t===Q)return e.replace(bt,"");if(!(t+=""))return e;var r=K(e),i=K(t),o=I(r,i),a=C(r,i)+1;return Pr(r,o,a).join("")}function Tu(e,t,n){if(e=Cs(e),!e)return e;if(n||t===Q)return e.replace(xt,"");if(!(t+=""))return e;var r=K(e),i=C(r,K(t))+1;return Pr(r,0,i).join("")}function Du(e,t,n){if(e=Cs(e),!e)return e;if(n||t===Q)return e.replace(wt,"");if(!(t+=""))return e;var r=K(e),i=I(r,K(t));return Pr(r,i).join("")}function Mu(e,t){var n=ge,r=ye;if(os(t)){var i="separator"in t?t.separator:i;n="length"in t?js(t.length):n,r="omission"in t?Cs(t.omission):r}e=Cs(e);var o=e.length;if(Sn.test(e)){var a=K(e);o=a.length}if(n>=o)return e;var s=n-J(r);if(1>s)return r;var u=a?Pr(a,0,s).join(""):e.slice(0,s);if(i===Q)return u+r;if(a&&(s+=u.length-s),ms(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=sc(i.source,Cs(Ot.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,f===Q?s:f)}}else if(e.indexOf(i,s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function Iu(e){return e=Cs(e),e&&lt.test(e)?e.replace(ut,Z):e}function Cu(e,t,n){return e=Cs(e),t=n?Q:t,t===Q&&(t=En.test(e)?kn:kt),e.match(t)||[]}function qu(e){var t=e?e.length:0,n=xi();return e=t?p(e,function(e){if("function"!=typeof e[1])throw new uc(ne);return[n(e[0]),e[1]]}):[],Ma(function(n){for(var r=-1;++r<t;){var i=e[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Lu(e){return _n(yn(e,!0))}function Ru(e){return function(){return e}}function Pu(e){return e}function Nu(e){return tr("function"==typeof e?e:yn(e,!0))}function Fu(e){return or(yn(e,!0))}function Uu(e,t){return ar(e,yn(t,!0))}function Hu(e,t,n){var r=$s(t),i=Hn(t,r);null!=n||os(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Hn(t,$s(t)));var o=!(os(n)&&"chain"in n&&!n.chain),a=ns(e);return u(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=zr(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,v([this.value()],arguments))})}),e}function Yu(){return Wn._===this&&(Wn._=gc),this}function Bu(){}function Wu(e){return e=js(e),Ma(function(t){return cr(t,e)})}function Vu(e){return Ni(e)?dr(e):pr(e)}function $u(e){return function(t){return null==e?Q:Yn(e,t)}}function Gu(e,t){if(e=js(e),1>e||e>Ee)return[];var n=je,r=Nc(e,je);t=xi(t),e-=je;for(var i=j(r,t);++n<e;)t(n);return i}function zu(e){return Zl(e)?p(e,zi):bs(e)?[e]:zr(gl(e))}function Ju(e){var t=++pc;return Cs(e)+t}function Ku(e){return e&&e.length?_(e,Pu,Ya):Q}function Zu(e,t){return e&&e.length?_(e,xi(t),Ya):Q}function Xu(e){return S(e,Pu)}function Qu(e,t){return S(e,xi(t))}function ec(e){return e&&e.length?_(e,Pu,Es):Q}function tc(e,t){return e&&e.length?_(e,xi(t),Es):Q}function nc(e){return e&&e.length?A(e,Pu):0}function rc(e,t){return e&&e.length?A(e,xi(t)):0}e=e?Vn.defaults({},e,Vn.pick(Wn,On)):Wn;var ic=e.Date,oc=e.Error,ac=e.Math,sc=e.RegExp,uc=e.TypeError,cc=e.Array.prototype,lc=e.Object.prototype,fc=e.String.prototype,hc=e.Function.prototype.toString,dc=lc.hasOwnProperty,pc=0,vc=hc.call(Object),mc=lc.toString,gc=Wn._,yc=sc("^"+hc.call(dc).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_c=Fn?e.Buffer:Q,bc=e.Reflect,wc=e.Symbol,xc=e.Uint8Array,kc=e.clearTimeout,Sc=bc?bc.enumerate:Q,Ec=Object.getOwnPropertySymbols,Oc="symbol"==typeof(Oc=wc&&wc.iterator)?Oc:Q,Ac=Object.create,jc=lc.propertyIsEnumerable,Tc=e.setTimeout,Dc=cc.splice,Mc=ac.ceil,Ic=ac.floor,Cc=Object.getPrototypeOf,qc=e.isFinite,Lc=cc.join,Rc=Object.keys,Pc=ac.max,Nc=ac.min,Fc=e.parseInt,Uc=ac.random,Hc=fc.replace,Yc=cc.reverse,Bc=fc.split,Wc=Si(e,"DataView"),Vc=Si(e,"Map"),$c=Si(e,"Promise"),Gc=Si(e,"Set"),zc=Si(e,"WeakMap"),Jc=Si(Object,"create"),Kc=zc&&new zc,Zc=!jc.call({valueOf:1},"valueOf"),Xc={},Qc=Ji(Wc),el=Ji(Vc),tl=Ji($c),nl=Ji(Gc),rl=Ji(zc),il=wc?wc.prototype:Q,ol=il?il.valueOf:Q,al=il?il.toString:Q;t.templateSettings={escape:ht,evaluate:dt,interpolate:pt,variable:"",imports:{_:t}},t.prototype=n.prototype,t.prototype.constructor=t,q.prototype=xn(n.prototype),q.prototype.constructor=q,It.prototype=xn(n.prototype),It.prototype.constructor=It,Ft.prototype=Jc?Jc(null):lc,Wt.prototype.clear=Vt,Wt.prototype["delete"]=$t,Wt.prototype.get=Gt,Wt.prototype.has=zt,Wt.prototype.set=Jt,Kt.prototype.push=Xt,Qt.prototype.clear=en,Qt.prototype["delete"]=tn,Qt.prototype.get=nn,Qt.prototype.has=rn,Qt.prototype.set=on;var sl=Qr(Nn),ul=Qr(Un,!0),cl=ei(),ll=ei(!0);Sc&&!jc.call({valueOf:1},"valueOf")&&(rr=function(e){return V(Sc(e))});var fl=Kc?function(e,t){return Kc.set(e,t),e}:Pu,hl=Gc&&2===new Gc([1,2]).size?function(e){return new Gc(e)}:Bu,dl=Kc?function(e){return Kc.get(e)}:Bu,pl=dr("length");Ec||(Ai=function(){return[]});var vl=Ec?function(e){for(var t=[];e;)v(t,Ai(e)),e=Oi(e);return t}:Ai;(Wc&&ji(new Wc(new ArrayBuffer(1)))!=Je||Vc&&ji(new Vc)!=Ne||$c&&ji($c.resolve())!=He||Gc&&ji(new Gc)!=Be||zc&&ji(new zc)!=$e)&&(ji=function(e){var t=mc.call(e),n=t==Ue?e.constructor:Q,r=n?Ji(n):Q;if(r)switch(r){case Qc:return Je;case el:return Ne;case tl:return He;case nl:return Be;case rl:return $e}return t});var ml=function(){var e=0,t=0;return function(n,r){var i=Yl(),o=be-(i-t);if(t=i,o>0){if(++e>=_e)return n}else e=0;return fl(n,r)}}(),gl=ja(function(e){var t=[];return Cs(e).replace(gt,function(e,n,r,i){t.push(r?i.replace(St,"$1"):n||e)}),t}),yl=Ma(function(e,t){return Ga(e)?Mn(e,Pn(t,1,Ga,!0)):[]}),_l=Ma(function(e,t){var n=mo(t);return Ga(n)&&(n=Q),Ga(e)?Mn(e,Pn(t,1,Ga,!0),xi(n)):[]}),bl=Ma(function(e,t){var n=mo(t);return Ga(n)&&(n=Q),Ga(e)?Mn(e,Pn(t,1,Ga,!0),Q,n):[]}),wl=Ma(function(e){var t=p(e,qr);return t.length&&t[0]===e[0]?Jn(t):[]}),xl=Ma(function(e){var t=mo(e),n=p(e,qr);return t===mo(n)?t=Q:n.pop(),n.length&&n[0]===e[0]?Jn(n,xi(t)):[]}),kl=Ma(function(e){var t=mo(e),n=p(e,qr);return t===mo(n)?t=Q:n.pop(),n.length&&n[0]===e[0]?Jn(n,Q,t):[]}),Sl=Ma(_o),El=Ma(function(e,t){t=p(Pn(t,1),String);var n=mn(e,t);return mr(e,t.sort(L)),n}),Ol=Ma(function(e){return Ar(Pn(e,1,Ga,!0))}),Al=Ma(function(e){var t=mo(e);return Ga(t)&&(t=Q),Ar(Pn(e,1,Ga,!0),xi(t))}),jl=Ma(function(e){var t=mo(e);return Ga(t)&&(t=Q),Ar(Pn(e,1,Ga,!0),Q,t)}),Tl=Ma(function(e,t){return Ga(e)?Mn(e,t):[]}),Dl=Ma(function(e){return Ir(f(e,Ga))}),Ml=Ma(function(e){var t=mo(e);return Ga(t)&&(t=Q),Ir(f(e,Ga),xi(t))}),Il=Ma(function(e){var t=mo(e);return Ga(t)&&(t=Q),Ir(f(e,Ga),Q,t)}),Cl=Ma(Ho),ql=Ma(function(e){var t=e.length,n=t>1?e[t-1]:Q;return n="function"==typeof n?(e.pop(),n):Q,Yo(e,n)}),Ll=Ma(function(e){e=Pn(e,1);var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return mn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof It&&W(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Go,args:[i],thisArg:Q}),new q(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(Q),e})):this.thru(i)}),Rl=Zr(function(e,t,n){dc.call(e,n)?++e[n]:e[n]=1}),Pl=Zr(function(e,t,n){dc.call(e,n)?e[n].push(t):e[n]=[t]}),Nl=Ma(function(e,t,n){var r=-1,i="function"==typeof t,a=Ni(t),s=$a(e)?Array(e.length):[];return sl(e,function(e){var u=i?t:a&&null!=e?e[t]:Q;s[++r]=u?o(u,e,n):Zn(e,t,n)}),s}),Fl=Zr(function(e,t,n){e[n]=t}),Ul=Zr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Hl=Ma(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Pi(e,t[0],t[1])?t=[]:n>2&&Pi(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&Zl(t[0])?t[0]:Pn(t,1,Ri),lr(e,t,[])}),Yl=ic.now,Bl=Ma(function(e,t,n){var r=oe;if(n.length){var i=G(n,Ei(Bl));r|=le}return vi(e,r,t,n,i)}),Wl=Ma(function(e,t,n){var r=oe|ae;if(n.length){var i=G(n,Ei(Wl));r|=le}return vi(t,r,e,n,i)}),Vl=Ma(function(e,t){return Dn(e,1,t)}),$l=Ma(function(e,t,n){return Dn(e,Ds(t)||0,n)});ja.Cache=Wt;var Gl=Ma(function(e,t){t=1==t.length&&Zl(t[0])?p(t[0],D(xi())):p(Pn(t,1,Ri),D(xi()));var n=t.length;return Ma(function(r){for(var i=-1,a=Nc(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return o(e,this,r)})}),zl=Ma(function(e,t){var n=G(t,Ei(zl));return vi(e,le,Q,t,n)}),Jl=Ma(function(e,t){var n=G(t,Ei(Jl));return vi(e,fe,Q,t,n)}),Kl=Ma(function(e,t){return vi(e,de,Q,Q,Q,Pn(t,1))}),Zl=Array.isArray,Xl=_c?function(e){return e instanceof _c}:Ru(!1),Ql=Xr(function(e,t){if(Zc||Hi(t)||$a(t))return void Jr(t,$s(t),e);for(var n in t)dc.call(t,n)&&dn(e,n,t[n])}),ef=Xr(function(e,t){if(Zc||Hi(t)||$a(t))return void Jr(t,Gs(t),e);for(var n in t)dn(e,n,t[n])}),tf=Xr(function(e,t,n,r){Jr(t,Gs(t),e,r)}),nf=Xr(function(e,t,n,r){Jr(t,$s(t),e,r)}),rf=Ma(function(e,t){return mn(e,Pn(t,1))}),of=Ma(function(e){return e.push(Q,fn),o(tf,Q,e)}),af=Ma(function(e){return e.push(Q,Vi),o(ff,Q,e)}),sf=ui(function(e,t,n){e[t]=n},Ru(Pu)),uf=ui(function(e,t,n){dc.call(e,t)?e[t].push(n):e[t]=[n]},xi),cf=Ma(Zn),lf=Xr(function(e,t,n){sr(e,t,n)}),ff=Xr(function(e,t,n,r){sr(e,t,n,r)}),hf=Ma(function(e,t){return null==e?{}:(t=p(Pn(t,1),zi),fr(e,Mn(bi(e),t)))}),df=Ma(function(e,t){return null==e?{}:fr(e,Pn(t,1))}),pf=ri(function(e,t,n){return t=t.toLowerCase(),e+(n?hu(t):t)}),vf=ri(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),mf=ri(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),gf=ni("toLowerCase"),yf=ri(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),_f=ri(function(e,t,n){return e+(n?" ":"")+wf(t)}),bf=ri(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),wf=ni("toUpperCase"),xf=Ma(function(e,t){try{return o(e,Q,t)}catch(n){return es(n)?n:new oc(n)}}),kf=Ma(function(e,t){return u(Pn(t,1),function(t){e[t]=Bl(e[t],e)}),e}),Sf=ai(),Ef=ai(!0),Of=Ma(function(e,t){return function(n){return Zn(n,e,t)}}),Af=Ma(function(e,t){return function(n){return Zn(e,n,t)}}),jf=ci(p),Tf=ci(l),Df=ci(y),Mf=hi(),If=hi(!0),Cf=N(function(e,t){
return e+t}),qf=pi("ceil"),Lf=N(function(e,t){return e/t}),Rf=pi("floor"),Pf=N(function(e,t){return e*t}),Nf=pi("round"),Ff=N(function(e,t){return e-t});return t.after=wa,t.ary=xa,t.assign=Ql,t.assignIn=ef,t.assignInWith=tf,t.assignWith=nf,t.at=rf,t.before=ka,t.bind=Bl,t.bindAll=kf,t.bindKey=Wl,t.castArray=Ra,t.chain=Vo,t.chunk=Zi,t.compact=Xi,t.concat=Qi,t.cond=qu,t.conforms=Lu,t.constant=Ru,t.countBy=Rl,t.create=qs,t.curry=Sa,t.curryRight=Ea,t.debounce=Oa,t.defaults=of,t.defaultsDeep=af,t.defer=Vl,t.delay=$l,t.difference=yl,t.differenceBy=_l,t.differenceWith=bl,t.drop=eo,t.dropRight=to,t.dropRightWhile=no,t.dropWhile=ro,t.fill=io,t.filter=na,t.flatMap=oa,t.flatMapDeep=aa,t.flatMapDepth=sa,t.flatten=so,t.flattenDeep=uo,t.flattenDepth=co,t.flip=Aa,t.flow=Sf,t.flowRight=Ef,t.fromPairs=lo,t.functions=Hs,t.functionsIn=Ys,t.groupBy=Pl,t.initial=po,t.intersection=wl,t.intersectionBy=xl,t.intersectionWith=kl,t.invert=sf,t.invertBy=uf,t.invokeMap=Nl,t.iteratee=Nu,t.keyBy=Fl,t.keys=$s,t.keysIn=Gs,t.map=fa,t.mapKeys=zs,t.mapValues=Js,t.matches=Fu,t.matchesProperty=Uu,t.memoize=ja,t.merge=lf,t.mergeWith=ff,t.method=Of,t.methodOf=Af,t.mixin=Hu,t.negate=Ta,t.nthArg=Wu,t.omit=hf,t.omitBy=Ks,t.once=Da,t.orderBy=ha,t.over=jf,t.overArgs=Gl,t.overEvery=Tf,t.overSome=Df,t.partial=zl,t.partialRight=Jl,t.partition=Ul,t.pick=df,t.pickBy=Zs,t.property=Vu,t.propertyOf=$u,t.pull=Sl,t.pullAll=_o,t.pullAllBy=bo,t.pullAllWith=wo,t.pullAt=El,t.range=Mf,t.rangeRight=If,t.rearg=Kl,t.reject=va,t.remove=xo,t.rest=Ma,t.reverse=ko,t.sampleSize=ga,t.set=Qs,t.setWith=eu,t.shuffle=ya,t.slice=So,t.sortBy=Hl,t.sortedUniq=Mo,t.sortedUniqBy=Io,t.split=ku,t.spread=Ia,t.tail=Co,t.take=qo,t.takeRight=Lo,t.takeRightWhile=Ro,t.takeWhile=Po,t.tap=$o,t.throttle=Ca,t.thru=Go,t.toArray=As,t.toPairs=tu,t.toPairsIn=nu,t.toPath=zu,t.toPlainObject=Ms,t.transform=ru,t.unary=qa,t.union=Ol,t.unionBy=Al,t.unionWith=jl,t.uniq=No,t.uniqBy=Fo,t.uniqWith=Uo,t.unset=iu,t.unzip=Ho,t.unzipWith=Yo,t.update=ou,t.updateWith=au,t.values=su,t.valuesIn=uu,t.without=Tl,t.words=Cu,t.wrap=La,t.xor=Dl,t.xorBy=Ml,t.xorWith=Il,t.zip=Cl,t.zipObject=Bo,t.zipObjectDeep=Wo,t.zipWith=ql,t.entries=tu,t.entriesIn=nu,t.extend=ef,t.extendWith=tf,Hu(t,t),t.add=Cf,t.attempt=xf,t.camelCase=pf,t.capitalize=hu,t.ceil=qf,t.clamp=cu,t.clone=Pa,t.cloneDeep=Fa,t.cloneDeepWith=Ua,t.cloneWith=Na,t.deburr=du,t.divide=Lf,t.endsWith=pu,t.eq=Ha,t.escape=vu,t.escapeRegExp=mu,t.every=ta,t.find=ra,t.findIndex=oo,t.findKey=Ls,t.findLast=ia,t.findLastIndex=ao,t.findLastKey=Rs,t.floor=Rf,t.forEach=ua,t.forEachRight=ca,t.forIn=Ps,t.forInRight=Ns,t.forOwn=Fs,t.forOwnRight=Us,t.get=Bs,t.gt=Ya,t.gte=Ba,t.has=Ws,t.hasIn=Vs,t.head=fo,t.identity=Pu,t.includes=la,t.indexOf=ho,t.inRange=lu,t.invoke=cf,t.isArguments=Wa,t.isArray=Zl,t.isArrayBuffer=Va,t.isArrayLike=$a,t.isArrayLikeObject=Ga,t.isBoolean=za,t.isBuffer=Xl,t.isDate=Ja,t.isElement=Ka,t.isEmpty=Za,t.isEqual=Xa,t.isEqualWith=Qa,t.isError=es,t.isFinite=ts,t.isFunction=ns,t.isInteger=rs,t.isLength=is,t.isMap=ss,t.isMatch=us,t.isMatchWith=cs,t.isNaN=ls,t.isNative=fs,t.isNil=ds,t.isNull=hs,t.isNumber=ps,t.isObject=os,t.isObjectLike=as,t.isPlainObject=vs,t.isRegExp=ms,t.isSafeInteger=gs,t.isSet=ys,t.isString=_s,t.isSymbol=bs,t.isTypedArray=ws,t.isUndefined=xs,t.isWeakMap=ks,t.isWeakSet=Ss,t.join=vo,t.kebabCase=vf,t.last=mo,t.lastIndexOf=go,t.lowerCase=mf,t.lowerFirst=gf,t.lt=Es,t.lte=Os,t.max=Ku,t.maxBy=Zu,t.mean=Xu,t.meanBy=Qu,t.min=ec,t.minBy=tc,t.multiply=Pf,t.nth=yo,t.noConflict=Yu,t.noop=Bu,t.now=Yl,t.pad=gu,t.padEnd=yu,t.padStart=_u,t.parseInt=bu,t.random=fu,t.reduce=da,t.reduceRight=pa,t.repeat=wu,t.replace=xu,t.result=Xs,t.round=Nf,t.runInContext=X,t.sample=ma,t.size=_a,t.snakeCase=yf,t.some=ba,t.sortedIndex=Eo,t.sortedIndexBy=Oo,t.sortedIndexOf=Ao,t.sortedLastIndex=jo,t.sortedLastIndexBy=To,t.sortedLastIndexOf=Do,t.startCase=_f,t.startsWith=Su,t.subtract=Ff,t.sum=nc,t.sumBy=rc,t.template=Eu,t.times=Gu,t.toInteger=js,t.toLength=Ts,t.toLower=Ou,t.toNumber=Ds,t.toSafeInteger=Is,t.toString=Cs,t.toUpper=Au,t.trim=ju,t.trimEnd=Tu,t.trimStart=Du,t.truncate=Mu,t.unescape=Iu,t.uniqueId=Ju,t.upperCase=bf,t.upperFirst=wf,t.each=ua,t.eachRight=ca,t.first=fo,Hu(t,function(){var e={};return Nn(t,function(n,r){dc.call(t.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),t.VERSION=ee,u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),u(["drop","take"],function(e,t){It.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new It(this);n=n===Q?1:Pc(js(n),0);var i=this.clone();return r?i.__takeCount__=Nc(n,i.__takeCount__):i.__views__.push({size:Nc(n,je),type:e+(i.__dir__<0?"Right":"")}),i},It.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==we||n==ke;It.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:xi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");It.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");It.prototype[e]=function(){return this.__filtered__?new It(this):this[n](1)}}),It.prototype.compact=function(){return this.filter(Pu)},It.prototype.find=function(e){return this.filter(e).head()},It.prototype.findLast=function(e){return this.reverse().find(e)},It.prototype.invokeMap=Ma(function(e,t){return"function"==typeof e?new It(this):this.map(function(n){return Zn(n,e,t)})}),It.prototype.reject=function(e){return e=xi(e,3),this.filter(function(t){return!e(t)})},It.prototype.slice=function(e,t){e=js(e);var n=this;return n.__filtered__&&(e>0||0>t)?new It(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Q&&(t=js(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},It.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},It.prototype.toArray=function(){return this.take(je)},Nn(It.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=t[i?"take"+("last"==n?"Right":""):n],a=i||/^find/.test(n);o&&(t.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,u=n instanceof It,c=s[0],l=u||Zl(n),f=function(e){var n=o.apply(t,v([e],s));return i&&h?n[0]:n};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,m=u&&!d;if(!a&&l){n=m?n:new It(this);var g=e.apply(n,s);return g.__actions__.push({func:Go,args:[f],thisArg:Q}),new q(g,h)}return p&&m?e.apply(this,s):(g=this.thru(f),p?i?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(e){var n=cc[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var t=this.value();return n.apply(Zl(t)?t:[],e)}return this[r](function(t){return n.apply(Zl(t)?t:[],e)})}}),Nn(It.prototype,function(e,n){var r=t[n];if(r){var i=r.name+"",o=Xc[i]||(Xc[i]=[]);o.push({name:n,func:r})}}),Xc[si(Q,ae).name]=[{name:"wrapper",func:Q}],It.prototype.clone=Rt,It.prototype.reverse=Pt,It.prototype.value=Nt,t.prototype.at=Ll,t.prototype.chain=zo,t.prototype.commit=Jo,t.prototype.next=Ko,t.prototype.plant=Xo,t.prototype.reverse=Qo,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=ea,Oc&&(t.prototype[Oc]=Zo),t}var Q,ee="4.11.1",te=200,ne="Expected a function",re="__lodash_hash_undefined__",ie="__lodash_placeholder__",oe=1,ae=2,se=4,ue=8,ce=16,le=32,fe=64,he=128,de=256,pe=512,ve=1,me=2,ge=30,ye="...",_e=150,be=16,we=1,xe=2,ke=3,Se=1/0,Ee=9007199254740991,Oe=1.7976931348623157e308,Ae=NaN,je=4294967295,Te=je-1,De=je>>>1,Me="[object Arguments]",Ie="[object Array]",Ce="[object Boolean]",qe="[object Date]",Le="[object Error]",Re="[object Function]",Pe="[object GeneratorFunction]",Ne="[object Map]",Fe="[object Number]",Ue="[object Object]",He="[object Promise]",Ye="[object RegExp]",Be="[object Set]",We="[object String]",Ve="[object Symbol]",$e="[object WeakMap]",Ge="[object WeakSet]",ze="[object ArrayBuffer]",Je="[object DataView]",Ke="[object Float32Array]",Ze="[object Float64Array]",Xe="[object Int8Array]",Qe="[object Int16Array]",et="[object Int32Array]",tt="[object Uint8Array]",nt="[object Uint8ClampedArray]",rt="[object Uint16Array]",it="[object Uint32Array]",ot=/\b__p \+= '';/g,at=/\b(__p \+=) '' \+/g,st=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ut=/&(?:amp|lt|gt|quot|#39|#96);/g,ct=/[&<>"'`]/g,lt=RegExp(ut.source),ft=RegExp(ct.source),ht=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,pt=/<%=([\s\S]+?)%>/g,vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mt=/^\w*$/,gt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,yt=/[\\^$.*+?()[\]{}|]/g,_t=RegExp(yt.source),bt=/^\s+|\s+$/g,wt=/^\s+/,xt=/\s+$/,kt=/[a-zA-Z0-9]+/g,St=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ot=/\w*$/,At=/^0x/i,jt=/^[-+]0x[0-9a-f]+$/i,Tt=/^0b[01]+$/i,Dt=/^\[object .+?Constructor\]$/,Mt=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,Ct=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,qt=/($^)/,Lt=/['\n\r\u2028\u2029\\]/g,Rt="\\ud800-\\udfff",Pt="\\u0300-\\u036f\\ufe20-\\ufe23",Nt="\\u20d0-\\u20f0",Ft="\\u2700-\\u27bf",Ut="a-z\\xdf-\\xf6\\xf8-\\xff",Ht="\\xac\\xb1\\xd7\\xf7",Yt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bt="\\u2018\\u2019\\u201c\\u201d",Wt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="A-Z\\xc0-\\xd6\\xd8-\\xde",$t="\\ufe0e\\ufe0f",Gt=Ht+Yt+Bt+Wt,zt="[']",Jt="["+Rt+"]",Kt="["+Gt+"]",Zt="["+Pt+Nt+"]",Xt="\\d+",Qt="["+Ft+"]",en="["+Ut+"]",tn="[^"+Rt+Gt+Xt+Ft+Ut+Vt+"]",nn="\\ud83c[\\udffb-\\udfff]",rn="(?:"+Zt+"|"+nn+")",on="[^"+Rt+"]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",un="["+Vt+"]",cn="\\u200d",ln="(?:"+en+"|"+tn+")",fn="(?:"+un+"|"+tn+")",hn="(?:"+zt+"(?:d|ll|m|re|s|t|ve))?",dn="(?:"+zt+"(?:D|LL|M|RE|S|T|VE))?",pn=rn+"?",vn="["+$t+"]?",mn="(?:"+cn+"(?:"+[on,an,sn].join("|")+")"+vn+pn+")*",gn=vn+pn+mn,yn="(?:"+[Qt,an,sn].join("|")+")"+gn,_n="(?:"+[on+Zt+"?",Zt,an,sn,Jt].join("|")+")",bn=RegExp(zt,"g"),wn=RegExp(Zt,"g"),xn=RegExp(nn+"(?="+nn+")|"+_n+gn,"g"),kn=RegExp([un+"?"+en+"+"+hn+"(?="+[Kt,un,"$"].join("|")+")",fn+"+"+dn+"(?="+[Kt,un+ln,"$"].join("|")+")",un+"?"+ln+"+"+hn,un+"+"+dn,Xt,yn].join("|"),"g"),Sn=RegExp("["+cn+Rt+Pt+Nt+$t+"]"),En=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,On=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],An=-1,jn={};jn[Ke]=jn[Ze]=jn[Xe]=jn[Qe]=jn[et]=jn[tt]=jn[nt]=jn[rt]=jn[it]=!0,jn[Me]=jn[Ie]=jn[ze]=jn[Ce]=jn[Je]=jn[qe]=jn[Le]=jn[Re]=jn[Ne]=jn[Fe]=jn[Ue]=jn[Ye]=jn[Be]=jn[We]=jn[$e]=!1;var Tn={};Tn[Me]=Tn[Ie]=Tn[ze]=Tn[Je]=Tn[Ce]=Tn[qe]=Tn[Ke]=Tn[Ze]=Tn[Xe]=Tn[Qe]=Tn[et]=Tn[Ne]=Tn[Fe]=Tn[Ue]=Tn[Ye]=Tn[Be]=Tn[We]=Tn[Ve]=Tn[tt]=Tn[nt]=Tn[rt]=Tn[it]=!0,Tn[Le]=Tn[Re]=Tn[$e]=!1;var Dn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},In={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Cn={"function":!0,object:!0},qn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ln=parseFloat,Rn=parseInt,Pn=Cn[typeof n]&&n&&!n.nodeType?n:Q,Nn=Cn[typeof t]&&t&&!t.nodeType?t:Q,Fn=Nn&&Nn.exports===Pn?Pn:Q,Un=q(Pn&&Nn&&"object"==typeof e&&e),Hn=q(Cn[typeof self]&&self),Yn=q(Cn[typeof window]&&window),Bn=q(Cn[typeof this]&&this),Wn=Un||Yn!==(Bn&&Bn.window)&&Yn||Hn||Bn||Function("return this")(),Vn=X();(Yn||Hn||{})._=Vn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Vn}):Pn&&Nn?(Fn&&((Nn.exports=Vn)._=Vn),Pn._=Vn):Wn._=Vn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(e,t,n){var r=e("./_arrayMap"),i=e("./_baseDifference"),o=e("./_baseFlatten"),a=e("./_basePick"),s=e("./_getAllKeysIn"),u=e("./rest"),c=e("./_toKey"),l=u(function(e,t){return null==e?{}:(t=r(o(t,1),c),a(e,i(s(e),t)))});t.exports=l},{"./_arrayMap":61,"./_baseDifference":70,"./_baseFlatten":71,"./_basePick":75,"./_getAllKeysIn":84,"./_toKey":110,"./rest":128}],128:[function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(a);return t=s(void 0===t?e.length-1:o(t),0),function(){for(var n=arguments,r=-1,o=s(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var u=Array(t+1);for(r=-1;++r<t;)u[r]=n[r];return u[t]=a,i(e,this,u)}}var i=e("./_apply"),o=e("./toInteger"),a="Expected a function",s=Math.max;t.exports=r},{"./_apply":58,"./toInteger":129}],129:[function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=0>e?-1:1;return t*a}var n=e%1;return e===e?n?e-n:e:0}var i=e("./toNumber"),o=1/0,a=1.7976931348623157e308;t.exports=r},{"./toNumber":130}],130:[function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return s;if(o(e)){var t=i(e.valueOf)?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var n=l.test(e);return n||f.test(e)?h(e.slice(2),n?2:8):c.test(e)?s:+e}var i=e("./isFunction"),o=e("./isObject"),a=e("./isSymbol"),s=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;t.exports=r},{"./isFunction":118,"./isObject":121,"./isSymbol":124}],131:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return ur.apply(null,arguments)}function r(e){ur=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return Pe(e,t,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function f(e){return null==e._pf&&(e._pf=l()),e._pf}function h(e){if(null==e._isValid){var t=f(e),n=cr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=c(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}function p(e){return void 0===e}function v(e,t){var n,r,i;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=f(t)),p(t._locale)||(e._locale=t._locale),lr.length>0)for(n in lr)r=lr[n],i=t[r],p(i)||(e[r]=i);return e}function m(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),fr===!1&&(fr=!0,n.updateOffset(this),fr=!1)}function g(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function y(e){return 0>e?Math.ceil(e):Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function b(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&_(e[r])!==_(t[r]))&&a++;return a+o}function w(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var r=!0;return u(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,e),r&&(w(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),t.apply(this,arguments)},t)}function k(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),hr[e]||(w(t),hr[e]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e){return"[object Object]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],S(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=u({},e);for(n in t)s(t,n)&&(E(e[n])&&E(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);return r}function j(e){null!=e&&this.set(e)}function T(e){return e?e.toLowerCase().replace("_","-"):e}function D(e){for(var t,n,r,i,o=0;o<e.length;){for(i=T(e[o]).split("-"),t=i.length,n=T(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=M(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&b(i,n,!0)>=t-1)break;t--}o++}return null}function M(n){var r=null;if(!mr[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=pr._abbr,e("./locale/"+n),I(r)}catch(i){}return mr[n]}function I(e,t){var n;return e&&(n=p(t)?L(e):C(e,t),n&&(pr=n)),pr._abbr}function C(e,t){return null!==t?(t.abbr=e,null!=mr[e]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=A(mr[e]._config,t)):null!=t.parentLocale&&(null!=mr[t.parentLocale]?t=A(mr[t.parentLocale]._config,t):k("parentLocaleUndefined","specified parentLocale is not defined yet")),mr[e]=new j(t),I(e),mr[e]):(delete mr[e],null)}function q(e,t){if(null!=t){var n;null!=mr[e]&&(t=A(mr[e]._config,t)),n=new j(t),n.parentLocale=mr[e],mr[e]=n,I(e)}else null!=mr[e]&&(null!=mr[e].parentLocale?mr[e]=mr[e].parentLocale:null!=mr[e]&&delete mr[e]);return mr[e]}function L(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return pr;if(!i(e)){if(t=M(e))return t;e=[e]}return D(e)}function R(){return dr(mr)}function P(e,t){var n=e.toLowerCase();gr[n]=gr[n+"s"]=gr[t]=e}function N(e){return"string"==typeof e?gr[e]||gr[e.toLowerCase()]:void 0}function F(e){var t,n,r={};for(n in e)s(e,n)&&(t=N(n),t&&(r[t]=e[n]));return r}function U(e,t){return function(r){return null!=r?(Y(this,e,r),n.updateOffset(this,t),this):H(this,e)}}function H(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Y(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function B(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=N(e),S(this[e]))return this[e](t);return this}function W(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function V(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(wr[e]=i),t&&(wr[t[0]]=function(){return W(i.apply(this,arguments),t[1],t[2])}),n&&(wr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function $(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match(yr);for(t=0,n=r.length;n>t;t++)wr[r[t]]?r[t]=wr[r[t]]:r[t]=$(r[t]);return function(t){var i,o="";for(i=0;n>i;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function z(e,t){return e.isValid()?(t=J(t,e.localeData()),br[t]=br[t]||G(t),br[t](e)):e.localeData().invalidDate()}function J(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(_r.lastIndex=0;r>=0&&_r.test(e);)e=e.replace(_r,n),_r.lastIndex=0,r-=1;return e}function K(e,t,n){Fr[e]=S(t)?t:function(e,r){return e&&n?n:t}}function Z(e,t){return s(Fr,e)?Fr[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)Ur[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&s(Ur,e)&&Ur[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return i(this._months)?this._months[e.month()]:this._months[Kr.test(t)?"format":"standalone"][e.month()]}function oe(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Kr.test(t)?"format":"standalone"][e.month()]}function ae(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=vr.call(this._shortMonthsParse,a),-1!==i?i:null):(i=vr.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?(i=vr.call(this._shortMonthsParse,a),-1!==i?i:(i=vr.call(this._longMonthsParse,a),-1!==i?i:null)):(i=vr.call(this._longMonthsParse,a),-1!==i?i:(i=vr.call(this._shortMonthsParse,a),-1!==i?i:null))}function se(e,t,n){var r,i,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(e){return null!=e?(ue(this,e),n.updateOffset(this,!0),this):H(this,"Month")}function le(){return re(this.year(),this.month())}function fe(e){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function he(e){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function de(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=Q(r[t]),i[t]=Q(i[t]),o[t]=Q(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pe(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[Yr]<0||n[Yr]>11?Yr:n[Br]<1||n[Br]>re(n[Hr],n[Yr])?Br:n[Wr]<0||n[Wr]>24||24===n[Wr]&&(0!==n[Vr]||0!==n[$r]||0!==n[Gr])?Wr:n[Vr]<0||n[Vr]>59?Vr:n[$r]<0||n[$r]>59?$r:n[Gr]<0||n[Gr]>999?Gr:-1,f(e)._overflowDayOfYear&&(Hr>t||t>Br)&&(t=Br),f(e)._overflowWeeks&&-1===t&&(t=zr),f(e)._overflowWeekday&&-1===t&&(t=Jr),f(e).overflow=t),e}function ve(e){var t,n,r,i,o,a,s=e._i,u=ti.exec(s)||ni.exec(s);if(u){for(f(e).iso=!0,t=0,n=ii.length;n>t;t++)if(ii[t][1].exec(u[1])){i=ii[t][0],r=ii[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=oi.length;n>t;t++)if(oi[t][1].exec(u[3])){o=(u[2]||" ")+oi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!ri.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),De(e)}else e._isValid=!1}function me(e){var t=ai.exec(e._i);return null!==t?void(e._d=new Date(+t[1])):(ve(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function ge(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function _e(e){return be(e)?366:365}function be(e){return e%4===0&&e%100!==0||e%400===0}function we(){return be(this.year())}function xe(e,t,n){var r=7+t-n,i=(7+ye(e,0,r).getUTCDay()-t)%7;return-i+r-1}function ke(e,t,n,r,i){var o,a,s=(7+n-r)%7,u=xe(e,r,i),c=1+7*(t-1)+s+u;return 0>=c?(o=e-1,a=_e(o)+c):c>_e(e)?(o=e+1,a=c-_e(e)):(o=e,a=c),{year:o,dayOfYear:a}}function Se(e,t,n){var r,i,o=xe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(i=e.year()-1,r=a+Ee(i,t,n)):a>Ee(e.year(),t,n)?(r=a-Ee(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ee(e,t,n){var r=xe(e,t,n),i=xe(e+1,t,n);return(_e(e)-r+i)/7}function Oe(e,t,n){return null!=e?e:null!=t?t:n}function Ae(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function je(e){var t,n,r,i,o=[];if(!e._d){for(r=Ae(e),e._w&&null==e._a[Br]&&null==e._a[Yr]&&Te(e),e._dayOfYear&&(i=Oe(e._a[Hr],r[Hr]),e._dayOfYear>_e(i)&&(f(e)._overflowDayOfYear=!0),n=ye(i,0,e._dayOfYear),e._a[Yr]=n.getUTCMonth(),e._a[Br]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Wr]&&0===e._a[Vr]&&0===e._a[$r]&&0===e._a[Gr]&&(e._nextDay=!0,e._a[Wr]=0),e._d=(e._useUTC?ye:ge).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Wr]=24)}}function Te(e){var t,n,r,i,o,a,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=Oe(t.GG,e._a[Hr],Se(Ne(),1,4).year),r=Oe(t.W,1),i=Oe(t.E,1),(1>i||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=Oe(t.gg,e._a[Hr],Se(Ne(),o,a).year),r=Oe(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(u=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),1>r||r>Ee(n,o,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(s=ke(n,r,i,o,a),e._a[Hr]=s.year,e._dayOfYear=s.dayOfYear)}function De(e){if(e._f===n.ISO_8601)return void ve(e);e._a=[],f(e).empty=!0;var t,r,i,o,a,s=""+e._i,u=s.length,c=0;for(i=J(e._f,e._locale).match(yr)||[],t=0;t<i.length;t++)o=i[t],r=(s.match(Z(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&f(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),wr[o]?(r?f(e).empty=!1:f(e).unusedTokens.push(o),ne(o,r,e)):e._strict&&!r&&f(e).unusedTokens.push(o);f(e).charsLeftOver=u-c,s.length>0&&f(e).unusedInput.push(s),f(e).bigHour===!0&&e._a[Wr]<=12&&e._a[Wr]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Wr]=Me(e._locale,e._a[Wr],e._meridiem),je(e),pe(e)}function Me(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function Ie(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],De(t),h(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||r>o)&&(r=o,n=t));u(e,n||t)}function Ce(e){if(!e._d){var t=F(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),je(e)}}function qe(e){var t=new m(pe(Le(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Le(e){var t=e._i,n=e._f;return e._locale=e._locale||L(e._l),null===t||void 0===n&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new m(pe(t)):(i(n)?Ie(e):n?De(e):o(t)?e._d=t:Re(e),h(e)||(e._d=null),e))}function Re(e){var t=e._i;void 0===t?e._d=new Date(n.now()):o(t)?e._d=new Date(t.valueOf()):"string"==typeof t?me(e):i(t)?(e._a=a(t.slice(0),function(e){return parseInt(e,10)}),je(e)):"object"==typeof t?Ce(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function Pe(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,qe(o)}function Ne(e,t,n,r){return Pe(e,t,n,r,!1)}function Fe(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Ne();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Ue(){var e=[].slice.call(arguments,0);return Fe("isBefore",e)}function He(){var e=[].slice.call(arguments,0);return Fe("isAfter",e)}function Ye(e){var t=F(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=L(),this._bubble()}function Be(e){return e instanceof Ye}function We(e,t){V(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)})}function Ve(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(fi)||["-",0,0],o=+(60*i[1])+_(i[2]);return"+"===i[0]?o:-o}function $e(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(g(e)||o(e)?e.valueOf():Ne(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Ne(e).local()}function Ge(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function ze(e,t){var r,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Ve(Rr,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(r=Ge(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?ft(this,ot(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ge(this):null!=e?this:NaN}function Je(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ke(e){return this.utcOffset(0,e)}function Ze(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ge(this),"m")),this}function Xe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ve(Lr,this._i)),this}function Qe(e){return this.isValid()?(e=e?Ne(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function et(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tt(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=Le(e),e._a){var t=e._isUTC?c(e._a):Ne(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function nt(){return this.isValid()?!this._isUTC:!1}function rt(){return this.isValid()?this._isUTC:!1}function it(){return this.isValid()?this._isUTC&&0===this._offset:!1}function ot(e,t){var n,r,i,o=e,a=null;return Be(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=hi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:_(a[Br])*n,
h:_(a[Wr])*n,m:_(a[Vr])*n,s:_(a[$r])*n,ms:_(a[Gr])*n}):(a=di.exec(e))?(n="-"===a[1]?-1:1,o={y:at(a[2],n),M:at(a[3],n),w:at(a[4],n),d:at(a[5],n),h:at(a[6],n),m:at(a[7],n),s:at(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=ut(Ne(o.from),Ne(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Ye(o),Be(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function at(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function st(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ut(e,t){var n;return e.isValid()&&t.isValid()?(t=$e(t,e),e.isBefore(t)?n=st(e,t):(n=st(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ct(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function lt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=ot(n,r),ft(this,i,e),this}}function ft(e,t,r,i){var o=t._milliseconds,a=ct(t._days),s=ct(t._months);e.isValid()&&(i=null==i?!0:i,o&&e._d.setTime(e._d.valueOf()+o*r),a&&Y(e,"Date",H(e,"Date")+a*r),s&&ue(e,H(e,"Month")+s*r),i&&n.updateOffset(e,a||s))}function ht(e,t){var n=e||Ne(),r=$e(n,this).startOf("day"),i=this.diff(r,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",a=t&&(S(t[o])?t[o]():t[o]);return this.format(a||this.localeData().calendar(o,this,Ne(n)))}function dt(){return new m(this)}function pt(e,t){var n=g(e)?e:Ne(e);return this.isValid()&&n.isValid()?(t=N(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function vt(e,t){var n=g(e)?e:Ne(e);return this.isValid()&&n.isValid()?(t=N(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function mt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function gt(e,t){var n,r=g(e)?e:Ne(e);return this.isValid()&&r.isValid()?(t=N(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function yt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function _t(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function bt(e,t,n){var r,i,o,a;return this.isValid()?(r=$e(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=N(t),"year"===t||"month"===t||"quarter"===t?(a=wt(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:y(a)):NaN):NaN}function wt(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function xt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function kt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function St(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function Et(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ne(e).isValid())?ot({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ot(e){return this.from(Ne(),e)}function At(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ne(e).isValid())?ot({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function jt(e){return this.to(Ne(),e)}function Tt(e){var t;return void 0===e?this._locale._abbr:(t=L(e),null!=t&&(this._locale=t),this)}function Dt(){return this._locale}function Mt(e){switch(e=N(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function It(e){return e=N(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function Ct(){return this._d.valueOf()-6e4*(this._offset||0)}function qt(){return Math.floor(this.valueOf()/1e3)}function Lt(){return this._offset?new Date(this.valueOf()):this._d}function Rt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Nt(){return this.isValid()?this.toISOString():null}function Ft(){return h(this)}function Ut(){return u({},f(this))}function Ht(){return f(this).overflow}function Yt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Bt(e,t){V(0,[e,e.length],0,t)}function Wt(e){return zt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vt(e){return zt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function $t(){return Ee(this.year(),1,4)}function Gt(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)}function zt(e,t,n,r,i){var o;return null==e?Se(this,r,i).year:(o=Ee(e,r,i),t>o&&(t=o),Jt.call(this,e,t,n,r,i))}function Jt(e,t,n,r,i){var o=ke(e,t,n,r,i),a=ye(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Kt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Zt(e){return Se(e,this._week.dow,this._week.doy).week}function Xt(){return this._week.dow}function Qt(){return this._week.doy}function en(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function tn(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function nn(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function rn(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function on(e){return this._weekdaysShort[e.day()]}function an(e){return this._weekdaysMin[e.day()]}function sn(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=vr.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=vr.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=vr.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?(i=vr.call(this._weekdaysParse,a),-1!==i?i:(i=vr.call(this._shortWeekdaysParse,a),-1!==i?i:(i=vr.call(this._minWeekdaysParse,a),-1!==i?i:null))):"ddd"===t?(i=vr.call(this._shortWeekdaysParse,a),-1!==i?i:(i=vr.call(this._weekdaysParse,a),-1!==i?i:(i=vr.call(this._minWeekdaysParse,a),-1!==i?i:null))):(i=vr.call(this._minWeekdaysParse,a),-1!==i?i:(i=vr.call(this._weekdaysParse,a),-1!==i?i:(i=vr.call(this._shortWeekdaysParse,a),-1!==i?i:null)))}function un(e,t,n){var r,i,o;if(this._weekdaysParseExact)return sn.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function cn(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=nn(e,this.localeData()),this.add(e-t,"d")):t}function ln(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function fn(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function hn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||vn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}function dn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||vn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function pn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||vn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function vn(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;7>t;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;7>t;t++)s[t]=Q(s[t]),u[t]=Q(u[t]),l[t]=Q(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function mn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function gn(){return this.hours()%12||12}function yn(){return this.hours()||24}function _n(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function bn(e,t){return t._meridiemParse}function wn(e){return"p"===(e+"").toLowerCase().charAt(0)}function xn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function kn(e,t){t[Gr]=_(1e3*("0."+e))}function Sn(){return this._isUTC?"UTC":""}function En(){return this._isUTC?"Coordinated Universal Time":""}function On(e){return Ne(1e3*e)}function An(){return Ne.apply(null,arguments).parseZone()}function jn(e,t,n){var r=this._calendar[e];return S(r)?r.call(t,n):r}function Tn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function Dn(){return this._invalidDate}function Mn(e){return this._ordinal.replace("%d",e)}function In(e){return e}function Cn(e,t,n,r){var i=this._relativeTime[n];return S(i)?i(e,t,n,r):i.replace(/%d/i,e)}function qn(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)}function Ln(e,t,n,r){var i=L(),o=c().set(r,t);return i[n](o,e)}function Rn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Ln(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=Ln(e,r,n,"month");return i}function Pn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=L(),o=e?i._week.dow:0;if(null!=n)return Ln(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=Ln(t,(a+o)%7,r,"day");return s}function Nn(e,t){return Rn(e,t,"months")}function Fn(e,t){return Rn(e,t,"monthsShort")}function Un(e,t,n){return Pn(e,t,n,"weekdays")}function Hn(e,t,n){return Pn(e,t,n,"weekdaysShort")}function Yn(e,t,n){return Pn(e,t,n,"weekdaysMin")}function Bn(){var e=this._data;return this._milliseconds=Ui(this._milliseconds),this._days=Ui(this._days),this._months=Ui(this._months),e.milliseconds=Ui(e.milliseconds),e.seconds=Ui(e.seconds),e.minutes=Ui(e.minutes),e.hours=Ui(e.hours),e.months=Ui(e.months),e.years=Ui(e.years),this}function Wn(e,t,n,r){var i=ot(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Vn(e,t){return Wn(this,e,t,1)}function $n(e,t){return Wn(this,e,t,-1)}function Gn(e){return 0>e?Math.floor(e):Math.ceil(e)}function zn(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Gn(Kn(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=y(o/1e3),u.seconds=e%60,t=y(e/60),u.minutes=t%60,n=y(t/60),u.hours=n%24,a+=y(n/24),i=y(Jn(a)),s+=i,a-=Gn(Kn(i)),r=y(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Jn(e){return 4800*e/146097}function Kn(e){return 146097*e/4800}function Zn(e){var t,n,r=this._milliseconds;if(e=N(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Jn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Kn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Xn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function Qn(e){return function(){return this.as(e)}}function er(e){return e=N(e),this[e+"s"]()}function tr(e){return function(){return this._data[e]}}function nr(){return y(this.days()/7)}function rr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ir(e,t,n){var r=ot(e).abs(),i=no(r.as("s")),o=no(r.as("m")),a=no(r.as("h")),s=no(r.as("d")),u=no(r.as("M")),c=no(r.as("y")),l=i<ro.s&&["s",i]||1>=o&&["m"]||o<ro.m&&["mm",o]||1>=a&&["h"]||a<ro.h&&["hh",a]||1>=s&&["d"]||s<ro.d&&["dd",s]||1>=u&&["M"]||u<ro.M&&["MM",u]||1>=c&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,rr.apply(null,l)}function or(e,t){return void 0===ro[e]?!1:void 0===t?ro[e]:(ro[e]=t,!0)}function ar(e){var t=this.localeData(),n=ir(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function sr(){var e,t,n,r=io(this._milliseconds)/1e3,i=io(this._days),o=io(this._months);e=y(r/60),t=y(e/60),r%=60,e%=60,n=y(o/12),o%=12;var a=n,s=o,u=i,c=t,l=e,f=r,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(c||l||f?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(f?f+"S":""):"P0D"}var ur,cr;cr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var lr=n.momentProperties=[],fr=!1,hr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var dr;dr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var pr,vr,mr={},gr={},yr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,br={},wr={},xr=/\d/,kr=/\d\d/,Sr=/\d{3}/,Er=/\d{4}/,Or=/[+-]?\d{6}/,Ar=/\d\d?/,jr=/\d\d\d\d?/,Tr=/\d\d\d\d\d\d?/,Dr=/\d{1,3}/,Mr=/\d{1,4}/,Ir=/[+-]?\d{1,6}/,Cr=/\d+/,qr=/[+-]?\d+/,Lr=/Z|[+-]\d\d:?\d\d/gi,Rr=/Z|[+-]\d\d(?::?\d\d)?/gi,Pr=/[+-]?\d+(\.\d{1,3})?/,Nr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Fr={},Ur={},Hr=0,Yr=1,Br=2,Wr=3,Vr=4,$r=5,Gr=6,zr=7,Jr=8;vr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),K("M",Ar),K("MM",Ar,kr),K("MMM",function(e,t){return t.monthsShortRegex(e)}),K("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Yr]=_(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Yr]=i:f(n).invalidMonth=e});var Kr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Zr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qr=Nr,ei=Nr,ti=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ni=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ri=/Z|[+-]\d\d(?::?\d\d)?/,ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],oi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ai=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),V("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),P("year","y"),K("Y",qr),K("YY",Ar,kr),K("YYYY",Mr,Er),K("YYYYY",Ir,Or),K("YYYYYY",Ir,Or),ee(["YYYYY","YYYYYY"],Hr),ee("YYYY",function(e,t){t[Hr]=2===e.length?n.parseTwoDigitYear(e):_(e)}),ee("YY",function(e,t){t[Hr]=n.parseTwoDigitYear(e)}),ee("Y",function(e,t){t[Hr]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var si=U("FullYear",!0);n.ISO_8601=function(){};var ui=x("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:d()}),ci=x("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ne.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),li=function(){return Date.now?Date.now():+new Date};We("Z",":"),We("ZZ",""),K("Z",Rr),K("ZZ",Rr),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ve(Rr,e)});var fi=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var hi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,di=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;ot.fn=Ye.prototype;var pi=lt(1,"add"),vi=lt(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var mi=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Bt("gggg","weekYear"),Bt("ggggg","weekYear"),Bt("GGGG","isoWeekYear"),Bt("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),K("G",qr),K("g",qr),K("GG",Ar,kr),K("gg",Ar,kr),K("GGGG",Mr,Er),K("gggg",Mr,Er),K("GGGGG",Ir,Or),K("ggggg",Ir,Or),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=_(e)}),te(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),P("quarter","Q"),K("Q",xr),ee("Q",function(e,t){t[Yr]=3*(_(e)-1)}),V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),K("w",Ar),K("ww",Ar,kr),K("W",Ar),K("WW",Ar,kr),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=_(e)});var gi={dow:0,doy:6};V("D",["DD",2],"Do","date"),P("date","D"),K("D",Ar),K("DD",Ar,kr),K("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Br),ee("Do",function(e,t){t[Br]=_(e.match(Ar)[0],10)});var yi=U("Date",!0);V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),K("d",Ar),K("e",Ar),K("E",Ar),K("dd",function(e,t){return t.weekdaysMinRegex(e)}),K("ddd",function(e,t){return t.weekdaysShortRegex(e)}),K("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=_(e)});var _i="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xi=Nr,ki=Nr,Si=Nr;V("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),K("DDD",Dr),K("DDDD",Sr),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),V("H",["HH",2],0,"hour"),V("h",["hh",2],0,gn),V("k",["kk",2],0,yn),V("hmm",0,0,function(){return""+gn.apply(this)+W(this.minutes(),2)}),V("hmmss",0,0,function(){return""+gn.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),_n("a",!0),_n("A",!1),P("hour","h"),K("a",bn),K("A",bn),K("H",Ar),K("h",Ar),K("HH",Ar,kr),K("hh",Ar,kr),K("hmm",jr),K("hmmss",Tr),K("Hmm",jr),K("Hmmss",Tr),ee(["H","HH"],Wr),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[Wr]=_(e),f(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[Wr]=_(e.substr(0,r)),t[Vr]=_(e.substr(r)),f(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wr]=_(e.substr(0,r)),t[Vr]=_(e.substr(r,2)),t[$r]=_(e.substr(i)),f(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[Wr]=_(e.substr(0,r)),t[Vr]=_(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Wr]=_(e.substr(0,r)),t[Vr]=_(e.substr(r,2)),t[$r]=_(e.substr(i))});var Ei=/[ap]\.?m?\.?/i,Oi=U("Hours",!0);V("m",["mm",2],0,"minute"),P("minute","m"),K("m",Ar),K("mm",Ar,kr),ee(["m","mm"],Vr);var Ai=U("Minutes",!1);V("s",["ss",2],0,"second"),P("second","s"),K("s",Ar),K("ss",Ar,kr),ee(["s","ss"],$r);var ji=U("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),K("S",Dr,xr),K("SS",Dr,kr),K("SSS",Dr,Sr);var Ti;for(Ti="SSSS";Ti.length<=9;Ti+="S")K(Ti,Cr);for(Ti="S";Ti.length<=9;Ti+="S")ee(Ti,kn);var Di=U("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Mi=m.prototype;Mi.add=pi,Mi.calendar=ht,Mi.clone=dt,Mi.diff=bt,Mi.endOf=It,Mi.format=St,Mi.from=Et,Mi.fromNow=Ot,Mi.to=At,Mi.toNow=jt,Mi.get=B,Mi.invalidAt=Ht,Mi.isAfter=pt,Mi.isBefore=vt,Mi.isBetween=mt,Mi.isSame=gt,Mi.isSameOrAfter=yt,Mi.isSameOrBefore=_t,Mi.isValid=Ft,Mi.lang=mi,Mi.locale=Tt,Mi.localeData=Dt,Mi.max=ci,Mi.min=ui,Mi.parsingFlags=Ut,Mi.set=B,Mi.startOf=Mt,Mi.subtract=vi,Mi.toArray=Rt,Mi.toObject=Pt,Mi.toDate=Lt,Mi.toISOString=kt,Mi.toJSON=Nt,Mi.toString=xt,Mi.unix=qt,Mi.valueOf=Ct,Mi.creationData=Yt,Mi.year=si,Mi.isLeapYear=we,Mi.weekYear=Wt,Mi.isoWeekYear=Vt,Mi.quarter=Mi.quarters=Kt,Mi.month=ce,Mi.daysInMonth=le,Mi.week=Mi.weeks=en,Mi.isoWeek=Mi.isoWeeks=tn,Mi.weeksInYear=Gt,Mi.isoWeeksInYear=$t,Mi.date=yi,Mi.day=Mi.days=cn,Mi.weekday=ln,Mi.isoWeekday=fn,Mi.dayOfYear=mn,Mi.hour=Mi.hours=Oi,Mi.minute=Mi.minutes=Ai,Mi.second=Mi.seconds=ji,Mi.millisecond=Mi.milliseconds=Di,Mi.utcOffset=ze,Mi.utc=Ke,Mi.local=Ze,Mi.parseZone=Xe,Mi.hasAlignedHourOffset=Qe,Mi.isDST=et,Mi.isDSTShifted=tt,Mi.isLocal=nt,Mi.isUtcOffset=rt,Mi.isUtc=it,Mi.isUTC=it,Mi.zoneAbbr=Sn,Mi.zoneName=En,Mi.dates=x("dates accessor is deprecated. Use date instead.",yi),Mi.months=x("months accessor is deprecated. Use month instead",ce),Mi.years=x("years accessor is deprecated. Use year instead",si),Mi.zone=x("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Je);var Ii=Mi,Ci={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},qi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Li="Invalid date",Ri="%d",Pi=/\d{1,2}/,Ni={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fi=j.prototype;Fi._calendar=Ci,Fi.calendar=jn,Fi._longDateFormat=qi,Fi.longDateFormat=Tn,Fi._invalidDate=Li,Fi.invalidDate=Dn,Fi._ordinal=Ri,Fi.ordinal=Mn,Fi._ordinalParse=Pi,Fi.preparse=In,Fi.postformat=In,Fi._relativeTime=Ni,Fi.relativeTime=Cn,Fi.pastFuture=qn,Fi.set=O,Fi.months=ie,Fi._months=Zr,Fi.monthsShort=oe,Fi._monthsShort=Xr,Fi.monthsParse=se,Fi._monthsRegex=ei,Fi.monthsRegex=he,Fi._monthsShortRegex=Qr,Fi.monthsShortRegex=fe,Fi.week=Zt,Fi._week=gi,Fi.firstDayOfYear=Qt,Fi.firstDayOfWeek=Xt,Fi.weekdays=rn,Fi._weekdays=_i,Fi.weekdaysMin=an,Fi._weekdaysMin=wi,Fi.weekdaysShort=on,Fi._weekdaysShort=bi,Fi.weekdaysParse=un,Fi._weekdaysRegex=xi,Fi.weekdaysRegex=hn,Fi._weekdaysShortRegex=ki,Fi.weekdaysShortRegex=dn,Fi._weekdaysMinRegex=Si,Fi.weekdaysMinRegex=pn,Fi.isPM=wn,Fi._meridiemParse=Ei,Fi.meridiem=xn,I("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",I),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",L);var Ui=Math.abs,Hi=Qn("ms"),Yi=Qn("s"),Bi=Qn("m"),Wi=Qn("h"),Vi=Qn("d"),$i=Qn("w"),Gi=Qn("M"),zi=Qn("y"),Ji=tr("milliseconds"),Ki=tr("seconds"),Zi=tr("minutes"),Xi=tr("hours"),Qi=tr("days"),eo=tr("months"),to=tr("years"),no=Math.round,ro={s:45,m:45,h:22,d:26,M:11},io=Math.abs,oo=Ye.prototype;oo.abs=Bn,oo.add=Vn,oo.subtract=$n,oo.as=Zn,oo.asMilliseconds=Hi,oo.asSeconds=Yi,oo.asMinutes=Bi,oo.asHours=Wi,oo.asDays=Vi,oo.asWeeks=$i,oo.asMonths=Gi,oo.asYears=zi,oo.valueOf=Xn,oo._bubble=zn,oo.get=er,oo.milliseconds=Ji,oo.seconds=Ki,oo.minutes=Zi,oo.hours=Xi,oo.days=Qi,oo.weeks=nr,oo.months=eo,oo.years=to,oo.humanize=ar,oo.toISOString=sr,oo.toString=sr,oo.toJSON=sr,oo.locale=Tt,oo.localeData=Dt,oo.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sr),oo.lang=mi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),K("x",qr),K("X",Pr),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(_(e))}),n.version="2.13.0",r(Ne),n.fn=Ii,n.min=Ue,n.max=He,n.now=li,n.utc=c,n.unix=On,n.months=Nn,n.isDate=o,n.locale=I,n.invalid=d,n.duration=ot,n.isMoment=g,n.weekdays=Un,n.parseZone=An,n.localeData=L,n.isDuration=Be,n.monthsShort=Fn,n.weekdaysMin=Yn,n.defineLocale=C,n.updateLocale=q,n.locales=R,n.weekdaysShort=Hn,n.normalizeUnits=N,n.relativeTimeThreshold=or,n.prototype=Ii;var ao=n;return ao})},{}],132:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,i.PouchDB=e()}}(function(){var t;return function n(t,r,i){function o(s,u){if(!r[s]){if(!t[s]){var c="function"==typeof e&&e;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,n,t,r,i)}return r[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=r},{}],2:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function s(){var e;try{e=n.storage.debug}catch(t){}return e}function u(){try{return window.localStorage}catch(e){}}n=t.exports=e(3),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(s())},{3:3}],3:[function(e,t,n){function r(){return n.colors[l++%n.colors.length]}function i(e){function t(){}function i(){var e=i,t=+new Date,o=t-(c||t);e.diff=o,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];t=i.call(e,o),a.splice(s,1),s--}return t}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(e,a));var u=i.log||n.log||console.log.bind(console);u.apply(e,a)}t.enabled=!1,i.enabled=!0;var o=n.enabled(e)?i:t;return o.namespace=e,o}function o(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,i=0;r>i;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function a(){n.enable("")}function s(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e;
}n=t.exports=i,n.coerce=u,n.disable=a,n.enable=o,n.enabled=s,n.humanize=e(9),n.names=[],n.skips=[],n.formatters={};var c,l=0},{9:9}],4:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;r>u;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t,n){(function(e){"use strict";function n(){l=!0;for(var e,t,n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}l=!1}function r(e){1!==f.push(e)||l||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),u=e.document.createTextNode("");s.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,f=[];t.exports=r}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],7:[function(e,t,n){(function(e){e("object"==typeof n?n:this)}).call(this,function(e){var t=Array.prototype.slice,n=Array.prototype.forEach,r=function(e){if("object"!=typeof e)throw e+" is not an object";var i=t.call(arguments,1);return n.call(i,function(t){if(t)for(var n in t)"object"==typeof t[n]&&e[n]?r.call(e,e[n],t[n]):e[n]=t[n]}),e};e.extend=r})},{}],8:[function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(i){return v.reject(e,i)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function s(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}function u(e,t){function n(t){o||(o=!0,v.reject(e,t))}function r(t){o||(o=!0,v.resolve(e,t))}function i(){t(r,n)}var o=!1,a=c(i);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}function l(e){return e instanceof this?e:v.resolve(new this(r),e)}function f(e){var t=new this(r);return v.reject(t,e)}function h(e){function t(e,t){function r(e){a[t]=e,++s!==i||o||(o=!0,v.resolve(c,a))}n.resolve(e).then(r,function(e){o||(o=!0,v.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,u=-1,c=new this(r);++u<i;)t(e[u],u);return c}function d(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,v.resolve(s,e))},function(e){o||(o=!0,v.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var a=-1,s=new this(r);++a<i;)t(e[a]);return s}var p=e(5),v={},m=["REJECTED"],g=["FULFILLED"],y=["PENDING"];t.exports=n=i,i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==y){var i=this.state===g?e:t;a(n,i,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){v.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=g,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},v.reject=function(e,t){e.state=m,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},n.resolve=l,n.reject=f,n.all=h,n.race=d},{5:5}],9:[function(e,t,n){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=c?Math.round(e/c)+"h":e>=u?Math.round(e/u)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return a(e,l,"day")||a(e,c,"hour")||a(e,u,"minute")||a(e,s,"second")||e+" ms"}function a(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,u=60*s,c=60*u,l=24*c,f=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?o(e):i(e)}},{}],10:[function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return l(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),i=-1,o=r.length,a="";if(t)for(;++i<o;)a+=n.toIndexableString(r[i]);else for(;++i<o;){var s=r[i];a+=n.toIndexableString(s)+n.toIndexableString(e[s])}return a}return""}function i(e,t){var n,r=t,i="1"===e[t];if(i)n=0,t++;else{var o="0"===e[t];t++;var a="",s=e.substring(t,t+h),u=parseInt(s,10)+f;for(o&&(u=-u),t+=h;;){var c=e[t];if("\x00"===c)break;a+=c,t++}a=a.split("."),n=1===a.length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function o(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){var a=e.pop();i[a]=n}else e.push(n)}}function a(e,t){for(var r=Math.min(e.length,t.length),i=0;r>i;i++){var o=n.collate(e[i],t[i]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function s(e,t){return e===t?0:e>t?1:-1}function u(e,t){for(var r=Object.keys(e),i=Object.keys(t),o=Math.min(r.length,i.length),a=0;o>a;a++){var s=n.collate(r[a],i[a]);if(0!==s)return s;if(s=n.collate(e[r[a]],t[i[a]]),0!==s)return s}return r.length===i.length?0:r.length>i.length?1:-1}function c(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:3>n?n+2:n+3:Array.isArray(e)?5:void 0}function l(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=0>e,i=r?"0":"2",o=(r?-n:n)-f,a=p.padLeft(o.toString(),"0",h);i+=d+a;var s=Math.abs(parseFloat(t[0]));r&&(s=10-s);var u=s.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=d+u}var f=-324,h=3,d="",p=e(11);n.collate=function(e,t){if(e===t)return 0;e=n.normalizeKey(e),t=n.normalizeKey(t);var r=c(e),i=c(t);if(r-i!==0)return r-i;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:t>e?-1:1;case"string":return s(e,t)}return Array.isArray(e)?a(e,t):u(e,t)},n.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var i=0;r>i;i++)e[i]=n.normalizeKey(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];"undefined"!=typeof a&&(e[o]=n.normalizeKey(a))}}}}return e},n.toIndexableString=function(e){var t="\x00";return e=n.normalizeKey(e),c(e)+d+r(e)+t},n.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var a=e[r++];if("\x00"!==a)switch(a){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var s=i(e,r);t.push(s.num),r+=s.length;break;case"4":for(var u="";;){var c=e[r];if("\x00"===c)break;u+=c,r++}u=u.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var l={element:[],index:t.length};t.push(l.element),n.push(l);break;case"6":var f={element:{},index:t.length};t.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+a)}else{if(1===t.length)return t.pop();o(t,n)}}}},{11:11}],11:[function(e,t,n){"use strict";function r(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}n.padLeft=function(e,t,n){var i=r(e,t,n);return i+e},n.padRight=function(e,t,n){var i=r(e,t,n);return e+i},n.stringLexCompare=function(e,t){var n,r=e.length,i=t.length;for(n=0;r>n;n++){if(n===i)return 1;var o=e.charAt(n),a=t.charAt(n);if(o!==a)return a>o?-1:1}return i>r?-1:0},n.intToDecimalForm=function(e){var t=0>e,n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},{}],12:[function(e,t,n){"use strict";function r(){this.store={}}function i(e){if(this.store=new r,e&&Array.isArray(e))for(var t=0,n=e.length;n>t;t++)this.add(e[t])}n.Map=r,n.Set=i,r.prototype.mangle=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e);return"$"+e},r.prototype.unmangle=function(e){return e.substring(1)},r.prototype.get=function(e){var t=this.mangle(e);return t in this.store?this.store[t]:void 0},r.prototype.set=function(e,t){var n=this.mangle(e);return this.store[n]=t,!0},r.prototype.has=function(e){var t=this.mangle(e);return t in this.store},r.prototype["delete"]=function(e){var t=this.mangle(e);return t in this.store?(delete this.store[t],!0):!1},r.prototype.forEach=function(e){for(var t=Object.keys(this.store),n=0,r=t.length;r>n;n++){var i=t[n],o=this.store[i];i=this.unmangle(i),e(o,i)}},i.prototype.add=function(e){return this.store.set(e,!0)},i.prototype.has=function(e){return this.store.has(e)},i.prototype["delete"]=function(e){return this.store["delete"](e)}},{}],13:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):f=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],14:[function(e,t,n){(function(){var e={}.hasOwnProperty,n=[].slice;t.exports=function(t,r){var i,o,a,s;o=[],s=[];for(i in r)e.call(r,i)&&(a=r[i],"this"!==i&&(o.push(i),s.push(a)));return Function.apply(null,n.call(o).concat([t])).apply(r["this"],s)}}).call(this)},{}],15:[function(e,n,r){!function(e){if("object"==typeof r)n.exports=e();else if("function"==typeof t&&t.amd)t(e);else{var i;try{i=window}catch(o){i=self}i.SparkMD5=e()}}(function(e){"use strict";function t(e,t,n,r,i,o){return t=_(_(t,e),_(r,o)),_(t<<i|t>>>32-i,n)}function n(e,n,r,i,o,a,s){return t(n&r|~n&i,e,n,o,a,s)}function r(e,n,r,i,o,a,s){return t(n&i|r&~i,e,n,o,a,s)}function i(e,n,r,i,o,a,s){return t(n^r^i,e,n,o,a,s)}function o(e,n,r,i,o,a,s){return t(r^(n|~i),e,n,o,a,s)}function a(e,t){var a=e[0],s=e[1],u=e[2],c=e[3];a=n(a,s,u,c,t[0],7,-680876936),c=n(c,a,s,u,t[1],12,-389564586),u=n(u,c,a,s,t[2],17,606105819),s=n(s,u,c,a,t[3],22,-1044525330),a=n(a,s,u,c,t[4],7,-176418897),c=n(c,a,s,u,t[5],12,1200080426),u=n(u,c,a,s,t[6],17,-1473231341),s=n(s,u,c,a,t[7],22,-45705983),a=n(a,s,u,c,t[8],7,1770035416),c=n(c,a,s,u,t[9],12,-1958414417),u=n(u,c,a,s,t[10],17,-42063),s=n(s,u,c,a,t[11],22,-1990404162),a=n(a,s,u,c,t[12],7,1804603682),c=n(c,a,s,u,t[13],12,-40341101),u=n(u,c,a,s,t[14],17,-1502002290),s=n(s,u,c,a,t[15],22,1236535329),a=r(a,s,u,c,t[1],5,-165796510),c=r(c,a,s,u,t[6],9,-1069501632),u=r(u,c,a,s,t[11],14,643717713),s=r(s,u,c,a,t[0],20,-373897302),a=r(a,s,u,c,t[5],5,-701558691),c=r(c,a,s,u,t[10],9,38016083),u=r(u,c,a,s,t[15],14,-660478335),s=r(s,u,c,a,t[4],20,-405537848),a=r(a,s,u,c,t[9],5,568446438),c=r(c,a,s,u,t[14],9,-1019803690),u=r(u,c,a,s,t[3],14,-187363961),s=r(s,u,c,a,t[8],20,1163531501),a=r(a,s,u,c,t[13],5,-1444681467),c=r(c,a,s,u,t[2],9,-51403784),u=r(u,c,a,s,t[7],14,1735328473),s=r(s,u,c,a,t[12],20,-1926607734),a=i(a,s,u,c,t[5],4,-378558),c=i(c,a,s,u,t[8],11,-2022574463),u=i(u,c,a,s,t[11],16,1839030562),s=i(s,u,c,a,t[14],23,-35309556),a=i(a,s,u,c,t[1],4,-1530992060),c=i(c,a,s,u,t[4],11,1272893353),u=i(u,c,a,s,t[7],16,-155497632),s=i(s,u,c,a,t[10],23,-1094730640),a=i(a,s,u,c,t[13],4,681279174),c=i(c,a,s,u,t[0],11,-358537222),u=i(u,c,a,s,t[3],16,-722521979),s=i(s,u,c,a,t[6],23,76029189),a=i(a,s,u,c,t[9],4,-640364487),c=i(c,a,s,u,t[12],11,-421815835),u=i(u,c,a,s,t[15],16,530742520),s=i(s,u,c,a,t[2],23,-995338651),a=o(a,s,u,c,t[0],6,-198630844),c=o(c,a,s,u,t[7],10,1126891415),u=o(u,c,a,s,t[14],15,-1416354905),s=o(s,u,c,a,t[5],21,-57434055),a=o(a,s,u,c,t[12],6,1700485571),c=o(c,a,s,u,t[3],10,-1894986606),u=o(u,c,a,s,t[10],15,-1051523),s=o(s,u,c,a,t[1],21,-2054922799),a=o(a,s,u,c,t[8],6,1873313359),c=o(c,a,s,u,t[15],10,-30611744),u=o(u,c,a,s,t[6],15,-1560198380),s=o(s,u,c,a,t[13],21,1309151649),a=o(a,s,u,c,t[4],6,-145523070),c=o(c,a,s,u,t[11],10,-1120210379),u=o(u,c,a,s,t[2],15,718787259),s=o(s,u,c,a,t[9],21,-343485551),e[0]=_(a,e[0]),e[1]=_(s,e[1]),e[2]=_(u,e[2]),e[3]=_(c,e[3])}function s(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function u(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function c(e){var t,n,r,i,o,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;c>=t;t+=64)a(l,s(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;16>t;t+=1)r[t]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,r[14]=o,r[15]=u,a(l,r),l}function l(e){var t,n,r,i,o,s,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;c>=t;t+=64)a(l,u(e.subarray(t-64,t)));for(e=c>t-64?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(a(l,r),t=0;16>t;t+=1)r[t]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),s=parseInt(i[1],16)||0,r[14]=o,r[15]=s,a(l,r),l}function f(e){var t,n="";for(t=0;4>t;t+=1)n+=b[e>>8*t+4&15]+b[e>>8*t&15];return n}function h(e){var t;for(t=0;t<e.length;t+=1)e[t]=f(e[t]);return e.join("")}function d(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function p(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;r>n;n+=1)o[n]=e.charCodeAt(n);return t?o:i}function v(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function m(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function g(e){var t,n=[],r=e.length;for(t=0;r-1>t;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function y(){this.reset()}var _=function(e,t){return e+t&4294967295},b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==h(c("hello"))&&(_=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function t(e,t){return e=0|e||0,0>e?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,a,s,u=this.byteLength,c=t(n,u),l=u;return r!==e&&(l=t(r,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),a=new Uint8Array(o),s=new Uint8Array(this,c,i),a.set(s),o)}}(),y.prototype.append=function(e){return this.appendBinary(d(e)),this},y.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;n>=t;t+=64)a(this._hash,s(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},y.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=h(this._hash),e&&(n=g(n)),this.reset(),n},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},y.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(a(this._hash,e),o=0;16>o;o+=1)e[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,a(this._hash,e)},y.hash=function(e,t){return y.hashBinary(d(e),t)},y.hashBinary=function(e,t){var n=c(e),r=h(n);return t?g(r):r},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(e){var t,n=m(this._buff.buffer,e,!0),r=n.length;for(this._length+=e.byteLength,t=64;r>=t;t+=64)a(this._hash,u(n.subarray(t-64,t)));return this._buff=r>t-64?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=h(this._hash),e&&(n=g(n)),this.reset(),n},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var e=y.prototype.getState.call(this);return e.buff=v(e.buff),e},y.ArrayBuffer.prototype.setState=function(e){return e.buff=p(e.buff,!0),y.prototype.setState.call(this,e)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(e,t){var n=l(new Uint8Array(e)),r=h(n);return t?g(r):r},y})},{}],16:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){var a=t.pop();i[a]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,s,u,c,l,f,h,d="";n=t.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",d+=i,o)d+=o;else if("object"!=typeof r)d+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),a=r.length-1;a>=0;a--)s=0===a?"":",",t.push({obj:r[a],prefix:s});t.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(t.push({val:"}"}),a=u.length-1;a>=0;a--)l=u[a],f=r[l],h=a>0?",":"",h+=JSON.stringify(l)+":",t.push({obj:f,prefix:h});t.push({val:"{"})}return d},n.parse=function(e){for(var t,n,i,o,a,s,u,c,l,f=[],h=[],d=0;;)if(t=e[d++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":d+=3,r(null,f,h);break;case"t":d+=3,r(!0,f,h);break;case"f":d+=4,r(!1,f,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(i=e[d++],!/[\d\.\-e\+]/.test(i)){d--;break}n+=i}r(parseFloat(n),f,h);break;case'"':for(o="",a=void 0,s=0;;){if(u=e[d++],'"'===u&&("\\"!==a||s%2!==1))break;o+=u,a=u,"\\"===a?s++:s=0}r(JSON.parse('"'+o+'"'),f,h);break;case"[":c={element:[],index:f.length},f.push(c.element),h.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();r(f.pop(),f,h)}}},{}],17:[function(e,t,n){(function(n,r){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function o(e,t){for(var n={},r=0,i=t.length;i>r;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}function a(e){return e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}function s(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}function u(e){if(e instanceof ArrayBuffer)return s(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}function c(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;r>n;n++)t[n]=c(e[n]);return t}if(e instanceof Date)return e.toISOString();if(a(e))return u(e);t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=c(e[n]);"undefined"!=typeof i&&(t[n]=i)}return t}function l(e){var t=!1;return rr(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function f(e){return rr(function(t){t=c(t);var r,i=this,o="function"==typeof t[t.length-1]?t.pop():!1;o&&(r=function(e,t){n.nextTick(function(){o(e,t)})});var a=new lr(function(n,r){var o;try{var a=l(function(e,t){e?r(e):n(t)});t.push(a),o=e.apply(i,t),o&&"function"==typeof o.then&&n(o)}catch(s){r(s)}});return r&&a.then(function(e){r(null,e)},r),a})}function h(e,t){function n(e,t,n){if(fr.enabled){for(var r=[e._db_name,t],i=0;i<n.length-1;i++)r.push(n[i]);fr.apply(null,r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=[e._db_name,t];i=i.concat(n?["error",n]:["success",r]),fr.apply(null,i),o(n,r)}}}return f(rr(function(r){if(this._closed)return lr.reject(new Error("database is closed"));if(this._destroyed)return lr.reject(new Error("database is destroyed"));var i=this;return n(i,e,r),this.taskqueue.isReady?t.apply(this,r):new lr(function(t,n){i.taskqueue.addTask(function(o){o?n(o):t(i[e].apply(i,r))})})}))}function d(e,t,n){return new lr(function(r,i){e.get(t,function(o,a){if(o){if(404!==o.status)return i(o);a={}}var s=a._rev,u=n(a);return u?(u._id=t,u._rev=s,void r(p(e,u,n))):r({updated:!1,rev:s})})})}function p(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(r){if(409!==r.status)throw r;return d(e,t._id,n)})}function v(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var a=i.ids,s=a[2],u=i.pos;if(s.length)for(var c=0,l=s.length;l>c;c++)o.push({pos:u+1,ids:s[c]});else{var f=!!a[1].deleted,h=a[0];t&&!(r!==f?r:n!==u?u>n:h>t)||(t=h,n=u,r=f)}}return n+"-"+t}function m(e){return e.ids}function g(e,t){t||(t=v(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(m);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function y(e){return or("return "+e+";",{})}function _(e){return new Function("doc",["var emitted = false;","var emit = function (a, b) {","  emitted = true;","};","var view = "+e+";","view(doc);","if (emitted) {","  return true;","}"].join("\n"))}function b(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function w(e){var t=b(e);return t?t.join("/"):null}function x(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=t(0===a.length,i,o[0],n.ctx,o[1]),u=0,c=a.length;c>u;u++)r.push({pos:i+1,ids:a[u],ctx:s})}function k(e,t){return e.pos-t.pos}function S(e){var t=[];x(e,function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}),t.sort(k).reverse();for(var n=0,r=t.length;r>n;n++)delete t[n].pos;return t}function E(e){for(var t=v(e),n=S(e.rev_tree),r=[],i=0,o=n.length;o>i;i++){var a=n[i];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function O(e){Error.call(this,e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}function A(e,t,n){function r(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==n&&(this.name=n),void 0!==t&&(this.reason=t)}return r.prototype=O.prototype,new r(t)}function j(e){var t,n,r,i,o;return n=e.error===!0&&"string"==typeof e.name?e.name:e.error,o=e.reason,r=Pr("name",n,o),e.missing||"missing"===o||"deleted"===o||"not_found"===n?r=pr:"doc_validation"===n?(r=Sr,i=o):"bad_request"===n&&r.message!==o&&(r=Er),r||(r=Pr("status",e.status,o)||br),t=A(r,o,n),i&&(t.message=i),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.missing&&(t.missing=e.missing),t}function T(e,t,n){function r(){i.cancel()}ir.EventEmitter.call(this);var i=this;this.db=e,t=t?c(t):{};var o=t.complete=l(function(t,n){t?i.emit("error",t):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",r)});n&&(i.on("complete",function(e){n(null,e)}),i.on("error",n)),e.once("destroyed",r),t.onChange=function(e){t.isCancelled||(i.emit("change",e),i.startSeq&&i.startSeq<=e.seq&&(i.startSeq=!1))};var a=new lr(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});i.once("cancel",function(){e.removeListener("destroyed",r),t.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this["catch"]=a["catch"].bind(a),this.then(function(e){o(null,e)},o),e.taskqueue.isReady?i.doChanges(t):e.taskqueue.addTask(function(){i.isCancelled?i.emit("cancel"):i.doChanges(t)})}function D(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=S(t.rev_tree).map(function(e){return{rev:e.rev}}));var i={id:t.id,changes:r,doc:e};return g(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=E(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function M(e,t,n){function r(){var e=[];f.forEach(function(t){t.docs.forEach(function(n){e.push({id:t.id,docs:[n]})})}),n(null,{results:e})}function i(){++l===c&&r()}function a(e,t,n){f[e]={id:t,docs:n},i()}var s=Array.isArray(t)?t:t.docs,u={};s.forEach(function(e){e.id in u?u[e.id].push(e):u[e.id]=[e]});var c=Object.keys(u).length,l=0,f=new Array(c);Object.keys(u).forEach(function(n,r){var i=u[n],s=o(i[0],["atts_since","attachments"]);s.open_revs=i.map(function(e){return e.rev}),s.open_revs=s.open_revs.filter(function(e){return e});var c=function(e){return e};0===s.open_revs.length&&(delete s.open_revs,c=function(e){return[{ok:e}]}),["revs","attachments","binary"].forEach(function(e){e in t&&(s[e]=t[e])}),e.get(n,s,function(e,t){a(r,n,e?[{error:e}]:c(t))})})}function I(e){return/^_local/.test(e)}function C(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:a,opts:s}),c&&n.push({pos:i+1-l.length,ids:l});for(var f=0,h=u.length;h>f;f++)r.push({pos:i+1,ids:u[f],history:l})}return n.reverse()}function q(e){return 0|Math.random()*e}function L(e,t){t=t||Nr.length;var n="",r=-1;if(e){for(;++r<e;)n+=Nr[q(t)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=Nr[3&q(16)|8];break;default:n+=Nr[q(16)]}return n}function R(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function P(e){var t;if(e?"string"!=typeof e?t=A(mr):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=A(yr)):t=A(gr),t)throw t}function N(e){if(!/^\d+\-./.test(e))return A(Ir);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function F(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;a>o;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function U(e,t){var n,r,i,o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=L()),r=L(32,16).toLowerCase(),e._rev){if(i=N(e._rev),i.error)return i;e._rev_tree=[{pos:i.prefix,ids:[i.id,{
status:"missing"},[[r,o,[]]]]}],n=i.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],n=1;else if(e._revisions&&(e._rev_tree=F(e._revisions,o),n=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if(i=N(e._rev),i.error)return i;n=i.prefix,r=i.id,e._rev_tree=[{pos:n,ids:[r,o,[]]}]}P(e._id),e._rev=n+"-"+r;var a={metadata:{},data:{}};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u="_"===s[0];if(u&&!Fr[s]){var c=A(Sr,s);throw c.message=Sr.message+": "+s,c}u&&!Ur[s]?a.metadata[s.slice(1)]=e[s]:a.data[s]=e[s]}return a}function H(e,t){return t>e?-1:e>t?1:0}function Y(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n)===!0)return e[n]}function B(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function W(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var a=r[i];n._attachments[a]=o(n._attachments[a],["data","digest","content_type","length","revpos","stub"])}}}function V(e,t){var n=H(e._id,t._id);if(0!==n)return n;var r=e._revisions?e._revisions.start:0,i=t._revisions?t._revisions.start:0;return H(r,i)}function $(e){var t={},n=[];return x(e,function(e,r,i,o){var a=r+"-"+i;return e&&(t[a]=0),void 0!==o&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])}),t}function G(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var i={offset:t.skip};return lr.all(r.map(function(n){var r=Zn.extend({key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new lr(function(t,o){e._allDocs(r,function(e,r){return e?o(e):(i.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return i.rows=e,i})}function z(e){var t=e._compactionQueue[0],r=t.opts,i=t.callback;e.get("_local/compaction")["catch"](function(){return!1}).then(function(t){t&&t.last_seq&&(r.last_seq=t.last_seq),e._compact(r,function(t,r){t?i(t):i(null,r),n.nextTick(function(){e._compactionQueue.shift(),e._compactionQueue.length&&z(e)})})})}function J(e){return"_"===e.charAt(0)?e+"is not a valid attachment name, attachment names cannot start with '_'":!1}function K(e,t,n,r){t.seq=t.seq||0;var i={doc_ids:["_design/"+n],limit:1,since:t.seq};e.changes(i).then(function(e){var n=e.results&&e.results.length&&e.results[0].seq;n&&n>t.seq&&(t.seq=n,delete t.promise),r()})["catch"](r)}function Z(e,t,n){e._ddocCache=e._ddocCache||{},e._ddocCache[t]=e._ddocCache[t]||{};var r=e._ddocCache[t];K(e,r,t,function(i){return i?n(i):(r.promise||(r.promise=new lr(function(n,r){e._get("_design/"+t,{},function(e,t){if(e)return r(e);var i={};["views","filters"].forEach(function(e){i[e]=t.doc[e]}),n(i)})})),void r.promise.then(function(e){n(null,e)})["catch"](n))})}function X(e,t,n,r,i){Z(e,t,function(e,t){if(e)return i(e);var o=t[n]&&t[n][r];return o?void i(null,o):i(A(pr))})}function Q(){ir.EventEmitter.call(this)}function ee(){this.isReady=!1,this.failed=!1,this.queue=[]}function te(e){e&&r.debug&&console.error(e)}function ne(e,t){function n(){o.emit("destroyed",i)}function r(){e.removeListener("destroyed",n),e.emit("destroyed",e)}var i=t.originalName,o=e.constructor,a=o._destructionListeners;e.once("destroyed",n),a.has(i)||a.set(i,[]),a.get(i).push(r)}function re(e,t,n){if(!(this instanceof re))return new re(e,t,n);var r=this;"function"!=typeof t&&"undefined"!=typeof t||(n=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0),"undefined"==typeof n&&(n=te),e=e||t.name,t=c(t),delete t.name,this.__opts=t;var i=n;r.auto_compaction=t.auto_compaction,r.prefix=re.prefix,Q.call(r),r.taskqueue=new ee;var o=new lr(function(i,o){n=function(e,t){return e?o(e):(delete t.then,void i(t))},t=c(t);var a,s,u=t.name||e;return function(){try{if("string"!=typeof u)throw s=new Error("Missing/invalid DB name"),s.code=400,s;if(a=re.parseAdapter(u,t),t.originalName=u,t.name=a.name,t.prefix&&"http"!==a.adapter&&"https"!==a.adapter&&(t.name=t.prefix+t.name),t.adapter=t.adapter||a.adapter,r._adapter=t.adapter,Qn("pouchdb:adapter")("Picked adapter: "+t.adapter),r._db_name=u,!re.adapters[t.adapter])throw s=new Error("Adapter is missing"),s.code=404,s;if(!re.adapters[t.adapter].valid())throw s=new Error("Invalid Adapter"),s.code=404,s}catch(e){r.taskqueue.fail(e)}}(),s?o(s):(r.adapter=t.adapter,r.replicate={},r.replicate.from=function(e,t,n){return r.constructor.replicate(e,r,t,n)},r.replicate.to=function(e,t,n){return r.constructor.replicate(r,e,t,n)},r.sync=function(e,t,n){return r.constructor.sync(r,e,t,n)},r.replicate.sync=r.sync,void re.adapters[t.adapter].call(r,t,function(e){return e?(r.taskqueue.fail(e),void n(e)):(ne(r,t),r.emit("created",r),re.emit("created",t.originalName),r.taskqueue.ready(r),void n(null,r))}))});o.then(function(e){i(null,e)},i),r.then=o.then.bind(o),r["catch"]=o["catch"].bind(o)}function ie(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function oe(){return Hr}function ae(e){Object.keys(ir.EventEmitter.prototype).forEach(function(t){"function"==typeof ir.EventEmitter.prototype[t]&&(e[t]=Br[t].bind(Br))});var t=e._destructionListeners=new nr.Map;e.on("destroyed",function(e){t.has(e)&&(t.get(e).forEach(function(e){e()}),t["delete"](e))})}function se(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,i=new r,o=0;o<e.length;o+=1)i.append(e[o]);return i.getBlob(t.type)}}function ue(e,t){if("undefined"==typeof FileReader)return t((new FileReaderSync).readAsArrayBuffer(e));var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}function ce(){for(var e={},t=new lr(function(t,n){e.resolve=t,e.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.promise=t,lr.resolve().then(function(){return fetch.apply(null,n)}).then(function(t){e.resolve(t)})["catch"](function(t){e.reject(t)}),e}function le(e,t){var n,r,i,o=new Headers,a={method:e.method,credentials:"include",headers:o};return e.json&&(o.set("Accept","application/json"),o.set("Content-Type",e.headers["Content-Type"]||"application/json")),e.body&&e.body instanceof Blob?ue(e.body,function(e){a.body=e}):e.body&&e.processData&&"string"!=typeof e.body?a.body=JSON.stringify(e.body):"body"in e?a.body=e.body:a.body=null,Object.keys(e.headers).forEach(function(t){e.headers.hasOwnProperty(t)&&o.set(t,e.headers[t])}),n=ce(e.url,a),e.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+e.url))},e.timeout)),n.promise.then(function(t){return i={statusCode:t.status},e.timeout>0&&clearTimeout(r),i.statusCode>=200&&i.statusCode<300?e.binary?t.blob():t.text():t.json()}).then(function(e){i.statusCode>=200&&i.statusCode<300?t(null,i,e):t(e,i)})["catch"](function(e){t(e,i)}),{abort:n.reject}}function fe(e,t){var n,r,i=function(){n.abort()};n=e.xhr?new e.xhr:new XMLHttpRequest;try{n.open(e.method,e.url)}catch(o){t(o,{statusCode:413})}n.withCredentials="withCredentials"in e?e.withCredentials:!0,"GET"===e.method?delete e.headers["Content-Type"]:e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(n.responseType="arraybuffer"),"body"in e||(e.body=null);for(var a in e.headers)e.headers.hasOwnProperty(a)&&n.setRequestHeader(a,e.headers[a]);return e.timeout>0&&(r=setTimeout(i,e.timeout),n.onprogress=function(){clearTimeout(r),r=setTimeout(i,e.timeout)},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=e.binary?se([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,t(null,r,i)}else{var o={};try{o=JSON.parse(n.response)}catch(a){}t(o,r)}}},e.body&&e.body instanceof Blob?ue(e.body,function(e){n.send(e)}):n.send(e.body),{abort:i}}function he(){try{return new XMLHttpRequest,!0}catch(e){return!1}}function de(e,t){return Wr||e.xhr?fe(e,t):le(e,t)}function pe(){return""}function ve(e,t){function n(t,n,r){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(i){return r(i)}Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?j(e):e})),e.binary&&Vr(t,n),r(null,t,n)}function r(e,t){var n,r;if(e.code&&e.status){var i=new Error(e.message||e.code);return i.status=e.status,t(i)}try{n=JSON.parse(e.responseText),r=j(n)}catch(o){r=j(e)}t(r)}e=c(e);var i={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=Zn.extend(i,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),de(e,function(i,o,a){if(i)return i.status=o?o.statusCode:400,r(i,t);var s,u=o.headers&&o.headers["content-type"],c=a||pe();if(!e.binary&&(e.json||!e.processData)&&"object"!=typeof c&&(/json/.test(u)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(l){}o.statusCode>=200&&o.statusCode<300?n(c,o,t):(s=j(c),s.status=o.statusCode,t(s))})}function me(e,t){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==n.indexOf("safari")&&-1===n.indexOf("chrome"),i=-1!==n.indexOf("msie"),o=-1!==n.indexOf("edge"),a=r&&"POST"===e.method||(i||o)&&"GET"===e.method,s="cache"in e?e.cache:!0;if(a||!s){var u=-1!==e.url.indexOf("?");e.url+=(u?"&":"?")+"_nonce="+Date.now()}return ve(e,t)}function ge(e){for(var t=Jr.exec(e),n={},r=14;r--;){var i=$r[r],o=t[r]||"",a=-1!==["user","password"].indexOf(i);n[i]=a?decodeURIComponent(o):o}return n[Gr]={},n[$r[12]].replace(zr,function(e,t,r){t&&(n[Gr][t]=r)}),n}function ye(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;t>i;i++)r[i]=e.charCodeAt(i);return n}function _e(e,t){return se([ye(e)],{type:t})}function be(e,t,n){try{return!e(t,n)}catch(r){var i="Filter function threw: "+r.toString();return A(Er,i)}}function we(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&be(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function xe(e,t){"console"in r&&"info"in console&&console.info("The above "+e+" is totally normal. "+t)}function ke(e,t,n,r,i){return e.get(t)["catch"](function(n){if(404===n.status)return"http"===e.type()&&xe(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:ni,version:ti};throw n}).then(function(o){return i.cancelled?void 0:(o.history=(o.history||[]).filter(function(e){return e.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,ri),o.version=ti,o.replicator=ni,o.session_id=r,o.last_seq=n,e.put(o)["catch"](function(o){if(409===o.status)return ke(e,t,n,r,i);throw o}))})}function Se(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}function Ee(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history||[]};var n=e.history||[],r=t.history||[];return Oe(n,r)}function Oe(e,t){var n=e[0],r=e.slice(1),i=t[0],o=t.slice(1);if(!n||0===t.length)return{last_seq:ii,history:[]};var a=n.session_id;if(Ae(a,t))return{last_seq:n.last_seq,history:e};var s=i.session_id;return Ae(s,r)?{last_seq:i.last_seq,history:o}:Oe(r,o)}function Ae(e,t){var n=t[0],r=t.slice(1);return e&&0!==t.length?e===n.session_id?!0:Ae(e,r):!1}function je(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function Te(e,t){e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||e>=t?t=(e||1)<<1:t+=1;var n=Math.random(),r=t-e;return~~(r*n+e)}function De(e){var t=0;return e||(t=2e3),Te(e,t)}function Me(e,t,n,r){return e.retry===!1?(t.emit("error",n),void t.removeAllListeners()):("function"!=typeof e.back_off_function&&(e.back_off_function=De),t.emit("requestError",n),"active"!==t.state&&"pending"!==t.state||(t.emit("paused",n),t.state="stopped",t.once("active",function(){e.current_back_off=ai})),e.current_back_off=e.current_back_off||ai,e.current_back_off=e.back_off_function(e.current_back_off),void setTimeout(r,e.current_back_off))}function Ie(e){return Zr(e)}function Ce(e,t,n,r){(n>0||r<t.byteLength)&&(t=new Uint8Array(t,n,Math.min(r,t.byteLength)-n)),e.append(t)}function qe(e,t,n,r){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t)}function Le(e){return Object.keys(e).sort(ar.collate).reduce(function(t,n){return t[n]=e[n],t},{})}function Re(e,t,n){var r=n.doc_ids?n.doc_ids.sort(ar.collate):"",i=n.filter?n.filter.toString():"",o="",a="";return n.filter&&n.query_params&&(o=JSON.stringify(Le(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),lr.all([e.id(),t.id()]).then(function(e){var t=e[0]+e[1]+i+a+o+r;return ci(t)}).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})}function Pe(e){return/^1-/.test(e)}function Ne(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n].missing;r.forEach(function(e){t.push({id:n,rev:e})})}),{docs:t,revs:!0,attachments:!0,binary:!0}}function Fe(e,t,n){function r(){var r=Ne(t);if(r.docs.length)return e.bulkGet(r).then(function(e){if(n.cancelled)throw new Error("cancelled");e.results.forEach(function(e){e.docs.forEach(function(e){e.ok&&u.push(e.ok)})})})}function i(e){return e._attachments&&Object.keys(e._attachments).length>0}function o(r){return e.allDocs({keys:r,include_docs:!0}).then(function(e){if(n.cancelled)throw new Error("cancelled");e.rows.forEach(function(e){!e.deleted&&e.doc&&Pe(e.value.rev)&&!i(e.doc)&&(u.push(e.doc),delete t[e.id])})})}function a(){var e=Object.keys(t).filter(function(e){var n=t[e].missing;return 1===n.length&&Pe(n[0])});return e.length>0?o(e):void 0}function s(){return u}t=c(t);var u=[];return lr.resolve().then(a).then(r).then(s)}function Ue(e,t,n,r,i){function o(){return k?lr.resolve():Re(e,t,n).then(function(n){x=n,k=new Se(e,t,x,r)})}function a(){if(P=[],0!==w.docs.length){var e=w.docs;return t.bulkDocs({docs:e,new_edits:!1}).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");var n=[],o={};t.forEach(function(e){e.error&&(i.doc_write_failures++,n.push(e),o[e.id]=e)}),R=R.concat(n),i.docs_written+=w.docs.length-n.length;var a=n.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(e.forEach(function(e){var t=o[e._id];t?r.emit("denied",c(t)):P.push(e)}),a.length>0){var s=new Error("bulkDocs error");throw s.other_errors=n,d("target.bulkDocs failed to write docs",s),new Error("bulkWrite partial failure")}},function(t){throw i.doc_write_failures+=e.length,t})}}function s(){i.last_seq=T=w.seq;var e=c(i);return P.length&&(e.docs=P,r.emit("change",e)),O=!0,k.writeCheckpoint(w.seq,N).then(function(){if(O=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,y()})["catch"](function(e){throw O=!1,d("writeCheckpoint completed with error",e),e})}function u(){var e={};return w.changes.forEach(function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map(function(e){return e.rev}))}),t.revsDiff(e).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=e})}function l(){return Fe(e,w.diffs,r).then(function(e){e.forEach(function(e){delete w.diffs[e._id],i.docs_read++,w.docs.push(e)})})}function f(){if(!r.cancelled&&!w){if(0===S.length)return void h(!0);w=S.shift(),u().then(l).then(a).then(s).then(f)["catch"](function(e){d("batch processing terminated with error",e)})}}function h(e){return 0===E.changes.length?void(0!==S.length||w||((D&&F.live||A)&&(r.state="pending",r.emit("paused")),A&&p())):void((e||A||E.changes.length>=M)&&(S.push(E),E={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f()))}function d(e,t){j||(t.message||(t.message=e),i.ok=!1,i.status="aborting",i.errors.push(t),R=R.concat(t),S=[],E={seq:0,changes:[],docs:[]},p())}function p(){if(!(j||r.cancelled&&(i.status="cancelled",O))){i.status=i.status||"complete",i.end_time=new Date,i.last_seq=T,j=!0;var o=R.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(o.length>0){var a=R.pop();R.length>0&&(a.other_errors=R),a.result=i,Me(n,r,a,function(){Ue(e,t,n,r)})}else i.errors=R,r.emit("complete",i),r.removeAllListeners()}}function v(e){if(r.cancelled)return p();var t=we(n)(e);t&&(E.seq=e.seq,E.changes.push(e),h(F.live))}function m(e){return C=!1,r.cancelled?p():(e.results.length>0?(F.since=e.last_seq,y()):D?(F.live=!0,y()):A=!0,void h(!0))}function g(e){return C=!1,r.cancelled?p():void d("changes rejected",e)}function y(){function t(){o.cancel()}function i(){r.removeListener("cancel",t)}if(!C&&!A&&S.length<I){C=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",t);var o=e.changes(F).on("change",v);o.then(i,i),o.then(m)["catch"](g),n.retry&&(r._changes=o,r._abortChanges=t)}}function _(){o().then(function(){return r.cancelled?void p():k.getCheckpoint().then(function(e){T=e,F={since:T,limit:M,batch_size:M,style:"all_docs",doc_ids:q,return_docs:!0},n.filter&&("string"!=typeof n.filter?F.include_docs=!0:F.filter=n.filter),"heartbeat"in n&&(F.heartbeat=n.heartbeat),"timeout"in n&&(F.timeout=n.timeout),n.query_params&&(F.query_params=n.query_params),n.view&&(F.view=n.view),y()})})["catch"](function(e){d("getCheckpoint rejected with ",e)})}function b(e){throw O=!1,d("writeCheckpoint completed with error",e),e}var w,x,k,S=[],E={seq:0,changes:[],docs:[]},O=!1,A=!1,j=!1,T=0,D=n.continuous||n.live||!1,M=n.batch_size||100,I=n.batches_limit||10,C=!1,q=n.doc_ids,R=[],P=[],N=L();i=i||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var F={};return r.ready(e,t),r.cancelled?void p():(r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(e){n.complete(null,e)})),r._addedListeners=!0),void("undefined"==typeof n.since?_():o().then(function(){return O=!0,k.writeCheckpoint(n.since,N)}).then(function(){return O=!1,r.cancelled?void p():(T=n.since,void _())})["catch"](b)))}function He(){ir.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new lr(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e["catch"]=function(e){return t["catch"](e)},e["catch"](function(){})}function Ye(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function Be(e,t,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw A(Er,"`doc_ids` filter parameter is not a list.");n.complete=r,n=c(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:!1,n.PouchConstructor=n.PouchConstructor||this;var i=new He(n),o=Ye(e,n),a=Ye(t,n);return Ue(o,a,n,i),i}function We(e,t,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=c(n),n.PouchConstructor=n.PouchConstructor||this,e=li.toPouch(e,n),t=li.toPouch(t,n),new Ve(e,t,n,r)}function Ve(e,t,n,r){function i(e){d.emit("change",{direction:"pull",change:e})}function o(e){d.emit("change",{direction:"push",change:e})}function a(e){d.emit("denied",{direction:"push",doc:e})}function s(e){d.emit("denied",{direction:"pull",doc:e})}function u(){d.pushPaused=!0,d.pullPaused&&d.emit("paused")}function c(){d.pullPaused=!0,d.pushPaused&&d.emit("paused")}function l(){d.pushPaused=!1,d.pullPaused&&d.emit("active",{direction:"push"})}function f(){d.pullPaused=!1,d.pushPaused&&d.emit("active",{direction:"pull"})}function h(e){return function(t,n){var r="change"===t&&(n===i||n===o),h="denied"===t&&(n===s||n===a),p="paused"===t&&(n===c||n===u),v="active"===t&&(n===f||n===l);(r||h||p||v)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&d.removeAllListeners(t))}}var d=this;this.canceled=!1;var p=n.push?Zn.extend({},n,n.push):n,v=n.pull?Zn.extend({},n,n.pull):n;this.push=fi(e,t,p),this.pull=fi(t,e,v),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",d.pull.cancel.bind(d.pull)),this.pull.on("complete",d.push.cancel.bind(d.push))),this.on("newListener",function(e){"change"===e?(d.pull.on("change",i),d.push.on("change",o)):"denied"===e?(d.pull.on("denied",s),d.push.on("denied",a)):"active"===e?(d.pull.on("active",f),d.push.on("active",l)):"paused"===e&&(d.pull.on("paused",c),d.push.on("paused",u))}),this.on("removeListener",function(e){"change"===e?(d.pull.removeListener("change",i),d.push.removeListener("change",o)):"denied"===e?(d.pull.removeListener("denied",s),d.push.removeListener("denied",a)):"active"===e?(d.pull.removeListener("active",f),d.push.removeListener("active",l)):"paused"===e&&(d.pull.removeListener("paused",c),d.push.removeListener("paused",u))}),this.pull.on("removeListener",h("pull")),this.push.on("removeListener",h("push"));var g=lr.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return d.emit("complete",t),r&&r(null,t),d.removeAllListeners(),t},function(e){if(d.cancel(),r?r(e):d.emit("error",e),d.removeAllListeners(),r)throw e});this.then=function(e,t){return g.then(e,t)},this["catch"]=function(e){return g["catch"](e)}}function $e(e,t){return _e(Kr(e),t)}function Ge(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return t}function ze(e,t){if("undefined"==typeof FileReader)return t(Ge((new FileReaderSync).readAsArrayBuffer(e)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";return r?t(n):void t(Ge(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Je(e){return new lr(function(t){ze(e,function(e){t(Zr(e))})})}function Ke(e){for(var t=[],n=0,r=e.length;r>n;n++)t=t.concat(e[n]);return t}function Ze(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];n.data=$e(n.data,n.content_type)})}function Xe(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Qe(e){return e._attachments&&Object.keys(e._attachments)?lr.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];return n.data&&"string"!=typeof n.data?Je(n.data).then(function(e){n.data=e}):void 0})):lr.resolve()}function et(e){var t=ge(e);(t.user||t.password)&&(t.auth={username:t.user,password:t.password});var n=t.path.replace(/(^\/|\/$)/g,"").split("/");return t.db=n.pop(),-1===t.db.indexOf("%")&&(t.db=encodeURIComponent(t.db)),t.path=n.join("/"),t}function tt(e,t){return nt(e,e.db+"/"+t)}function nt(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function rt(e){return"?"+Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&")}function it(e,t){function n(e,t,n){var r=e.ajax||{},i=Zn.extend(c(p),r,t);return mi(i.method+" "+i.url),Qr.ajax(i,n)}function r(e,t){return new lr(function(r,i){n(e,t,function(e,t){return e?i(e):void r(t)})})}function i(e,t){return h(e,rr(function(e){a().then(function(){return t.apply(this,e)})["catch"](function(t){var n=e.pop();n(t)})}))}function a(){if(e.skipSetup||e.skip_setup)return lr.resolve();if(y)return y;var t={method:"GET",url:d};return y=r({},t)["catch"](function(e){return e&&e.status&&404===e.status?(xe(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:d})):lr.reject(e)})["catch"](function(e){return e&&e.status&&412===e.status?!0:lr.reject(e)}),y["catch"](function(){y=null}),y}function s(e){return e.split("/").map(encodeURIComponent).join("/")}var u=this,l=et;e.getHost&&(l=e.getHost);var f=l(e.name,e),d=tt(f,"");e=c(e);var p=e.ajax||{};if(u.getUrl=function(){return d},u.getHeaders=function(){return p.headers||{}},e.auth||f.auth){var v=e.auth||f.auth,m=v.username+":"+v.password,g=Zr(unescape(encodeURIComponent(m)));p.headers=p.headers||{},p.headers.Authorization="Basic "+g}var y;setTimeout(function(){t(null,u)}),u.type=function(){return"http"},u.id=i("id",function(e){n({},{method:"GET",url:nt(f,"")},function(t,n){var r=n&&n.uuid?n.uuid+f.db:tt(f,"");e(null,r)})}),u.request=i("request",function(e,t){e.url=tt(f,e.url),n({},e,t)}),u.compact=i("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=c(e),n(e,{url:tt(f,"_compact"),method:"POST"},function(){function n(){u.info(function(r,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}n()})}),u.bulkGet=h("bulkGet",function(e,t){function r(t){var r={};e.revs&&(r.revs=!0),e.attachments&&(r.attachments=!0),n({},{url:tt(f,"_bulk_get"+rt(r)),method:"POST",body:{docs:e.docs}},t)}function i(){function n(e){return function(n,r){u[e]=r.results,++s===i&&t(null,{results:Ke(u)})}}for(var r=di,i=Math.ceil(e.docs.length/r),s=0,u=new Array(i),c=0;i>c;c++){var l=o(e,["revs","attachments"]);l.docs=e.docs.slice(c*r,Math.min(e.docs.length,(c+1)*r)),M(a,l,n(c))}}var a=this,s=nt(f,""),u=pi[s];"boolean"!=typeof u?r(function(e,n){if(e){var r=Math.floor(e.status/100);4===r||5===r?(pi[s]=!1,xe(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):t(e)}else pi[s]=!0,t(null,n)}):u?r(t):i()}),u._info=function(e){a().then(function(){n({},{method:"GET",url:tt(f,"")},function(t,n){return t?e(t):(n.host=tt(f,""),void e(null,n))})})["catch"](e)},u.get=i("get",function(e,t,n){function i(e){var n=e._attachments,i=n&&Object.keys(n);return n&&i.length?lr.all(i.map(function(i){var o=n[i],a=Xe(e._id)+"/"+s(i)+"?rev="+e._rev;return r(t,{method:"GET",url:tt(f,a),binary:!0}).then(function(e){return t.binary?e:Je(e)}).then(function(e){delete o.stub,delete o.length,o.data=e})})):void 0}function o(e){return Array.isArray(e)?lr.all(e.map(function(e){return e.ok?i(e.ok):void 0})):i(e)}"function"==typeof t&&(n=t,t={}),t=c(t);var a={};t.revs&&(a.revs=!0),t.revs_info&&(a.revs_info=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),a.open_revs=t.open_revs),t.rev&&(a.rev=t.rev),t.conflicts&&(a.conflicts=t.conflicts),e=Xe(e);var u={method:"GET",url:tt(f,e+rt(a))};r(t,u).then(function(e){return lr.resolve().then(function(){return t.attachments?o(e):void 0}).then(function(){n(null,e)})})["catch"](n)}),u.remove=i("remove",function(e,t,r,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof r&&(i=r,r={})):(o=e,"function"==typeof t?(i=t,r={}):(i=r,r=t));var a=o._rev||r.rev;n(r,{method:"DELETE",url:tt(f,Xe(o._id))+"?rev="+a},i)}),u.getAttachment=i("getAttachment",function(e,t,r,i){"function"==typeof r&&(i=r,r={});var o=r.rev?"?rev="+r.rev:"",a=tt(f,Xe(e))+"/"+s(t)+o;n(r,{method:"GET",url:a,binary:!0},i)}),u.removeAttachment=i("removeAttachment",function(e,t,r,i){var o=tt(f,Xe(e)+"/"+s(t))+"?rev="+r;n({},{method:"DELETE",url:o},i)}),u.putAttachment=i("putAttachment",function(e,t,r,i,o,a){"function"==typeof o&&(a=o,o=i,i=r,r=null);var u=Xe(e)+"/"+s(t),c=tt(f,u);if(r&&(c+="?rev="+r),"string"==typeof i){var l;try{l=Kr(i)}catch(h){return a(A(wr,"Attachment is not a valid base64 string"))}i=l?_e(l,o):""}var d={headers:{"Content-Type":o},method:"PUT",url:c,processData:!1,body:i,timeout:p.timeout||6e4};n({},d,a)}),u._bulkDocs=function(e,t,r){e.new_edits=t.new_edits,a().then(function(){return lr.all(e.docs.map(Qe))}).then(function(){n(t,{method:"POST",url:tt(f,"_bulk_docs"),body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})})["catch"](r)},u.allDocs=i("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=c(e);var n,i={},o="GET";e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),"undefined"!=typeof e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),"undefined"!=typeof e.limit&&(i.limit=e.limit),"undefined"!=typeof e.skip&&(i.skip=e.skip);var a=rt(i);if("undefined"!=typeof e.keys){var s="keys="+encodeURIComponent(JSON.stringify(e.keys));s.length+a.length+1<=vi?a+="&"+s:(o="POST",n={keys:e.keys})}r(e,{method:o,url:tt(f,"_all_docs"+a),body:n}).then(function(n){e.include_docs&&e.attachments&&e.binary&&n.rows.forEach(Ze),t(null,n)})["catch"](t)}),u._changes=function(e){var t="batch_size"in e?e.batch_size:hi;e=c(e),e.timeout="timeout"in e?e.timeout:"timeout"in p?p.timeout:3e4;var r,i=e.timeout?{timeout:e.timeout-5e3}:{},o="undefined"!=typeof e.limit?e.limit:!1;r="return_docs"in e?e.return_docs:"returnDocs"in e?e.returnDocs:!0;var s=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),"heartbeat"in e?e.heartbeat&&(i.heartbeat=e.heartbeat):i.heartbeat=1e4,e.filter&&"string"==typeof e.filter&&(i.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(i.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var u in e.query_params)e.query_params.hasOwnProperty(u)&&(i[u]=e.query_params[u]);var l,h="GET";if(e.doc_ids){i.filter="_doc_ids";var d=JSON.stringify(e.doc_ids);d.length<vi?i.doc_ids=d:(h="POST",l={doc_ids:e.doc_ids})}var v,m,g=function(r,u){if(!e.aborted){i.since=r,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=s):i.limit=!o||s>t?t:s;var c={method:h,url:tt(f,"_changes"+rt(i)),timeout:e.timeout,body:l};m=r,e.aborted||a().then(function(){v=n(e,c,u)})["catch"](u)}},y={results:[]},_=function(n,i){if(!e.aborted){var a=0;if(i&&i.results){a=i.results.length,y.last_seq=i.last_seq;var u={};u.query=e.query_params,i.results=i.results.filter(function(t){s--;var n=we(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&Ze(t),r&&y.results.push(t),e.onChange(t)),n})}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(m=i.last_seq);var c=o&&0>=s||i&&t>a||e.descending;(!e.continuous||o&&0>=s)&&c?e.complete(null,y):setTimeout(function(){g(m,_)},0)}};return g(e.since||0,_),{cancel:function(){e.aborted=!0,v&&v.abort()}}},u.revsDiff=i("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,{method:"POST",url:tt(f,"_revs_diff"),body:e},r)}),u._close=function(e){e()},u._destroy=function(t,r){n(t,{url:tt(f,""),method:"DELETE"},function(t,n){return t&&t.status&&404!==t.status?r(t):(u.emit("destroyed"),u.constructor.emit("destroyed",e.name),void r(null,n))})}}function ot(){this.promise=new lr(function(e){e()})}function at(e){return ur.hash(e)}function st(e){var t=e.db,n=e.viewName,r=e.map,i=e.reduce,o=e.temporary,a=r.toString()+(i&&i.toString())+"undefined";if(!o&&t._cachedViews){var s=t._cachedViews[a];if(s)return lr.resolve(s)}return t.info().then(function(e){function s(e){e.views=e.views||{};var t=n;-1===t.indexOf("/")&&(t=n+"/"+n);var r=e.views[t]=e.views[t]||{};if(!r[u])return r[u]=!0,e}var u=e.db_name+"-mrview-"+(o?"temp":at(a));return d(t,"_local/mrviews",s).then(function(){return t.registerDependentDatabase(u).then(function(e){var n=e.db;n.auto_compaction=!0;var s={name:u,db:n,sourceDB:t,adapter:t.adapter,mapFun:r,reduceFun:i};return s.db.get("_local/lastSeq")["catch"](function(e){if(404!==e.status)throw e}).then(function(e){return s.seq=e?e.seq:0,o||(t._cachedViews=t._cachedViews||{},t._cachedViews[a]=s,s.db.once("destroyed",function(){delete t._cachedViews[a]})),s})})})})}function ut(e,t,n,r,i,o){return or("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:n,log:r,isArray:i,toJSON:o})}function ct(e){return-1===e.indexOf("/")?[e,e]:e.split("/");
}function lt(e){return 1===e.length&&/^1-/.test(e[0].rev)}function ft(e,t){try{e.emit("error",t)}catch(n){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(t)}}function ht(e,t,n){try{return{output:t.apply(null,n)}}catch(r){return ft(e,r),{error:r}}}function dt(e,t){var n=Si(e.key,t.key);return 0!==n?n:Si(e.value,t.value)}function pt(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function vt(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function mt(e){e.rows.forEach(function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach(function(e){var n=t[e];t[e].data=$e(n.data,n.content_type)})})}function gt(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&mt(t),t}}function yt(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Ht(t)}function _t(e){for(var t=0,n=0,r=e.length;r>n;n++){var i=e[n];if("number"!=typeof i){if(!Array.isArray(i))throw yt("_sum");t="number"==typeof t?[t]:t;for(var o=0,a=i.length;a>o;o++){var s=i[o];if("number"!=typeof s)throw yt("_sum");"undefined"==typeof t[o]?t.push(s):t[o]+=s}}else"number"==typeof t?t+=i:t[0]+=i}return t}function bt(e,t,n,r){var i=t[e];"undefined"!=typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function wt(e){if("undefined"!=typeof e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function xt(e){return e.group_level=wt(e.group_level),e.limit=wt(e.limit),e.skip=wt(e.skip),e}function kt(e){if(e){if("number"!=typeof e)return new Ut('Invalid value for integer: "'+e+'"');if(0>e)return new Ut('Invalid value for positive integer: "'+e+'"')}}function St(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&Si(e[n],e[r])>0)throw new Ut("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new Ut("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new Ut("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(t){var n=kt(e[t]);if(n)throw n})}function Et(e,t,n){var r,i=[],o="GET";if(bt("reduce",n,i),bt("include_docs",n,i),bt("attachments",n,i),bt("limit",n,i),bt("descending",n,i),bt("group",n,i),bt("group_level",n,i),bt("skip",n,i),bt("stale",n,i),bt("conflicts",n,i),bt("startkey",n,i,!0),bt("start_key",n,i,!0),bt("endkey",n,i,!0),bt("end_key",n,i,!0),bt("inclusive_end",n,i),bt("key",n,i,!0),i=i.join("&"),i=""===i?"":"?"+i,"undefined"!=typeof n.keys){var a=2e3,s="keys="+encodeURIComponent(JSON.stringify(n.keys));s.length+i.length+1<=a?i+=("?"===i[0]?"&":"?")+s:(o="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var u=ct(t);return e.request({method:o,url:"_design/"+u[0]+"/_view/"+u[1]+i,body:r}).then(gt(n))}return r=r||{},Object.keys(t).forEach(function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()}),e.request({method:"POST",url:"_temp_view"+i,body:r}).then(gt(n))}function Ot(e,t,n){return new lr(function(r,i){e._query(t,n,function(e,t){return e?i(e):void r(t)})})}function At(e){return new lr(function(t,n){e._viewCleanup(function(e,r){return e?n(e):void t(r)})})}function jt(e){return function(t){if(404===t.status)return e;throw t}}function Tt(e,t,n){function r(){return lt(l)?lr.resolve(s):t.db.get(a)["catch"](jt(s))}function i(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):lr.resolve({rows:[]})}function o(e,t){for(var n=[],r={},i=0,o=t.rows.length;o>i;i++){var a=t.rows[i],s=a.doc;if(s&&(n.push(s),r[s._id]=!0,s._deleted=!c[s._id],!s._deleted)){var u=c[s._id];"value"in u&&(s.value=u.value)}}var l=Object.keys(c);return l.forEach(function(e){if(!r[e]){var t={_id:e},i=c[e];"value"in i&&(t.value=i.value),n.push(t)}}),e.keys=Di(l.concat(e.keys)),n.push(e),n}var a="_local/doc_"+e,s={_id:a,keys:[]},u=n[e],c=u.indexableKeysToKeyValues,l=u.changes;return r().then(function(e){return i(e).then(function(t){return o(e,t)})})}function Dt(e,t,n){var r="_local/lastSeq";return e.db.get(r)["catch"](jt({_id:r,seq:0})).then(function(r){var i=Object.keys(t);return lr.all(i.map(function(n){return Tt(n,e,t)})).then(function(t){var i=Ke(t);return r.seq=n,i.push(r),e.db.bulkDocs({docs:i})})})}function Mt(e){var t="string"==typeof e?e:e.name,n=Ci[t];return n||(n=Ci[t]=new ot),n}function It(e){return Ti(Mt(e),function(){return Ct(e)})()}function Ct(e){function t(e,t){var n={id:i._id,key:Oi(e)};"undefined"!=typeof t&&null!==t&&(n.value=Oi(t)),r.push(n)}function n(t,n){return function(){return Dt(e,t,n)}}var r,i,o;if("function"==typeof e.mapFun&&2===e.mapFun.length){var a=e.mapFun;o=function(e){return a(e,t)}}else o=ut(e.mapFun.toString(),t,_t,gi,Array.isArray,JSON.parse);var s=e.seq||0,u=new ot;return new lr(function(t,a){function c(){u.finish().then(function(){e.seq=s,t()})}function l(){function t(e){a(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:s,limit:Li}).on("complete",function(t){var a=t.results;if(!a.length)return c();for(var f={},h=0,d=a.length;d>h;h++){var p=a[h];if("_"!==p.doc._id[0]){r=[],i=p.doc,i._deleted||ht(e.sourceDB,o,[i]),r.sort(dt);for(var v,m={},g=0,y=r.length;y>g;g++){var _=r[g],b=[_.key,_.id];0===Si(_.key,v)&&b.push(g);var w=Ei(b);m[w]=_,v=_.key}f[p.doc._id]={indexableKeysToKeyValues:m,changes:p.changes}}s=p.seq}return u.add(n(f,s)),a.length<Li?c():l()}).on("error",t)}l()})}function qt(e,t,n){0===n.group_level&&delete n.group_level;var r,i=n.group||n.group_level;r=Ri[e.reduceFun]?Ri[e.reduceFun]:ut(e.reduceFun.toString(),null,_t,gi,Array.isArray,JSON.parse);var o=[],a=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach(function(e){var t=o[o.length-1],n=i?e.key:null;return i&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===Si(t.groupKey,n)?(t.keys.push([e.key,e.id]),void t.values.push(e.value)):void o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}),t=[];for(var s=0,u=o.length;u>s;s++){var c=o[s],l=ht(e.sourceDB,r,[c.keys,c.values,!1]);if(l.error&&l.error instanceof Ht)throw l.error;t.push({value:l.error?null:l.output,key:c.groupKey})}return{rows:pt(t,n.limit,n.skip)}}function Lt(e,t){return Ti(Mt(e),function(){return Rt(e,t)})()}function Rt(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return i=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(n>t||t>n))return e.doc.value}var r=Ai(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=o?qt(e,n,t):{total_rows:i,offset:a,rows:n},t.include_docs){var s=Di(n.map(vt));return e.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=vt(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var i,o=e.reduceFun&&t.reduce!==!1,a=t.skip||0;if("undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys),"undefined"!=typeof t.keys){var s=t.keys,u=s.map(function(e){var t={startkey:Ei([e]),endkey:Ei([e,{}])};return n(t)});return lr.all(u).then(Ke).then(r)}var c={descending:t.descending};if(t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"undefined"!=typeof t.startkey&&(c.startkey=Ei(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var l=t.inclusive_end!==!1;t.descending&&(l=!l),c.endkey=Ei(l?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var f=Ei([t.key]),h=Ei([t.key,{}]);c.descending?(c.endkey=f,c.startkey=h):(c.startkey=f,c.endkey=h)}return o||("number"==typeof t.limit&&(c.limit=t.limit),c.skip=a),n(c).then(r)}function Pt(e){return e.request({method:"POST",url:"_view_cleanup"})}function Nt(e){return e.get("_local/mrviews").then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=ct(e),r="_design/"+t[0],i=t[1];n[r]=n[r]||{},n[r][i]=!0});var r={keys:Object.keys(n),include_docs:!0};return e.allDocs(r).then(function(r){var i={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var o=r+"/"+n;t.views[o]||(o=n);var a=Object.keys(t.views[o]),s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(e){i[e]=i[e]||s})})});var o=Object.keys(i).filter(function(e){return!i[e]}),a=o.map(function(t){return Ti(Mt(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return lr.all(a).then(function(){return{ok:!0}})})},jt({ok:!0}))}function Ft(e,t,r){if("http"===e.type())return Et(e,t,r);if("function"==typeof e._query)return Ot(e,t,r);if("string"!=typeof t){St(r,t);var i={db:e,viewName:"temp_view/temp_view",map:t.map,reduce:t.reduce,temporary:!0};return qi.add(function(){return st(i).then(function(e){function t(){return e.db.destroy()}return Mi(It(e).then(function(){return Lt(e,r)}),t)})}),qi.finish()}var o=t,a=ct(o),s=a[0],u=a[1];return e.getView(s,u).then(function(t){St(r,t);var i={db:e,viewName:o,map:t.map,reduce:t.reduce};return st(i).then(function(e){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&n.nextTick(function(){It(e)}),Lt(e,r)):It(e).then(function(){return Lt(e,r)})})})}function Ut(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ut)}catch(t){}}function Ht(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ht)}catch(t){}}function Yt(e){return Zr(Ge(e))}function Bt(e,t,n){function r(e){try{return Kr(e)}catch(t){var n=A(wr,"Attachment is not a valid base64 string");return{error:n}}}function i(e,n){if(e.stub)return n();if("string"==typeof e.data){var i=r(e.data);if(i.error)return n(i.error);e.length=i.length,"blob"===t?e.data=_e(i,e.content_type):"base64"===t?e.data=Zr(i):e.data=i,ci(i).then(function(t){e.digest="md5-"+t,n()})}else ue(e.data,function(r){"binary"===t?e.data=Ge(r):"base64"===t&&(e.data=Yt(r)),ci(r).then(function(t){e.digest="md5-"+t,e.length=r.byteLength,n()})})}function o(){s++,e.length===s&&(a?n(a):n())}if(!e.length)return n();var a,s=0;e.forEach(function(e){function t(e){a=e,r++,r===n.length&&o()}var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return o();for(var s in e.data._attachments)e.data._attachments.hasOwnProperty(s)&&i(e.data._attachments[s],t)})}function Wt(e,t){return e.pos-t.pos}function Vt(e,t,n){for(var r,i=0,o=e.length;o>i;)r=i+o>>>1,n(e[r],t)<0?i=r+1:o=r;return i}function $t(e,t,n){var r=Vt(e,t,n);e.splice(r,0,t)}function Gt(e,t){for(var n,r,i=t,o=e.length;o>i;i++){var a=e[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function zt(e,t){return e[0]<t[0]?-1:1}function Jt(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===a[2][s][0]&&(n.push({tree1:o[2][c],tree2:a[2][s]}),u=!0);u||(r="new_branch",$t(o[2],a[2][s],zt))}else r="new_leaf",o[2][0]=a[2][s]}return{conflicts:r,tree:e}}function Kt(e,t,n){var r,i=[],o=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,u=e.length;u>s;s++){var c=e[s];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=Jt(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(n!==!0){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,h=f.pos-l.pos,d=[],p=[];for(p.push({ids:l.ids,diff:h,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var m=v.ids[2],g=0,y=m.length;y>g;g++)p.push({ids:m[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===f.ids[0]&&d.push(v)}var _=d[0];_?(r=Jt(_.ids,f.ids),_.parent[2][_.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(t),i.sort(Wt),{tree:i,conflicts:o||"internal_node"}}function Zt(e,t){for(var n,r=C(e),i={},o=0,a=r.length;a>o;o++){for(var s=r[o],u=s.ids,c=Math.max(0,u.length-t),l={pos:s.pos+c,ids:Gt(u,c)},f=0;c>f;f++){var h=s.pos+f+"-"+u[f].id;i[h]=!0}n=n?Kt(n,l,!0).tree:[l]}return x(n,function(e,t,n){delete i[t+"-"+n]}),{tree:n,revs:Object.keys(i)}}function Xt(e,t,n){var r=Kt(e,t),i=Zt(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function Qt(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;c>u;u++)r.push({pos:n.pos+1,ids:s[u]})}return!1}function en(e,t,n,r,i,o,a,s){if(Qt(t.rev_tree,n.metadata.rev))return r[i]=n,o();var u=t.winningRev||v(t),c="deleted"in t?t.deleted:g(t,u),l="deleted"in n.metadata?n.metadata.deleted:g(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&s&&f){var h=n.data;h._rev=u,h._id=n.metadata.id,n=U(h,s)}var d=Xt(t.rev_tree,n.metadata.rev_tree[0],e),p=s&&(c&&l||!c&&"new_leaf"!==d.conflicts||c&&!l&&"new_branch"===d.conflicts);if(p){var m=A(vr);return r[i]=m,o()}var y=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var _,b=v(n.metadata),w=g(n.metadata,b),x=c===w?0:w>c?-1:1;_=y===b?w:g(n.metadata,y),a(n,b,w,_,!0,x,i,o)}function tn(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}function nn(e,t,n,r,i,o,a,s,u){function c(e,t,n){var r=v(e.metadata),i=g(e.metadata,r);if("was_delete"in s&&i)return o[t]=A(pr,"deleted"),n();var u=f&&tn(e);if(u){var c=A(vr);return o[t]=c,n()}var l=i?0:1;a(e,r,i,i,!1,l,t,n)}function l(){++d===p&&u&&u()}e=e||1e3;var f=s.new_edits,h=new nr.Map,d=0,p=t.length;t.forEach(function(e,t){if(e._id&&I(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";return void n[r](e,{ctx:i},function(e,n){o[t]=e||n,l()})}var a=e.metadata.id;h.has(a)?(p--,h.get(a).push([e,t])):h.set(a,[[e,t]])}),h.forEach(function(t,n){function i(){++u<t.length?s():l()}function s(){var s=t[u],l=s[0],h=s[1];if(r.has(n))en(e,r.get(n),l,o,h,i,a,f);else{var d=Xt([],l.metadata.rev_tree[0],e);l.metadata.rev_tree=d.tree,l.stemmedRevs=d.stemmedRevs||[],c(l,h,i)}}var u=0;s()})}function rn(e){var t=[];return x(e.rev_tree,function(e,n,r,i,o){"available"!==o.status||e||(t.push(n+"-"+r),o.status="missing")}),t}function on(e){try{return JSON.parse(e)}catch(t){return cr.parse(e)}}function an(e){return e.length<5e4?JSON.parse(e):on(e)}function sn(e){try{return JSON.stringify(e)}catch(t){return cr.stringify(e)}}function un(e,t,n,r){try{e.apply(t,n)}catch(i){r.emit("error",i)}}function cn(e){if(!zi.running&&zi.queue.length){zi.running=!0;var t=zi.queue.shift();t.action(function(r,i){un(t.callback,this,[r,i],e),zi.running=!1,n.nextTick(function(){cn(e)})})}}function ln(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(A(jr,n,t.type))}}function fn(e,t,n){return{data:sn(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function hn(e){if(!e)return null;var t=an(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function dn(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function pn(e,t,n,r){n?r(e?"string"!=typeof e?e:$e(e,t):se([""],{type:t})):e?"string"!=typeof e?ze(e,function(e){r(Zr(e))}):r(e):r("")}function vn(e,t,n,r){function i(){++s===a.length&&r&&r()}function o(e,t){var r=e._attachments[t],o=r.digest,a=n.objectStore(Bi).get(o);a.onsuccess=function(e){r.body=e.target.result.body,i()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var s=0;a.forEach(function(n){t.attachments&&t.include_docs?o(e,n):(e._attachments[n].stub=!0,i())})}function mn(e,t){return lr.all(e.map(function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return lr.all(n.map(function(n){var r=e.doc._attachments[n];if("body"in r){var i=r.body,a=r.content_type;return new lr(function(s){pn(i,a,t,function(t){e.doc._attachments[n]=Zn.extend(o(r,["digest","content_type"]),{data:t}),s()})})}}))}}))}function gn(e,t,n){function r(){c--,c||i()}function i(){o.length&&o.forEach(function(e){var t=u.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||s["delete"](e)}})}var o=[],a=n.objectStore(Yi),s=n.objectStore(Bi),u=n.objectStore(Wi),c=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),i=t+"::"+e;n.getKey(i).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a["delete"](t);var n=u.index("seq").openCursor(IDBKeyRange.only(t));n.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];o.push(n),u["delete"](t.primaryKey),t["continue"]()}else r()}}})}function yn(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}function _n(e,t,n,r,i,o,a){function s(){var e=[Hi,Yi,Bi,$i,Wi],t=yn(i,e,"readwrite");return t.error?a(t.error):(_=t.txn,_.onabort=ln(a),_.ontimeout=ln(a),_.oncomplete=l,b=_.objectStore(Hi),w=_.objectStore(Yi),x=_.objectStore(Bi),k=_.objectStore(Wi),void h(function(e){return e?(q=!0,a(e)):void c()}))}function u(){nn(e.revs_limit,E,r,C,_,M,d,n)}function c(){function e(){++n===E.length&&u()}function t(t){var n=hn(t.target.result);n&&C.set(n.id,n),e()}if(E.length)for(var n=0,r=0,i=E.length;i>r;r++){var o=E[r];if(o._id&&I(o._id))e();else{var a=b.get(o.metadata.id);a.onsuccess=t}}}function l(){q||(o.notify(r._meta.name),r._meta.docCount+=O,a(null,M))}function f(e,t){var n=x.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=A(qr,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function h(e){function t(){++i===n.length&&e(r)}var n=[];if(E.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,i=0;n.forEach(function(e){f(e,function(e){e&&!r&&(r=e),t()})})}function d(e,t,n,r,i,o,a,s){O+=o,e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0);var c=u._attachments&&Object.keys(u._attachments).length;return c?m(e,t,n,i,a,s):void v(e,t,n,i,a,s)}function p(e){var t=rn(e.metadata);gn(t,e.metadata.id,_)}function v(e,t,n,i,o,a){function s(o){i&&r.auto_compaction?p(e):e.stemmedRevs.length&&gn(e.stemmedRevs,e.metadata.id,_),f.seq=o.target.result,delete f.rev;var a=fn(f,t,n),s=b.put(a);s.onsuccess=c}function u(e){e.preventDefault(),e.stopPropagation();var t=w.index("_doc_id_rev"),n=t.getKey(l._doc_id_rev);n.onsuccess=function(e){var t=w.put(l,e.target.result);t.onsuccess=s}}function c(){M[o]={ok:!0,id:f.id,rev:t},C.set(e.metadata.id,e.metadata),g(e,f.seq,a)}var l=e.data,f=e.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var h=w.put(l);h.onsuccess=s,h.onerror=u}function m(e,t,n,r,i,o){function a(){c===l.length&&v(e,t,n,r,i,o)}function s(){c++,a()}var u=e.data,c=0,l=Object.keys(u._attachments);l.forEach(function(t){var n=e.data._attachments[t];if(n.stub)c++,a();else{var r=n.data;delete n.data;var i=n.digest;y(i,r,s)}})}function g(e,t,n){function r(){++o===a.length&&n()}function i(n){var i=e.data._attachments[n].digest,o=k.put({seq:t,digestSeq:i+"::"+t});o.onsuccess=r,o.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}var o=0,a=Object.keys(e.data._attachments||{});if(!a.length)return n();for(var s=0;s<a.length;s++)i(a[s])}function y(e,t,n){var r=x.count(e);r.onsuccess=function(r){var i=r.target.result;if(i)return n();var o={digest:e,body:t},a=x.put(o);a.onsuccess=n}}for(var _,b,w,x,k,S,E=t.docs,O=0,j=0,T=E.length;T>j;j++){var D=E[j];D._id&&I(D._id)||(D=E[j]=U(D,n.new_edits),D.error&&!S&&(S=D))}if(S)return a(S);var M=new Array(E.length),C=new nr.Map,q=!1,L=r._meta.blobSupport?"blob":"base64";Bt(E,L,function(e){return e?a(e):void s()})}function bn(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(o){return{error:o}}return null}function wn(e,t,n,r){return"DataError"===n.name&&0===n.code?r(null,{total_rows:e._meta.docCount,offset:t.skip,rows:[]}):void r(A(jr,n.name,n.message))}function xn(e,t,n,r){function i(e,r){function i(t,n,r){var i=t.id+"::"+r;k.get(i).onsuccess=function(r){n.doc=dn(r.target.result),e.conflicts&&(n.doc._conflicts=E(t)),vn(n.doc,e,_)}}function o(t,n,r){var o={id:r.id,key:r.id,value:{rev:n}},a=r.deleted;if("ok"===e.deleted)S.push(o),a?(o.value.deleted=!0,o.doc=null):e.include_docs&&i(r,o,n);else if(!a&&h--<=0&&(S.push(o),e.include_docs&&i(r,o,n),0===--d))return;t["continue"]()}function a(e){O=t._meta.docCount;var n=e.target.result;if(n){var r=hn(n.value),i=r.winningRev;o(n,i,r)}}function s(){r(null,{total_rows:O,offset:e.skip,rows:S})}function u(){e.attachments?mn(S,e.binary).then(s):s()}var c="startkey"in e?e.startkey:!1,l="endkey"in e?e.endkey:!1,f="key"in e?e.key:!1,h=e.skip||0,d="number"==typeof e.limit?e.limit:-1,p=e.inclusive_end!==!1,v="descending"in e&&e.descending?"prev":null,m=bn(c,l,p,f,v);if(m&&m.error)return wn(t,e,m.error,r);var g=[Hi,Yi];e.attachments&&g.push(Bi);var y=yn(n,g,"readonly");if(y.error)return r(y.error);var _=y.txn,b=_.objectStore(Hi),w=_.objectStore(Yi),x=v?b.openCursor(m,v):b.openCursor(m),k=w.index("_doc_id_rev"),S=[],O=0;_.oncomplete=u,x.onsuccess=a}function o(e,n){return 0===e.limit?n(null,{total_rows:t._meta.docCount,offset:e.skip,rows:[]}):void i(e,n)}o(e,r)}function kn(e){return new lr(function(t){var n=se([""]);e.objectStore(Gi).put(n,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})["catch"](function(){return!1})}function Sn(e){ie()?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):oe()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}function En(){ir.EventEmitter.call(this),this._listeners={},Sn(this)}function On(e,t){var n=this;zi.queue.push({action:function(t){An(n,e,t)},callback:t}),cn(n.constructor)}function An(e,t,r){function i(e){var t=e.createObjectStore(Hi,{keyPath:"id"});e.createObjectStore(Yi,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(Bi,{keyPath:"digest"}),e.createObjectStore(Vi,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(Gi),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore($i,{keyPath:"_id"});var n=e.createObjectStore(Wi,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(e,t){var n=e.objectStore(Hi);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=g(i);i.deletedOrLocal=o?"1":"0",n.put(i),r["continue"]()}else t()}}function a(e){e.createObjectStore($i,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function s(e,t){var n=e.objectStore($i),r=e.objectStore(Hi),i=e.objectStore(Yi),o=r.openCursor();o.onsuccess=function(e){var o=e.target.result;if(o){var a=o.value,s=a.id,u=I(s),c=v(a);if(u){var l=s+"::"+c,f=s+"::",h=s+"::~",d=i.index("_doc_id_rev"),p=IDBKeyRange.bound(f,h,!1,!1),m=d.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===l&&n.put(t),i["delete"](m.primaryKey),m["continue"]()}else r["delete"](o.primaryKey),o["continue"]()}}else o["continue"]()}else t&&t()}}function u(e){var t=e.createObjectStore(Wi,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function l(e,t){var n=e.objectStore(Yi),r=e.objectStore(Bi),i=e.objectStore(Wi),o=r.count();o.onsuccess=function(e){var r=e.target.result;return r?void(n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,a=Object.keys(r._attachments||{}),s={},u=0;u<a.length;u++){var c=r._attachments[a[u]];s[c.digest]=!0}var l=Object.keys(s);for(u=0;u<l.length;u++){var f=l[u];i.put({seq:o,digestSeq:f+"::"+o})}n["continue"]()}):t()}}function h(e){function t(e){return e.data?hn(e):(e.deleted="1"===e.deletedOrLocal,e)}var n=e.objectStore(Yi),r=e.objectStore(Hi),i=r.openCursor();i.onsuccess=function(e){function i(){var e=s.id+"::",t=s.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=i,o();var n=t.primaryKey;n>i&&(i=n),t["continue"]()}}function o(){var e=fn(s,s.winningRev,s.deleted),t=r.put(e);t.onsuccess=function(){a["continue"]()}}var a=e.target.result;if(a){var s=t(a.value);return s.winningRev=s.winningRev||v(s),s.seq?o():void i()}}}var d=t.name,p=null;e._meta=null,e.type=function(){return"idb"},e._id=f(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,i){_n(t,n,r,e,p,Zi,i)},e._get=function(e,t,n){function r(){n(a,{doc:i,metadata:o,ctx:s})}var i,o,a,s=t.ctx;if(!s){var u=yn(p,[Hi,Yi,Bi],"readonly");if(u.error)return n(u.error);s=u.txn}s.objectStore(Hi).get(e).onsuccess=function(e){if(o=hn(e.target.result),!o)return a=A(pr,"missing"),r();if(g(o)&&!t.rev)return a=A(pr,"deleted"),r();var n=s.objectStore(Yi),u=t.rev||o.winningRev,c=o.id+"::"+u;n.index("_doc_id_rev").get(c).onsuccess=function(e){return i=e.target.result,i&&(i=dn(i)),i?void r():(a=A(pr,"missing"),r())}}},e._getAttachment=function(e,t,n){var r;if(t.ctx)r=t.ctx;else{var i=yn(p,[Hi,Yi,Bi],"readonly");if(i.error)return n(i.error);r=i.txn}var o=e.digest,a=e.content_type;r.objectStore(Bi).get(o).onsuccess=function(e){var r=e.target.result.body;pn(r,a,t.binary,function(e){n(null,e)})}},e._info=function(t){if(null===p||!Ki.has(d)){var n=new Error("db isn't open");return n.id="idbNull",t(n)}var r,i,o=yn(p,[Yi],"readonly");if(o.error)return t(o.error);var a=o.txn,s=a.objectStore(Yi).openCursor(null,"prev");s.onsuccess=function(t){var n=t.target.result;r=n?n.key:0,i=e._meta.docCount},a.oncomplete=function(){t(null,{doc_count:i,update_seq:r,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(t,n){xn(t,e,p,n)},e._changes=function(t){function n(e){function n(){return c.seq!==a?e["continue"]():(u=a,c.winningRev===o._rev?i(o):void r())}function r(){var e=o._id+"::"+c.winningRev,t=g.get(e);t.onsuccess=function(e){i(dn(e.target.result))}}function i(n){var r=t.processChange(n,c,t);r.seq=c.seq;var i=b(r);return"object"==typeof i?t.complete(i):(i&&(_++,f&&y.push(r),t.attachments&&t.include_docs?vn(n,t,h,function(){mn([r],t.binary).then(function(){t.onChange(r)})}):t.onChange(r)),void(_!==l&&e["continue"]()))}var o=dn(e.value),a=e.key;if(s&&!s.has(o._id))return e["continue"]();var c;return(c=w.get(o._id))?n():void(m.get(o._id).onsuccess=function(e){c=hn(e.target.result),w.set(o._id,c),n()})}function r(e){var t=e.target.result;t&&n(t)}function i(){var e=[Hi,Yi];t.attachments&&e.push(Bi);var n=yn(p,e,"readonly");if(n.error)return t.complete(n.error);h=n.txn,h.onabort=ln(t.complete),h.oncomplete=o,v=h.objectStore(Yi),m=h.objectStore(Hi),g=v.index("_doc_id_rev");var i;i=t.descending?v.openCursor(null,"prev"):v.openCursor(IDBKeyRange.lowerBound(t.since,!0)),i.onsuccess=r}function o(){function e(){t.complete(null,{results:y,last_seq:u})}!t.continuous&&t.attachments?mn(y).then(e):e()}if(t=c(t),t.continuous){var a=d+":"+L();return Zi.addListener(d,a,e,t),Zi.notify(d),{cancel:function(){Zi.removeListener(d,a)}}}var s=t.doc_ids&&new nr.Set(t.doc_ids);t.since=t.since||0;var u=t.since,l="limit"in t?t.limit:-1;0===l&&(l=1);var f;f="return_docs"in t?t.return_docs:"returnDocs"in t?t.returnDocs:!0;var h,v,m,g,y=[],_=0,b=we(t),w=new nr.Map;i()},e._close=function(e){return null===p?e(A(_r)):(p.close(),Ki["delete"](d),p=null,void e())},e._getRevisionTree=function(e,t){var n=yn(p,[Hi],"readonly");if(n.error)return t(n.error);var r=n.txn,i=r.objectStore(Hi).get(e);i.onsuccess=function(e){var n=hn(e.target.result);n?t(null,n.rev_tree):t(A(pr))}},e._doCompaction=function(e,t,n){var r=[Hi,Yi,Bi,Wi],i=yn(p,r,"readwrite");if(i.error)return n(i.error);var o=i.txn,a=o.objectStore(Hi);a.get(e).onsuccess=function(n){var r=hn(n.target.result);x(r.rev_tree,function(e,n,r,i,o){var a=n+"-"+r;-1!==t.indexOf(a)&&(o.status="missing")}),gn(t,e,o);var i=r.winningRev,a=r.deleted;o.objectStore(Hi).put(fn(r,i,a))},o.onabort=ln(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=yn(p,[$i],"readonly");if(n.error)return t(n.error);var r=n.txn,i=r.objectStore($i).get(e);i.onerror=ln(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(A(pr))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,i=e._id;r?e._rev="0-"+(parseInt(r.split("-")[1],10)+1):e._rev="0-1";var o,a=t.ctx;if(!a){var s=yn(p,[$i],"readwrite");if(s.error)return n(s.error);a=s.txn,a.onerror=ln(n),a.oncomplete=function(){o&&n(null,o)}}var u,c=a.objectStore($i);r?(u=c.get(i),u.onsuccess=function(i){var a=i.target.result;if(a&&a._rev===r){var s=c.put(e);s.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}}else n(A(vr))}):(u=c.add(e),u.onerror=function(e){n(A(vr)),e.preventDefault(),e.stopPropagation()},u.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=t.ctx;if(!r){var i=yn(p,[$i],"readwrite");if(i.error)return n(i.error);r=i.txn,r.oncomplete=function(){o&&n(null,o)}}var o,a=e._id,s=r.objectStore($i),u=s.get(a);u.onerror=ln(n),u.onsuccess=function(r){var i=r.target.result;i&&i._rev===e._rev?(s["delete"](a),o={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,o)):n(A(pr))}},e._destroy=function(e,t){Zi.removeAllListeners(d);var n=Xi.get(d);n&&n.result&&(n.result.close(),Ki["delete"](d));var r=indexedDB.deleteDatabase(d);r.onsuccess=function(){Xi["delete"](d),oe()&&d in localStorage&&delete localStorage[d],t(null,{ok:!0})},r.onerror=ln(t)};var m=Ki.get(d);if(m)return p=m.idb,e._meta=m.global,void n.nextTick(function(){r(null,e)});var y;y=t.storage?jn(d,t.storage):indexedDB.open(d,Ui),Xi.set(d,y),y.onupgradeneeded=function(e){function t(){var e=c[f-1];f++,e&&e(r,t)}var n=e.target.result;if(e.oldVersion<1)return i(n);var r=e.currentTarget.transaction;e.oldVersion<3&&a(n),e.oldVersion<4&&u(n);var c=[o,s,l,h],f=e.oldVersion;t()},y.onsuccess=function(t){p=t.target.result,p.onversionchange=function(){p.close(),Ki["delete"](d)},p.onabort=function(e){console.error("Database has a global failure",e.target.error),p.close(),Ki["delete"](d)};var n=p.transaction([Vi,Gi,Hi],"readwrite"),i=n.objectStore(Vi).get(Vi),o=null,a=null,s=null;i.onsuccess=function(t){var i=function(){null!==o&&null!==a&&null!==s&&(e._meta={name:d,instanceId:s,blobSupport:o,docCount:a},Ki.set(d,{idb:p,global:e._meta}),r(null,e))},u=t.target.result||{id:Vi};d+"_id"in u?(s=u[d+"_id"],i()):(s=L(),u[d+"_id"]=s,n.objectStore(Vi).put(u).onsuccess=function(){i()}),Ji||(Ji=kn(n)),Ji.then(function(e){o=e,i()});var c=n.objectStore(Hi).index("deletedOrLocal");c.count(IDBKeyRange.only("0")).onsuccess=function(e){a=e.target.result,i()}}},y.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";console.error(e),r(A(jr,e))}}function jn(e,t){try{return indexedDB.open(e,{version:Ui,storage:t})}catch(n){return indexedDB.open(e,Ui)}}function Tn(e){return decodeURIComponent(window.escape(e))}function Dn(e){return 65>e?e-48:e-55}function Mn(e,t,n){for(var r="";n>t;)r+=String.fromCharCode(Dn(e.charCodeAt(t++))<<4|Dn(e.charCodeAt(t++)));
return r}function In(e,t,n){for(var r="";n>t;)r+=String.fromCharCode(Dn(e.charCodeAt(t+2))<<12|Dn(e.charCodeAt(t+3))<<8|Dn(e.charCodeAt(t))<<4|Dn(e.charCodeAt(t+1))),t+=4;return r}function Cn(e,t){return"UTF-8"===t?Tn(Mn(e,0,e.length)):In(e,0,e.length)}function qn(e){return"'"+e+"'"}function Ln(){return"undefined"!=typeof sqlitePlugin?sqlitePlugin.openDatabase.bind(sqlitePlugin):"undefined"!=typeof openDatabase?function(e){return openDatabase(e.name,e.version,e.description,e.size)}:void 0}function Rn(){return"undefined"!=typeof openDatabase||"undefined"!=typeof SQLitePlugin}function Pn(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Nn(e){return e.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function Fn(e){return delete e._id,delete e._rev,JSON.stringify(e)}function Un(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function Hn(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function Yn(e,t,n,r,i){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function Bn(e,t,n){function r(){++o===e.length&&i()}function i(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+oo+" WHERE seq IN "+Hn(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var i="DELETE FROM "+oo+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(i,a,function(e){var t="SELECT digest FROM "+oo+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new nr.Set,i=0;i<t.rows.length;i++)r.add(t.rows.item(i).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+oo+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+no+" WHERE digest=?",[t]))})})})}})}}if(e.length){var o=0,a=[];e.forEach(function(e){var i="SELECT seq FROM "+to+" WHERE doc_id=? AND rev=?";n.executeSql(i,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+to+" WHERE seq=?",[n],r)})})}}function Wn(e){return function(t){console.error("WebSQL threw an error",t);var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,i=t.target||t.message;e(A(Tr,i,r))}}function Vn(e){if("size"in e)return 1e6*e.size;var t="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return t?5e6:1}function $n(e,t){try{return{db:e(t)}}catch(n){return{error:n}}}function Gn(e){var t=ao.get(e.name);if(!t){var n=Ln();t=$n(n,e),ao.set(e.name,t),t.db&&(t.db._sqlitePlugin="undefined"!=typeof sqlitePlugin)}return t}function zn(e,t,n,r,i,o,a){function s(){return _?a(_):(o.notify(r._name),r._docCount=-1,void a(null,b))}function u(e,t){var n="SELECT count(*) as cnt FROM "+no+" WHERE digest=?";y.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var i=A(qr,"unknown stub attachment with digest "+e);t(i)}else t()})}function c(e){function t(){++i===n.length&&e(r)}var n=[];if(m.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,i=0;n.forEach(function(e){u(e,function(e){e&&!r&&(r=e),t()})})}function l(e,t,n,i,o,a,s,u){function c(){function t(e,t){function r(){return++o===a.length&&t(),!1}function i(t){var i="INSERT INTO "+oo+" (digest, seq) VALUES (?,?)",o=[n._attachments[t].digest,e];y.executeSql(i,o,r,r)}var o=0,a=Object.keys(n._attachments||{});if(!a.length)return t();for(var s=0;s<a.length;s++)i(a[s])}var n=e.data,r=i?1:0,o=n._id,a=n._rev,s=Fn(n),u="INSERT INTO "+to+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[o,a,s,r];y.executeSql(u,c,function(e,n){var r=n.insertId;t(r,function(){h(e,r)})},function(){var e=Yn("seq",to,null,"doc_id=? AND rev=?");return y.executeSql(e,[o,a],function(e,n){var i=n.rows.item(0).seq,u="UPDATE "+to+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[s,r,o,a];e.executeSql(u,c,function(e){t(i,function(){h(e,i)})})}),!1})}function l(e){p||(e?(p=e,u(p)):v===m.length&&c())}function f(e){v++,l(e)}function h(n,i){var a=e.metadata.id;o&&r.auto_compaction?Bn(rn(e.metadata),a,n):e.stemmedRevs.length&&Bn(e.stemmedRevs,a,n),e.metadata.seq=i,delete e.metadata.rev;var c=o?"UPDATE "+eo+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+to+" WHERE doc_id="+eo+".id AND rev=?) WHERE id=?":"INSERT INTO "+eo+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",l=sn(e.metadata),f=o?[l,i,t,a]:[a,i,i,l];n.executeSql(c,f,function(){b[s]={ok:!0,id:e.metadata.id,rev:t},w.set(a,e.metadata),u()})}var p=null,v=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var m=Object.keys(e.data._attachments||{});i&&(e.data._deleted=!0),m.forEach(function(t){var n=e.data._attachments[t];if(n.stub)v++,l();else{var r=n.data;delete n.data;var i=n.digest;d(i,r,f)}}),m.length||c()}function f(){nn(e.revs_limit,m,r,w,y,b,l,n)}function h(e){function t(){++n===m.length&&e()}if(!m.length)return e();var n=0;m.forEach(function(e){if(e._id&&I(e._id))return t();var n=e.metadata.id;y.executeSql("SELECT json FROM "+eo+" WHERE id = ?",[n],function(e,r){if(r.rows.length){var i=an(r.rows.item(0).json);w.set(n,i)}t()})})}function d(e,t,n){var r="SELECT digest FROM "+no+" WHERE digest=?";y.executeSql(r,[e],function(i,o){return o.rows.length?n():(r="INSERT INTO "+no+" (digest, body, escaped) VALUES (?,?,1)",void i.executeSql(r,[e,Pn(t)],function(){n()},function(){return n(),!1}))})}var p=n.new_edits,v=t.docs,m=v.map(function(e){if(e._id&&I(e._id))return e;var t=U(e,p);return t}),g=m.filter(function(e){return e.error});if(g.length)return a(g[0]);var y,_,b=new Array(m.length),w=new nr.Map;Bt(m,"binary",function(e){return e?a(e):void i.transaction(function(e){y=e,c(function(e){e?_=e:h(f)})},Wn(a),s)})}function Jn(e,t,n,r,i){function a(){++c===u.length&&i&&i()}function s(e,i){var s=e._attachments[i],u={binary:t.binary,ctx:r};n._getAttachment(s,u,function(t,n){e._attachments[i]=Zn.extend(o(s,["digest","content_type"]),{data:n}),a()})}var u=Object.keys(e._attachments||{});if(!u.length)return i&&i();var c=0;u.forEach(function(n){t.attachments&&t.include_docs?s(e,n):(e._attachments[n].stub=!0,a())})}function Kn(e,t){function n(){oe()&&(window.localStorage["_pouch__websqldb_"+_._name]=!0),t(null,_)}function r(e,t){e.executeSql(fo),e.executeSql("ALTER TABLE "+to+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(co),e.executeSql("ALTER TABLE "+eo+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+eo+" (local, id)");var n="SELECT "+eo+".winningseq AS seq, "+eo+".json AS metadata FROM "+to+" JOIN "+eo+" ON "+to+".seq = "+eo+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var a=n.rows.item(o),s=a.seq,u=JSON.parse(a.metadata);g(u)&&r.push(s),I(u.id)&&i.push(u.id)}e.executeSql("UPDATE "+eo+"SET local = 1 WHERE id IN "+Hn(i.length),i,function(){e.executeSql("UPDATE "+to+" SET deleted = 1 WHERE seq IN "+Hn(r.length),r,t)})})})})}function i(e,t){var n="CREATE TABLE IF NOT EXISTS "+ro+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+eo+".id AS id, "+to+".json AS data FROM "+to+" JOIN "+eo+" ON "+to+".seq = "+eo+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!i.length)return t(e);var n=i.shift(),o=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+ro+" (id, rev, json) VALUES (?,?,?)",[n.id,o,n.data],function(e){e.executeSql("DELETE FROM "+eo+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+to+" WHERE seq=?",[n.seq],function(){r()})})})}for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o));r()})})}function o(e,t){function n(n){function r(){if(!n.length)return t(e);var i=n.shift(),o=Cn(i.hex,y),a=o.lastIndexOf("::"),s=o.substring(0,a),u=o.substring(a+2),c="UPDATE "+to+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(c,[s,u,o],function(){r()})}r()}var r="ALTER TABLE "+to+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+to+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(lo,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+to;e.executeSql(t,[],function(e,t){for(var r=[],i=0;i<t.rows.length;i++)r.push(t.rows.item(i));n(r)})})})})}function a(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+no;e.executeSql(n,[],function(e,n){function r(){var n=Yn(mo+", "+eo+".id AS id",[eo,to],vo,null,eo+".id ");n+=" LIMIT "+a+" OFFSET "+o,o+=a,e.executeSql(n,[],function(e,n){function i(e,t){var n=o[e]=o[e]||[];-1===n.indexOf(t)&&n.push(t)}if(!n.rows.length)return t(e);for(var o={},a=0;a<n.rows.length;a++)for(var s=n.rows.item(a),u=Un(s.data,s.id,s.rev),c=Object.keys(u._attachments||{}),l=0;l<c.length;l++){var f=u._attachments[c[l]];i(f.digest,s.seq)}var h=[];if(Object.keys(o).forEach(function(e){var t=o[e];t.forEach(function(t){h.push([e,t])})}),!h.length)return r();var d=0;h.forEach(function(t){var n="INSERT INTO "+oo+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++d===h.length&&r()})})})}var i=n.rows.item(0).cnt;if(!i)return t(e);var o=0,a=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+oo+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(po,[],function(e){e.executeSql(ho,[],n)})})}function s(e,t){var n="ALTER TABLE "+no+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function u(e,t){var n="ALTER TABLE "+eo+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+eo+" SET max_seq=(SELECT MAX(seq) FROM "+to+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+eo+" (max_seq)";e.executeSql(n,[],t)})})}function l(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;y=2===r.length?"UTF-8":"UTF-16",t()})}function h(){for(;k.length>0;){var e=k.pop();e(null,b)}}function d(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+io+" (dbid, db_version INTEGER)",c="CREATE TABLE IF NOT EXISTS "+no+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+oo+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+eo+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",d="CREATE TABLE IF NOT EXISTS "+to+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+ro+" (id UNIQUE, rev, json)";e.executeSql(c),e.executeSql(p),e.executeSql(l,[],function(){e.executeSql(ho),e.executeSql(po)}),e.executeSql(f,[],function(){e.executeSql(fo),e.executeSql(d,[],function(){e.executeSql(co),e.executeSql(lo),e.executeSql(n,[],function(){var t="INSERT INTO "+io+" (db_version, dbid) VALUES (?,?)";b=L();var n=[Qi,b];e.executeSql(t,n,function(){h()})})})})}else{var v=function(){var n=Qi>t;n&&e.executeSql("UPDATE "+io+" SET db_version = "+Qi);var r="SELECT dbid FROM "+io;e.executeSql(r,[],function(e,t){b=t.rows.item(0).dbid,h()})},m=[r,i,o,a,s,u,v],g=t,y=function(e){m[g-1](e,y),g++};y(e)}}function p(){O.transaction(function(e){l(e,function(){v(e)})},Wn(t),n)}function v(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+io;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+io,[],function(e,t){var n=t.rows.item(0).db_version;d(e,n)}):e.executeSql("ALTER TABLE "+io+" ADD COLUMN db_version INTEGER",[],function(){d(e,1)}):d(e,0)})}function m(e,t){if(-1!==_._docCount)return t(_._docCount);var n=Yn("COUNT("+eo+".id) AS 'num'",[eo,to],vo,to+".deleted=0");e.executeSql(n,[],function(e,n){_._docCount=n.rows.item(0).num,t(_._docCount)})}var y,_=this,b=null,w=Vn(e),k=[];_._docCount=-1,_._name=e.name;var S=Gn({name:_._name,version:uo,description:_._name,size:w,location:e.location,createFromLocation:e.createFromLocation,androidDatabaseImplementation:e.androidDatabaseImplementation});if(S.error)return Wn(t)(S.error);var O=S.db;"function"!=typeof O.readTransaction&&(O.readTransaction=O.transaction),p(),_.type=function(){return"websql"},_._id=f(function(e){e(null,b)}),_._info=function(e){O.readTransaction(function(t){m(t,function(n){var r="SELECT MAX(seq) AS seq FROM "+to;t.executeSql(r,[],function(t,r){var i=r.rows.item(0).seq||0;e(null,{doc_count:n,update_seq:i,sqlite_plugin:O._sqlitePlugin,websql_encoding:y})})})},Wn(e))},_._bulkDocs=function(t,n,r){zn(e,t,n,_,O,so,r)},_._get=function(e,t,n){function r(){n(a,{doc:i,metadata:o,ctx:s})}var i,o,a,s=t.ctx;if(!s)return O.readTransaction(function(r){_._get(e,Zn.extend({ctx:r},t),n)});var u,c;t.rev?(u=Yn(mo,[eo,to],eo+".id="+to+".doc_id",[to+".doc_id=?",to+".rev=?"]),c=[e,t.rev]):(u=Yn(mo,[eo,to],vo,eo+".id=?"),c=[e]),s.executeSql(u,c,function(e,n){if(!n.rows.length)return a=A(pr,"missing"),r();var s=n.rows.item(0);return o=an(s.metadata),s.deleted&&!t.rev?(a=A(pr,"deleted"),r()):(i=Un(s.data,o.id,s.rev),void r())})},_._allDocs=function(e,t){var n,r=[],i="startkey"in e?e.startkey:!1,o="endkey"in e?e.endkey:!1,a="key"in e?e.key:!1,s="descending"in e?e.descending:!1,u="limit"in e?e.limit:-1,c="skip"in e?e.skip:0,l=e.inclusive_end!==!1,f=[],h=[];if(a!==!1)h.push(eo+".id = ?"),f.push(a);else if(i!==!1||o!==!1){if(i!==!1&&(h.push(eo+".id "+(s?"<=":">=")+" ?"),f.push(i)),o!==!1){var d=s?">":"<";l&&(d+="="),h.push(eo+".id "+d+" ?"),f.push(o)}a!==!1&&(h.push(eo+".id = ?"),f.push(a))}"ok"!==e.deleted&&h.push(to+".deleted = 0"),O.readTransaction(function(t){m(t,function(i){if(n=i,0!==u){var o=Yn(mo,[eo,to],vo,h,eo+".id "+(s?"DESC":"ASC"));o+=" LIMIT "+u+" OFFSET "+c,t.executeSql(o,f,function(t,n){for(var i=0,o=n.rows.length;o>i;i++){var a=n.rows.item(i),s=an(a.metadata),u=s.id,c=Un(a.data,u,a.rev),l=c._rev,f={id:u,key:u,value:{rev:l}};if(e.include_docs&&(f.doc=c,f.doc._rev=l,e.conflicts&&(f.doc._conflicts=E(s)),Jn(f.doc,e,_,t)),a.deleted){if("ok"!==e.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}})},Wn(t),function(){t(null,{total_rows:n,offset:e.skip,rows:r})})},_._changes=function(e){function t(){var t=eo+".json AS metadata, "+eo+".max_seq AS maxSeq, "+to+".json AS winningDoc, "+to+".rev AS winningRev ",n=eo+" JOIN "+to,u=eo+".id="+to+".doc_id AND "+eo+".winningseq="+to+".seq",c=["maxSeq > ?"],l=[e.since];e.doc_ids&&(c.push(eo+".id IN "+Hn(e.doc_ids.length)),l=l.concat(e.doc_ids));var f="maxSeq "+(r?"DESC":"ASC"),h=Yn(t,n,u,c,f),d=we(e);e.view||e.filter||(h+=" LIMIT "+i);var p=e.since||0;O.readTransaction(function(t){t.executeSql(h,l,function(t,n){function r(t){return function(){e.onChange(t)}}for(var u=0,c=n.rows.length;c>u;u++){var l=n.rows.item(u),f=an(l.metadata);p=l.maxSeq;var h=Un(l.winningDoc,f.id,l.winningRev),v=e.processChange(h,f,e);v.seq=l.maxSeq;var m=d(v);if("object"==typeof m)return e.complete(m);if(m&&(s++,o&&a.push(v),e.attachments&&e.include_docs?Jn(h,e,_,t,r(v)):r(v)()),s===i)break}})},Wn(e.complete),function(){e.continuous||e.complete(null,{results:a,last_seq:p})})}if(e=c(e),e.continuous){var n=_._name+":"+L();return so.addListener(_._name,n,_,e),so.notify(_._name),{cancel:function(){so.removeListener(_._name,n)}}}var r=e.descending;e.since=e.since&&!r?e.since:0;var i="limit"in e?e.limit:-1;0===i&&(i=1);var o;o="return_docs"in e?e.return_docs:"returnDocs"in e?e.returnDocs:!0;var a=[],s=0;t()},_._close=function(e){e()},_._getAttachment=function(e,t,n){var r,i=t.ctx,o=e.digest,a=e.content_type,s="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+no+" WHERE digest=?";i.executeSql(s,[o],function(e,i){var o=i.rows.item(0),s=o.escaped?Nn(o.body):Cn(o.body,y);r=t.binary?_e(s,a):Zr(s),n(null,r)})},_._getRevisionTree=function(e,t){O.readTransaction(function(n){var r="SELECT json AS metadata FROM "+eo+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=an(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(A(pr))})})},_._doCompaction=function(e,t,n){return t.length?void O.transaction(function(n){var r="SELECT json AS metadata FROM "+eo+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var i=an(r.rows.item(0).metadata);x(i.rev_tree,function(e,n,r,i,o){var a=n+"-"+r;-1!==t.indexOf(a)&&(o.status="missing")});var o="UPDATE "+eo+" SET json = ? WHERE id = ?";n.executeSql(o,[sn(i),e])}),Bn(t,e,n)},Wn(n),function(){n()}):n()},_._getLocal=function(e,t){O.readTransaction(function(n){var r="SELECT json, rev FROM "+ro+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var i=r.rows.item(0),o=Un(i.json,e,i.rev);t(null,o)}else t(A(pr))})})},_._putLocal=function(e,t,n){function r(e){var r,c;o?(r="UPDATE "+ro+" SET rev=?, json=? WHERE id=? AND rev=?",c=[i,u,a,o]):(r="INSERT INTO "+ro+" (id, rev, json) VALUES (?,?,?)",c=[a,i,u]),e.executeSql(r,c,function(e,r){r.rowsAffected?(s={ok:!0,id:a,rev:i},t.ctx&&n(null,s)):n(A(vr))},function(){return n(A(vr)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var i,o=e._rev,a=e._id;i=o?e._rev="0-"+(parseInt(o.split("-")[1],10)+1):e._rev="0-1";var s,u=Fn(e);t.ctx?r(t.ctx):O.transaction(r,Wn(n),function(){s&&n(null,s)})},_._removeLocal=function(e,t,n){function r(r){var o="DELETE FROM "+ro+" WHERE id=? AND rev=?",a=[e._id,e._rev];r.executeSql(o,a,function(r,o){return o.rowsAffected?(i={ok:!0,id:e._id,rev:"0-0"},void(t.ctx&&n(null,i))):n(A(pr))})}"function"==typeof t&&(n=t,t={});var i;t.ctx?r(t.ctx):O.transaction(r,Wn(n),function(){i&&n(null,i)})},_._destroy=function(e,t){so.removeAllListeners(_._name),O.transaction(function(e){var t=[eo,to,no,io,ro,oo];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},Wn(t),function(){oe()&&(delete window.localStorage["_pouch__websqldb_"+_._name],delete window.localStorage[_._name]),t(null,{ok:!0})})}}var Zn=e(7),Xn=i(Zn),Qn=i(e(2)),er=i(e(6)),tr=i(e(8)),nr=e(12),rr=i(e(1)),ir=e(4),or=i(e(14)),ar=e(10),sr=i(ar),ur=i(e(15)),cr=i(e(16)),lr="function"==typeof Promise?Promise:tr,fr=Qn("pouchdb:api");er(O,Error),O.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var hr=new O({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),dr=new O({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),pr=new O({status:404,error:"not_found",reason:"missing"}),vr=new O({status:409,error:"conflict",reason:"Document update conflict"}),mr=new O({status:400,error:"invalid_id",reason:"_id field must contain a string"}),gr=new O({status:412,error:"missing_id",reason:"_id is required for puts"}),yr=new O({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),_r=new O({status:412,error:"precondition_failed",reason:"Database not open"}),br=new O({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),wr=new O({status:500,error:"badarg",reason:"Some query argument is invalid"}),xr=new O({status:400,error:"invalid_request",reason:"Request was invalid"}),kr=new O({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),Sr=new O({status:500,error:"doc_validation",reason:"Bad special document member"}),Er=new O({status:400,error:"bad_request",reason:"Something wrong with the request"}),Or=new O({status:400,error:"bad_request",reason:"Document must be a JSON object"}),Ar=new O({status:404,error:"not_found",reason:"Database not found"}),jr=new O({status:500,error:"indexed_db_went_bad",reason:"unknown"}),Tr=new O({status:500,error:"web_sql_went_bad",reason:"unknown"}),Dr=new O({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),Mr=new O({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),Ir=new O({status:400,error:"bad_request",reason:"Invalid rev format"}),Cr=new O({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),qr=new O({status:412,error:"missing_stub"}),Lr=new O({status:413,error:"invalid_url",reason:"Provided URL is invalid"}),Rr={UNAUTHORIZED:hr,MISSING_BULK_DOCS:dr,MISSING_DOC:pr,REV_CONFLICT:vr,INVALID_ID:mr,MISSING_ID:gr,RESERVED_ID:yr,NOT_OPEN:_r,UNKNOWN_ERROR:br,BAD_ARG:wr,INVALID_REQUEST:xr,QUERY_PARSE_ERROR:kr,DOC_VALIDATION:Sr,BAD_REQUEST:Er,NOT_AN_OBJECT:Or,DB_MISSING:Ar,WSQ_ERROR:Tr,LDB_ERROR:Dr,FORBIDDEN:Mr,INVALID_REV:Ir,FILE_EXISTS:Cr,MISSING_STUB:qr,IDB_ERROR:jr,INVALID_URL:Lr},Pr=function(e,t,n){var r=Object.keys(Rr).filter(function(n){var r=Rr[n];return"function"!=typeof r&&r[e]===t}),i=n&&r.filter(function(e){var t=Rr[e];return t.message===n})[0]||r[0];return i?Rr[i]:null};er(T,ir.EventEmitter),T.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},T.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=c(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=D,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq,void t.doChanges(e))},n);if(e.continuous&&"now"!==e.since&&this.db.info().then(function(e){t.startSeq=e.update_seq},function(e){if("idbNull"!==e.id)throw e}),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=w(e.view):e.filter=w(e.filter),"http"!==this.db.type()&&!e.doc_ids))return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var i=t.cancel;t.cancel=rr(function(e){r.cancel(),i.apply(this,e)})}},T.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=A(Er,"`view` filter parameter not found or invalid.");return n(r)}var i=b(e.view);this.db.getView(i[0],i[1],function(r,i){return t.isCancelled?n(null,{status:"cancelled"}):r?n(j(r)):i.map?(e.filter=_(i.map),void t.doChanges(e)):n(A(pr))})}else{var o=b(e.filter);if(!o)return t.doChanges(e);this.db.getFilter(o[0],o[1],function(r,i){return t.isCancelled?n(null,{status:"cancelled"}):r?n(j(r)):(e.filter=y(i),void t.doChanges(e))})}};var Nr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Fr=R(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Ur=R(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);er(Q,ir.EventEmitter),Q.prototype.post=h("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(A(Or)):void this.bulkDocs({docs:[e]},t,B(n))}),Q.prototype.put=h("put",rr(function(e){var t,n,r,i,o=e.shift(),a="_id"in o;if("object"!=typeof o||Array.isArray(o))return(i=e.pop())(A(Or));for(;;)if(t=e.shift(),n=typeof t,"string"!==n||a?"string"!==n||!a||"_rev"in o?"object"===n?r=t:"function"===n&&(i=t):o._rev=t:(o._id=t,a=!0),!e.length)break;return r=r||{},P(o._id),I(o._id)&&"function"==typeof this._putLocal?o._deleted?this._removeLocal(o,i):this._putLocal(o,i):void this.bulkDocs({docs:[o]},r,B(i))})),Q.prototype.putAttachment=h("putAttachment",function(e,t,n,r,i){function o(e){return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r},a.put(e)}var a=this;return"function"==typeof i&&(i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),a.get(e).then(function(e){if(e._rev!==n)throw A(vr);return o(e)},function(t){if(t.reason===pr.message)return o({_id:e});throw t})}),Q.prototype.removeAttachment=h("removeAttachment",function(e,t,n,r){var i=this;i.get(e,function(e,o){return e?void r(e):o._rev!==n?void r(A(vr)):o._attachments?(delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,r)):r()})}),Q.prototype.remove=h("remove",function(e,t,n,r){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(i=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),n=n||{},n.was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev};return o._deleted=!0,I(o._id)&&"function"==typeof this._removeLocal?this._removeLocal(i,r):void this.bulkDocs({docs:[o]},n,B(r))}),Q.prototype.revsDiff=h("revsDiff",function(e,t,n){function r(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}function i(t,n){var i=e[t].slice(0);x(n,function(e,n,o,a,s){var u=n+"-"+o,c=i.indexOf(u);-1!==c&&(i.splice(c,1),"available"!==s.status&&r(t,u))}),i.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={});var o=Object.keys(e);if(!o.length)return n(null,{});var a=0,s=new nr.Map;o.map(function(t){this._getRevisionTree(t,function(r,u){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]});else{if(r)return n(r);i(t,u)}if(++a===o.length){var c={};return s.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),Q.prototype.bulkGet=h("bulkGet",function(e,t){M(this,e,t)}),Q.prototype.compactDocument=h("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(i,o){if(i)return n(i);var a=$(o),s=[],u=[];Object.keys(a).forEach(function(e){a[e]>t&&s.push(e)}),x(o,function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==s.indexOf(o)&&u.push(o)}),r._doCompaction(e,u,n)})}),Q.prototype.compact=h("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&z(n)}),Q.prototype._compact=function(e,t){function n(e){a.push(i.compactDocument(e.id,0))}function r(e){var n=e.last_seq;lr.all(a).then(function(){return d(i,"_local/compaction",function(e){return!e.last_seq||e.last_seq<n?(e.last_seq=n,e):!1})}).then(function(){t(null,{ok:!0})})["catch"](t)}var i=this,o={return_docs:!1,last_seq:e.last_seq||0},a=[];i.changes(o).on("change",n).on("complete",r).on("error",t)},Q.prototype.get=h("get",function(e,t,n){function r(){var r=[],a=i.length;return a?void i.forEach(function(i){o.get(e,{rev:i,revs:t.revs,attachments:t.attachments},function(e,t){e?r.push({missing:i}):r.push({ok:t}),a--,a||n(null,r)})}):n(null,r)}if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(A(mr));if(I(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],o=this;if(!t.open_revs)return this._get(e,t,function(e,r){if(e)return n(e);var i=r.doc,a=r.metadata,s=r.ctx;if(t.conflicts){var u=E(a);u.length&&(i._conflicts=u)}if(g(a,i._rev)&&(i._deleted=!0),t.revs||t.revs_info){var c=C(a.rev_tree),l=Y(c,function(e){return-1!==e.ids.map(function(e){return e.id}).indexOf(i._rev.split("-")[1])}),f=l.ids.map(function(e){return e.id}).indexOf(i._rev.split("-")[1])+1,h=l.ids.length-f;if(l.ids.splice(f,h),l.ids.reverse(),t.revs&&(i._revisions={start:l.pos+l.ids.length-1,ids:l.ids.map(function(e){return e.id})}),t.revs_info){var d=l.pos+l.ids.length;i._revs_info=l.ids.map(function(e){return d--,{rev:d+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&i._attachments){var p=i._attachments,v=Object.keys(p).length;if(0===v)return n(null,i);Object.keys(p).forEach(function(e){this._getAttachment(p[e],{binary:t.binary,ctx:s},function(t,r){var o=i._attachments[e];o.data=r,delete o.stub,delete o.length,--v||n(null,i)})},o)}else{if(i._attachments)for(var m in i._attachments)i._attachments.hasOwnProperty(m)&&(i._attachments[m].stub=!0);n(null,i)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?n(e):(i=S(t).map(function(e){return e.rev}),void r())});else{if(!Array.isArray(t.open_revs))return n(A(br,"function_clause"));i=t.open_revs;for(var a=0;a<i.length;a++){var s=i[a];if("string"!=typeof s||!/^\d+-/.test(s))return n(A(Ir))}r()}}),Q.prototype.getView=h("getView",function(e,t,n){X(this,e,"views",t,n)}),Q.prototype.getFilter=h("getFilter",function(e,t,n){X(this,e,"filters",t,n)}),Q.prototype.getAttachment=h("getAttachment",function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(e,o){return e?r(e):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,i._getAttachment(o.doc._attachments[t],n,r),void 0):r(A(pr))})}),Q.prototype.allDocs=h("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip="undefined"!=typeof e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(A(kr,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return G(this,e,t)}return this._allDocs(e,t)}),Q.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new T(this,e,t)},Q.prototype.close=h("close",function(e){return this._closed=!0,this._close(e)}),Q.prototype.info=h("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t._db_name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),r.adapter=t.type(),void e(null,r))})}),Q.prototype.id=h("id",function(e){return this._id(e)}),Q.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Q.prototype.bulkDocs=h("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(A(dr));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(A(Or));var i;return e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(e){i=i||J(e)})}),i?n(A(Er,i)):("new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0),t.new_edits||"http"===this.type()||e.docs.sort(V),W(e.docs),this._bulkDocs(e,t,function(e,r){return e?n(e):(t.new_edits||(r=r.filter(function(e){return e.error})),void n(null,r))}))}),Q.prototype.registerDependentDatabase=h("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},t.dependentDbs[e]?!1:(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts);d(this,"_local/_pouch_dependentDbs",n).then(function(){t(null,{db:r})})["catch"](t)}),Q.prototype.destroy=h("destroy",function(e,t){function n(){r._destroy(e,function(e,n){return e?t(e):(r._destroyed=!0,r.emit("destroyed"),void t(null,n||{ok:!0}))})}"function"==typeof e&&(t=e,e={});var r=this,i="use_prefix"in r?r.use_prefix:!0;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(e,o){if(e)return 404!==e.status?t(e):n();var a=o.dependentDbs,s=r.constructor,u=Object.keys(a).map(function(e){var t=i?e.replace(new RegExp("^"+s.prefix),""):e;return new s(t,r.__opts).destroy()});lr.all(u).then(n,t)})}),ee.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},ee.prototype.fail=function(e){this.failed=e,this.execute()},ee.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},ee.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},er(re,Q),re.debug=Qn;var Hr;if(ie())Hr=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Hr=!!localStorage.getItem("_pouch_check_localstorage")}catch(Yr){Hr=!1}re.adapters={},re.preferredAdapters=[],re.prefix="_pouch_";var Br=new ir.EventEmitter;ae(re),re.parseAdapter=function(e,t){var n,r,i=e.match(/([a-z\-]*):\/\/(.*)/);if(i){if(e=/http(s?)/.test(i[1])?i[1]+"://"+i[2]:i[2],n=i[1],!re.adapters[n].valid())throw"Invalid adapter";return{name:e,adapter:i[1]}}var o="idb"in re.adapters&&"websql"in re.adapters&&oe()&&localStorage["_pouch__websqldb_"+re.prefix+e];if(t.adapter)r=t.adapter;else if("undefined"!=typeof t&&t.db)r="leveldb";else for(var a=0;a<re.preferredAdapters.length;++a)if(r=re.preferredAdapters[a],r in re.adapters){if(o&&"idb"===r){console.log('PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}n=re.adapters[r];var s=n&&"use_prefix"in n?n.use_prefix:!0;return{name:s?re.prefix+e:e,
adapter:r}},re.adapter=function(e,t,n){t.valid()&&(re.adapters[e]=t,n&&re.preferredAdapters.push(e))},re.plugin=function(e){return Object.keys(e).forEach(function(t){re.prototype[t]=e[t]}),re},re.defaults=function(e){function t(n,r,i){return this instanceof t?("function"!=typeof r&&"undefined"!=typeof r||(i=r,r={}),n&&"object"==typeof n&&(r=n,n=void 0),r=Zn.extend({},e,r),void re.call(this,n,r,i)):new t(n,r,i)}return er(t,re),ae(t),t.preferredAdapters=re.preferredAdapters.slice(),Object.keys(re).forEach(function(e){e in t||(t[e]=re[e])}),t};var Wr=he(),Vr=function(){},$r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Gr="queryKey",zr=/(?:^|&)([^&=]*)=?([^&]*)/g,Jr=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Kr=function(e){return atob(e)},Zr=function(e){return btoa(e)},Xr=Xn.extend,Qr={ajax:me,parseUri:ge,uuid:L,Promise:lr,atob:Kr,btoa:Zr,binaryStringToBlobOrBuffer:_e,clone:c,extend:Xr,createError:A},ei=sr.collate,ti=1,ni="pouchdb",ri=5,ii=0;Se.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})},Se.prototype.updateTarget=function(e,t){return ke(this.target,this.id,e,t,this.returnValue)},Se.prototype.updateSource=function(e,t){var n=this;return this.readOnlySource?lr.resolve(!0):ke(this.src,this.id,e,t,this.returnValue)["catch"](function(e){if(je(e))return n.readOnlySource=!0,!0;throw e})};var oi={undefined:function(e,t){return 0===ei(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return Ee(t,e).last_seq}};Se.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.readOnlySource?lr.resolve(t.last_seq):e.src.get(e.id).then(function(e){if(t.version!==e.version)return ii;var n;return n=t.version?t.version.toString():"undefined",n in oi?oi[n](t,e):ii},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:ii}).then(function(){return ii},function(n){return je(n)?(e.readOnlySource=!0,t.last_seq):ii});throw n})})["catch"](function(e){if(404!==e.status)throw e;return ii})};var ai=0,si=r.setImmediate||r.setTimeout,ui=32768,ci=f(function(e,t){function n(){var r=s*o,i=r+o;if(s++,a>s)c(u,e,r,i),si(n);else{c(u,e,r,i);var l=u.end(!0),f=Ie(l);t(null,f),u.destroy()}}var r="string"==typeof e,i=r?e.length:e.byteLength,o=Math.min(ui,i),a=Math.ceil(i/o),s=0,u=r?new ur:new ur.ArrayBuffer,c=r?qe:Ce;n()});er(He,ir.EventEmitter),He.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},He.prototype.ready=function(e,t){function n(){i.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var i=this;i._readyCalled||(i._readyCalled=!0,e.once("destroyed",n),t.once("destroyed",n),i.once("complete",r))};var li={replicate:Be,toPouch:Ye},fi=li.replicate;er(Ve,ir.EventEmitter),Ve.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};var hi=25,di=50,pi={},vi=1800,mi=Qn("pouchdb:http");it.valid=function(){return!0},ot.prototype.add=function(e){return this.promise=this.promise["catch"](function(){}).then(function(){return e()}),this.promise},ot.prototype.finish=function(){return this.promise};var gi,yi=function(e,t){return t&&e.then(function(e){n.nextTick(function(){t(null,e)})},function(e){n.nextTick(function(){t(e)})}),e},_i=function(e){return rr(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&yi(r,n),r})},bi=function(e,t){return e.then(function(e){return t().then(function(){return e})},function(e){return t().then(function(){throw e})})},wi=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},xi=function(e){for(var t={},n=0,r=e.length;r>n;n++)t["$"+e[n]]=!0;var i=Object.keys(t),o=new Array(i.length);for(n=0,r=i.length;r>n;n++)o[n]=i[n].substring(1);return o},ki={uniq:xi,sequentialize:wi,fin:bi,callbackify:_i,promisedCallback:yi},Si=sr.collate,Ei=sr.toIndexableString,Oi=sr.normalizeKey,Ai=sr.parseIndexableString;gi="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var ji=ki.callbackify,Ti=ki.sequentialize,Di=ki.uniq,Mi=ki.fin,Ii=ki.promisedCallback,Ci={},qi=new ot,Li=50,Ri={_sum:function(e,t){return _t(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;r>n;n++){var i=e[n];t+=i*i}return t}return{sum:_t(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}},Pi=ji(function(){var e=this;return e._ddocCache&&delete e._ddocCache,"http"===e.type()?Pt(e):"function"==typeof e._viewCleanup?At(e):Nt(e)}),Ni=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=t?xt(t):{},"function"==typeof e&&(e={map:e});var r=this,i=lr.resolve().then(function(){return Ft(r,e,t)});return Ii(i,n),i};er(Ut,Error),er(Ht,Error);var Fi={query:Ni,viewCleanup:Pi},Ui=5,Hi="document-store",Yi="by-sequence",Bi="attach-store",Wi="attach-seq-store",Vi="meta-store",$i="local-store",Gi="detect-blob-support",zi={running:!1,queue:[]};er(En,ir.EventEmitter),En.prototype.addListener=function(e,t,n,r){function i(){function e(){s=!1}if(a._listeners[t]){if(s)return void(s="waiting");s=!0;var u=o(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===s&&setTimeout(function(){i()},0),s=!1}).on("error",e)}}if(!this._listeners[t]){var a=this,s=!1;this._listeners[t]=i,this.on(e,i)}},En.prototype.removeListener=function(e,t){t in this._listeners&&ir.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t])},En.prototype.notifyLocalWindows=function(e){ie()?chrome.storage.local.set({dbName:e}):oe()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},En.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Ji,Ki=new nr.Map,Zi=new En,Xi=new nr.Map;On.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Qi=7,eo=qn("document-store"),to=qn("by-sequence"),no=qn("attach-store"),ro=qn("local-store"),io=qn("metadata-store"),oo=qn("attach-seq-store"),ao=new nr.Map,so=new En,uo=1,co="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+to+" (seq, deleted)",lo="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+to+" (doc_id, rev)",fo="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+eo+" (winningseq)",ho="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+oo+" (seq)",po="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+oo+" (digest, seq)",vo=to+".seq = "+eo+".winningseq",mo=to+".seq AS seq, "+to+".deleted AS deleted, "+to+".json AS data, "+to+".rev AS rev, "+eo+".json AS metadata";Kn.use_prefix=!("undefined"!=typeof n&&!n.browser),Kn.valid=Rn;var go={idb:On,websql:Kn};re.ajax=me,re.utils=Qr,re.Errors=Rr,re.replicate=li.replicate,re.sync=We,re.version="5.3.1",re.adapter("http",it),re.adapter("https",it),re.plugin(Fi),Object.keys(go).forEach(function(e){re.adapter(e,go[e],!0)}),t.exports=re}).call(this,e(13),"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,10:10,12:12,13:13,14:14,15:15,16:16,2:2,4:4,6:6,7:7,8:8}]},{},[17])(17)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],133:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):f=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],134:[function(e,t,n){"use strict";t.exports=e("./lib")},{"./lib":139}],135:[function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(t){return g=t,y}}function o(e,t){try{return e(t)}catch(n){return g=n,y}}function a(e,t,n){try{e(t,n)}catch(r){return g=r,y}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&v(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new p(t,n,a))})}function c(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void l(e,t)}function l(e,t){m(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?f(t.promise,e._65):h(t.promise,e._65));var r=o(n,e._65);r===y?h(t.promise,g):f(t.promise,r)})}function f(e,t){if(t===e)return h(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===y)return h(e,g);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void d(e);if("function"==typeof n)return void v(n.bind(t),e)}e._81=1,e._65=t,d(e)}function h(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),d(e)}function d(e){if(1===e._45&&(c(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)c(e,e._54[t]);e._54=null}}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function v(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,h(t,e))});n||r!==y||(n=!0,h(t,g))}var m=e("asap/raw"),g=null,y={};t.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new p(e,t,n)),n}},{"asap/raw":29}],136:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(e){setTimeout(function(){throw e},0)})}},{"./core.js":135}],137:[function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=e("./core.js");t.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(e===!0)return o;if(e===!1)return a;if(0===e)return c;if(""===e)return l;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(a,s._65):(2===s._81&&n(s._65),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"==typeof u){var c=new i(u.bind(s));return void c.then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype["catch"]=function(e){return this.then(null,e)}},{"./core.js":135}],138:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.prototype["finally"]=function(e){return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})}},{"./core.js":135}],139:[function(e,t,n){"use strict";t.exports=e("./core.js"),e("./done.js"),e("./finally.js"),e("./es6-extensions.js"),e("./node-extensions.js"),e("./synchronous.js")},{"./core.js":135,"./done.js":136,"./es6-extensions.js":137,"./finally.js":138,"./node-extensions.js":140,"./synchronous.js":141}],140:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;t>r;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([s]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(o,e)}function i(e){for(var t=Math.max(e.length-1,3),n=[],r=0;t>r;r++)n.push("a"+r);var i=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+s+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(e,t){return"case "+t+":res = fn.call("+["self"].concat(n.slice(0,t)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],i)(o,e)}var o=e("./core.js"),a=e("asap");t.exports=o,o.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?r(e,t):i(e)};var s="function (err, res) {if (err) { rj(err); } else { rs(res); }}";o.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),n="function"==typeof t[t.length-1]?t.pop():null,r=this;try{return e.apply(this,arguments).nodeify(n,r)}catch(i){if(null===n||"undefined"==typeof n)return new o(function(e,t){t(i)});a(function(){n.call(r,i)})}}},o.prototype.nodeify=function(e,t){return"function"!=typeof e?this:void this.then(function(n){a(function(){e.call(t,null,n)})},function(n){a(function(){e.call(t,n)})})}},{"./core.js":135,asap:28}],141:[function(e,t,n){"use strict";var r=e("./core.js");t.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._81)return this._65.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._65},r.prototype.getReason=function(){if(3===this._81)return this._65.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._65},r.prototype.getState=function(){return 3===this._81?this._65.getState():-1===this._81||-2===this._81?0:this._81}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},{"./core.js":135}],142:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!j(n)&&b.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function r(e){return function(t,n,r){n=x(n,r);for(var i=A(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,s=A(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(h.call(r,a,s),b.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=C.length,r=e.constructor,i=b.isFunction(r)&&r.prototype||c,o="constructor";for(b.has(e,o)&&!b.contains(t,o)&&t.push(o);n--;)o=C[n],o in e&&e[o]!==i[o]&&!b.contains(t,o)&&t.push(o)}var a=this,s=a._,u=Array.prototype,c=Object.prototype,l=Function.prototype,f=u.push,h=u.slice,d=c.toString,p=c.hasOwnProperty,v=Array.isArray,m=Object.keys,g=l.bind,y=Object.create,_=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=b),n._=b):a._=b,b.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?b.identity:b.isFunction(e)?w(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return x(e,t,1/0)};var k=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;s>u;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}},S=function(e){if(!b.isObject(e))return{};if(y)return y(e);_.prototype=e;var t=new _;return _.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},O=Math.pow(2,53)-1,A=E("length"),j=function(e){var t=A(e);return"number"==typeof t&&t>=0&&O>=t};b.each=b.forEach=function(e,t,n){t=w(t,n);var r,i;if(j(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=b.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},b.map=b.collect=function(e,t,n){t=x(t,n);for(var r=!j(e)&&b.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,n){var r;return r=j(e)?b.findIndex(e,t,n):b.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},b.filter=b.select=function(e,t,n){var r=[];return t=x(t,n),b.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},b.reject=function(e,t,n){return b.filter(e,b.negate(x(t)),n)},b.every=b.all=function(e,t,n){t=x(t,n);for(var r=!j(e)&&b.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,n){t=x(t,n);for(var r=!j(e)&&b.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,r){return j(e)||(e=b.values(e)),("number"!=typeof n||r)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=h.call(arguments,2),r=b.isFunction(t);return b.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=j(e)?e:b.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>o&&(o=r)}else t=x(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},b.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=j(e)?e:b.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],o>r&&(o=r)}else t=x(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(a>i||i===1/0&&o===1/0)&&(o=e,a=i)});return o},b.shuffle=function(e){for(var t,n=j(e)?e:b.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=b.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},b.sample=function(e,t,n){return null==t||n?(j(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=x(t,n),b.pluck(b.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=x(n,r),b.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};b.groupBy=T(function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=T(function(e,t,n){e[n]=t}),b.countBy=T(function(e,t,n){b.has(e,n)?e[n]++:e[n]=1}),b.toArray=function(e){return e?b.isArray(e)?h.call(e):j(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:j(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=x(t,n);var r=[],i=[];return b.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},b.first=b.head=b.take=function(e,t,n){return null!=e?null==t||n?e[0]:b.initial(e,e.length-t):void 0},b.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t)):void 0},b.rest=b.tail=b.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var D=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=A(e);s>a;a++){var u=e[a];if(j(u)&&(b.isArray(u)||b.isArguments(u))){t||(u=D(u,t,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};b.flatten=function(e,t){return D(e,t,!1)},b.without=function(e){return b.difference(e,h.call(arguments,1))},b.uniq=b.unique=function(e,t,n,r){b.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var i=[],o=[],a=0,s=A(e);s>a;a++){var u=e[a],c=n?n(u,a,e):u;t?(a&&o===c||i.push(u),o=c):n?b.contains(o,c)||(o.push(c),i.push(u)):b.contains(i,u)||i.push(u)}return i},b.union=function(){return b.uniq(D(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=A(e);i>r;r++){var o=e[r];if(!b.contains(t,o)){for(var a=1;n>a&&b.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},b.difference=function(e){var t=D(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,A).length||0,n=Array(t),r=0;t>r;r++)n[r]=b.pluck(e,r);return n},b.object=function(e,t){for(var n={},r=0,i=A(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(e,t,n,r){n=x(n,r,1);for(var i=n(t),o=0,a=A(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=S(e.prototype),a=e.apply(o,i);return b.isObject(a)?a:o};b.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,h.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function(){return M(e,r,t,this,n.concat(h.call(arguments)))};return r},b.partial=function(e){var t=h.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===b?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return M(e,n,this,this,o)};return n},b.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return b.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},b.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:b.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=b.now();s||n.leading!==!1||(s=c);var l=t-(c-s);return r=this,i=arguments,0>=l||l>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,l)),o}},b.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var c=b.now()-a;t>c&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=b.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},b.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},b.once=b.partial(b.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return I&&o(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&o(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},b.mapObject=function(e,t,n){t=x(t,n);for(var r,i=b.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},b.pairs=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},b.invert=function(e){for(var t={},n=b.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=k(b.allKeys),b.extendOwn=b.assign=k(b.keys),b.findKey=function(e,t,n){t=x(t,n);for(var r,i=b.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},b.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;b.isFunction(t)?(i=b.allKeys(a),r=w(t,n)):(i=D(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;u>s;s++){var c=i[s],l=a[c];r(l,c,a)&&(o[c]=l)}return o},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(D(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(r,t)}}return b.pick(e,t,n)},b.defaults=k(b.allKeys,!0),b.create=function(e,t){var n=S(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var q=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!q(e[u],t[u],n,r))return!1}else{var c,l=b.keys(e);if(u=l.length,b.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!b.has(t,c)||!q(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};b.isEqual=function(e,t){return q(e,t)},b.isEmpty=function(e){return null==e?!0:j(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=v||function(e){return"[object Array]"===d.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&p.call(e,t)},b.noConflict=function(){return a._=s,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=E,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=b.invert(L),P=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};b.escape=P(L),b.unescape=P(R),b.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),b.isFunction(r)?r.call(e):r};var N=0;b.uniqueId=function(e){var t=++N+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+U[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(H,Y),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,b)},c=t.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},b.chain=function(e){var t=b(e);return t._chain=!0,t};var B=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),B(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],B(this,n)}}),b.each(["concat","join","slice"],function(e){var t=u[e];b.prototype[e]=function(){return B(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],143:[function(e,t,n){t.exports={name:"capot",version:"1.3.3",author:{name:"Lupo Montero",url:"http://lupomontero.com"},license:"MIT",
repository:"lupomontero/capot",homepage:"https://github.com/lupomontero/capot",scripts:{pretest:"gulp lint",test:"gulp test:server && gulp test:client"},dependencies:{async:"^1.5.2",backbone:"^1.3.3",boom:"^3.1.1",follow:"^0.12.1",good:"^6.6.0","good-console":"^5.3.1",h2o2:"^5.1.0",handlebars:"^4.0.5",hapi:"^13.3.0","hapi-auth-cookie":"^6.1.1",inert:"^3.2.0",joi:"^8.0.5",lodash:"^4.11.1",minimist:"^1.1.3",moment:"^2.13.0",multicouch:"^0.8.2",nodemailer:"^2.3.2",oauth:"^0.9.14",pouchdb:"5.3.1",promise:"^7.1.1",read:"^1.0.6",request:"^2.72.0",which:"^1.2.1"},devDependencies:{browserify:"^13.0.0",eslint:"^2.8.0","eslint-config-hapi":"^9.1.0","eslint-plugin-hapi":"^4.0.0",gulp:"^3.9.1","gulp-concat":"^2.6.0","gulp-declare":"^0.3.0","gulp-eslint":"^2.0.0","gulp-favicons":"^2.2.6","gulp-handlebars":"^4.0.0","gulp-mocha":"^2.2.0","gulp-rename":"^1.2.0","gulp-uglify":"^1.5.3","gulp-util":"^3.0.7","gulp-wrap":"^0.11.0",karma:"^0.13.22","karma-browserify":"^5.0.3","karma-env-preprocessor":"^0.1.1","karma-mocha":"^0.2.2","karma-mocha-reporter":"^2.0.1","karma-phantomjs-launcher":"^1.0.0",longjohn:"^0.2.11",lout:"^9.0.0","merge-stream":"^1.0.0",mkdirp:"^0.5.1",mocha:"^2.3.4","phantomjs-prebuilt":"^2.1.7",rimraf:"^2.5.2",sinon:"^1.17.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.0.0",vision:"^4.1.0",watchify:"^3.7.0"},browser:{handlebars:"handlebars/runtime.js",pouchdb:"pouchdb/dist/pouchdb.js",extend:"lodash/assignIn.js",omit:"lodash/omit.js"}}},{}]},{},[3]);